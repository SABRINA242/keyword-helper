(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ip={exports:{}},fs={},Ap={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=Symbol.for("react.element"),ny=Symbol.for("react.portal"),ry=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),sy=Symbol.for("react.provider"),ly=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),cy=Symbol.for("react.memo"),dy=Symbol.for("react.lazy"),Zu=Symbol.iterator;function fy(e){return e===null||typeof e!="object"?null:(e=Zu&&e[Zu]||e["@@iterator"],typeof e=="function"?e:null)}var Np={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pp=Object.assign,Rp={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Np}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bp(){}bp.prototype=Br.prototype;function Ma(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Np}var Da=Ma.prototype=new bp;Da.constructor=Ma;Pp(Da,Br.prototype);Da.isPureReactComponent=!0;var Xu=Array.isArray,Mp=Object.prototype.hasOwnProperty,La={current:null},Dp={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Mp.call(t,r)&&!Dp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Oi,type:e,key:o,ref:s,props:i,_owner:La.current}}function py(e,t){return{$$typeof:Oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oi}function hy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ju=/\/+/g;function Fs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hy(""+e.key):t.toString(36)}function _o(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Oi:case ny:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Fs(s,0):r,Xu(i)?(n="",e!=null&&(n=e.replace(ju,"$&/")+"/"),_o(i,t,n,"",function(c){return c})):i!=null&&(Fa(i)&&(i=py(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ju,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Xu(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Fs(o,l);s+=_o(o,t,n,a,i)}else if(a=fy(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Fs(o,l++),s+=_o(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Zi(e,t,n){if(e==null)return e;var r=[],i=0;return _o(e,r,"","",function(o){return t.call(n,o,i++)}),r}function my(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},So={transition:null},gy={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:So,ReactCurrentOwner:La};function Fp(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Zi,forEach:function(e,t,n){Zi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zi(e,function(){t++}),t},toArray:function(e){return Zi(e,function(t){return t})||[]},only:function(e){if(!Fa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Br;ye.Fragment=ry;ye.Profiler=oy;ye.PureComponent=Ma;ye.StrictMode=iy;ye.Suspense=uy;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gy;ye.act=Fp;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pp({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=La.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Mp.call(t,a)&&!Dp.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Oi,type:e.type,key:i,ref:o,props:r,_owner:s}};ye.createContext=function(e){return e={$$typeof:ly,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sy,_context:e},e.Consumer=e};ye.createElement=Lp;ye.createFactory=function(e){var t=Lp.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:ay,render:e}};ye.isValidElement=Fa;ye.lazy=function(e){return{$$typeof:dy,_payload:{_status:-1,_result:e},_init:my}};ye.memo=function(e,t){return{$$typeof:cy,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=So.transition;So.transition={};try{e()}finally{So.transition=t}};ye.unstable_act=Fp;ye.useCallback=function(e,t){return at.current.useCallback(e,t)};ye.useContext=function(e){return at.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return at.current.useDeferredValue(e)};ye.useEffect=function(e,t){return at.current.useEffect(e,t)};ye.useId=function(){return at.current.useId()};ye.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return at.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};ye.useRef=function(e){return at.current.useRef(e)};ye.useState=function(e){return at.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return at.current.useTransition()};ye.version="18.3.1";Ap.exports=ye;var ae=Ap.exports;const yy=Vi(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=ae,xy=Symbol.for("react.element"),_y=Symbol.for("react.fragment"),Sy=Object.prototype.hasOwnProperty,wy=vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cy={key:!0,ref:!0,__self:!0,__source:!0};function Up(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Sy.call(t,r)&&!Cy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:xy,type:e,key:o,ref:s,props:i,_owner:wy.current}}fs.Fragment=_y;fs.jsx=Up;fs.jsxs=Up;Ip.exports=fs;var E=Ip.exports,_l={},zp={exports:{}},kt={},Bp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,L){var k=F.length;F.push(L);e:for(;0<k;){var z=k-1>>>1,V=F[z];if(0<i(V,L))F[z]=L,F[k]=V,k=z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],k=F.pop();if(k!==L){F[0]=k;e:for(var z=0,V=F.length,R=V>>>1;z<R;){var Q=2*(z+1)-1,j=F[Q],de=Q+1,ve=F[de];if(0>i(j,k))de<V&&0>i(ve,j)?(F[z]=ve,F[de]=k,z=de):(F[z]=j,F[Q]=k,z=Q);else if(de<V&&0>i(ve,k))F[z]=ve,F[de]=k,z=de;else break e}}return L}function i(F,L){var k=F.sortIndex-L.sortIndex;return k!==0?k:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],c=[],f=1,p=null,h=3,m=!1,x=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=F)r(c),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(c)}}function T(F){if(y=!1,S(F),!x)if(n(a)!==null)x=!0,Z(I);else{var L=n(c);L!==null&&J(T,L.startTime-F)}}function I(F,L){x=!1,y&&(y=!1,g(U),U=-1),m=!0;var k=h;try{for(S(L),p=n(a);p!==null&&(!(p.expirationTime>L)||F&&!K());){var z=p.callback;if(typeof z=="function"){p.callback=null,h=p.priorityLevel;var V=z(p.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?p.callback=V:p===n(a)&&r(a),S(L)}else r(a);p=n(a)}if(p!==null)var R=!0;else{var Q=n(c);Q!==null&&J(T,Q.startTime-L),R=!1}return R}finally{p=null,h=k,m=!1}}var A=!1,M=null,U=-1,D=5,O=-1;function K(){return!(e.unstable_now()-O<D)}function N(){if(M!==null){var F=e.unstable_now();O=F;var L=!0;try{L=M(!0,F)}finally{L?H():(A=!1,M=null)}}else A=!1}var H;if(typeof v=="function")H=function(){v(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,B=w.port2;w.port1.onmessage=N,H=function(){B.postMessage(null)}}else H=function(){C(N,0)};function Z(F){M=F,A||(A=!0,H())}function J(F,L){U=C(function(){F(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,Z(I))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var k=h;h=L;try{return F()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var k=h;h=F;try{return L()}finally{h=k}},e.unstable_scheduleCallback=function(F,L,k){var z=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?z+k:z):k=z,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=k+V,F={id:f++,callback:L,priorityLevel:F,startTime:k,expirationTime:V,sortIndex:-1},k>z?(F.sortIndex=k,t(c,F),n(a)===null&&F===n(c)&&(y?(g(U),U=-1):y=!0,J(T,k-z))):(F.sortIndex=V,t(a,F),x||m||(x=!0,Z(I))),F},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(F){var L=h;return function(){var k=h;h=L;try{return F.apply(this,arguments)}finally{h=k}}}})(Vp);Bp.exports=Vp;var Ey=Bp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=ae,Tt=Ey;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Op=new Set,wi={};function tr(e,t){br(e,t),br(e+"Capture",t)}function br(e,t){for(wi[e]=t,e=0;e<t.length;e++)Op.add(t[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=Object.prototype.hasOwnProperty,ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ec={},tc={};function Iy(e){return Sl.call(tc,e)?!0:Sl.call(ec,e)?!1:ky.test(e)?tc[e]=!0:(ec[e]=!0,!1)}function Ay(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ny(e,t,n,r){if(t===null||typeof t>"u"||Ay(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ua=/[\-:]([a-z])/g;function za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ua,za);Qe[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ua,za);Qe[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ua,za);Qe[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ba(e,t,n,r){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ny(t,n,i,r)&&(n=null),r||i===null?Iy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pn=Ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),ar=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),Va=Symbol.for("react.strict_mode"),wl=Symbol.for("react.profiler"),Gp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),Oa=Symbol.for("react.forward_ref"),Cl=Symbol.for("react.suspense"),El=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),qp=Symbol.for("react.offscreen"),nc=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Us;function oi(e){if(Us===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Us=t&&t[1]||""}return`
`+Us+e}var zs=!1;function Bs(e,t){if(!e||zs)return"";zs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{zs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oi(e):""}function Py(e){switch(e.tag){case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 2:case 15:return e=Bs(e.type,!1),e;case 11:return e=Bs(e.type.render,!1),e;case 1:return e=Bs(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case ar:return"Portal";case wl:return"Profiler";case Va:return"StrictMode";case Cl:return"Suspense";case El:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hp:return(e.displayName||"Context")+".Consumer";case Gp:return(e._context.displayName||"Context")+".Provider";case Oa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function Ry(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===Va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $p(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function by(e){var t=$p(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ji(e){e._valueTracker||(e._valueTracker=by(e))}function Jp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$p(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kl(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wp(e,t){t=t.checked,t!=null&&Ba(e,"checked",t,!1)}function Il(e,t){Wp(e,t);var n=Ln(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Al(e,t.type,n):t.hasOwnProperty("defaultValue")&&Al(e,t.type,Ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ic(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Al(e,t,n){(t!=="number"||Fo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var si=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ln(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(si(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ln(n)}}function Kp(e,t){var n=Ln(t.value),r=Ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eo,Qp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ci(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},My=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(e){My.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ui[t]=ui[e]})});function Zp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ui.hasOwnProperty(e)&&ui[e]?(""+t).trim():t+"px"}function Xp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Dy=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(e,t){if(t){if(Dy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=null;function Ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dl=null,wr=null,Cr=null;function lc(e){if(e=qi(e)){if(typeof Dl!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=ys(t),Dl(e.stateNode,e.type,t))}}function jp(e){wr?Cr?Cr.push(e):Cr=[e]:wr=e}function eh(){if(wr){var e=wr,t=Cr;if(Cr=wr=null,lc(e),t)for(e=0;e<t.length;e++)lc(t[e])}}function th(e,t){return e(t)}function nh(){}var Vs=!1;function rh(e,t,n){if(Vs)return e(t,n);Vs=!0;try{return th(e,t,n)}finally{Vs=!1,(wr!==null||Cr!==null)&&(nh(),eh())}}function Ei(e,t){var n=e.stateNode;if(n===null)return null;var r=ys(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var Ll=!1;if(an)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Ll=!1}function Ly(e,t,n,r,i,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var ci=!1,Uo=null,zo=!1,Fl=null,Fy={onError:function(e){ci=!0,Uo=e}};function Uy(e,t,n,r,i,o,s,l,a){ci=!1,Uo=null,Ly.apply(Fy,arguments)}function zy(e,t,n,r,i,o,s,l,a){if(Uy.apply(this,arguments),ci){if(ci){var c=Uo;ci=!1,Uo=null}else throw Error(ne(198));zo||(zo=!0,Fl=c)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ih(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ac(e){if(nr(e)!==e)throw Error(ne(188))}function By(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ac(i),e;if(o===r)return ac(i),t;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function oh(e){return e=By(e),e!==null?sh(e):null}function sh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sh(e);if(t!==null)return t;e=e.sibling}return null}var lh=Tt.unstable_scheduleCallback,uc=Tt.unstable_cancelCallback,Vy=Tt.unstable_shouldYield,Oy=Tt.unstable_requestPaint,Oe=Tt.unstable_now,Gy=Tt.unstable_getCurrentPriorityLevel,qa=Tt.unstable_ImmediatePriority,ah=Tt.unstable_UserBlockingPriority,Bo=Tt.unstable_NormalPriority,Hy=Tt.unstable_LowPriority,uh=Tt.unstable_IdlePriority,ps=null,Zt=null;function qy(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ps,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Wy,$y=Math.log,Jy=Math.LN2;function Wy(e){return e>>>=0,e===0?32:31-($y(e)/Jy|0)|0}var to=64,no=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=li(l):(o&=s,o!==0&&(r=li(o)))}else s=n&~i,s!==0?r=li(s):o!==0&&(r=li(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ot(t),i=1<<n,r|=e[n],t&=~i;return r}function Ky(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ot(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Ky(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ch(){var e=to;return to<<=1,!(to&4194240)&&(to=64),e}function Os(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function Qy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ot(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function $a(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ee=0;function dh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,Ja,ph,hh,mh,zl=!1,ro=[],In=null,An=null,Nn=null,Ti=new Map,ki=new Map,Sn=[],Zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Qr(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qi(t),t!==null&&Ja(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xy(e,t,n,r,i){switch(t){case"focusin":return In=Qr(In,e,t,n,r,i),!0;case"dragenter":return An=Qr(An,e,t,n,r,i),!0;case"mouseover":return Nn=Qr(Nn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ti.set(o,Qr(Ti.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ki.set(o,Qr(ki.get(o)||null,e,t,n,r,i)),!0}return!1}function gh(e){var t=$n(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=ih(n),t!==null){e.blockedOn=t,mh(e.priority,function(){ph(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ml=r,n.target.dispatchEvent(r),Ml=null}else return t=qi(n),t!==null&&Ja(t),e.blockedOn=n,!1;t.shift()}return!0}function dc(e,t,n){wo(e)&&n.delete(t)}function jy(){zl=!1,In!==null&&wo(In)&&(In=null),An!==null&&wo(An)&&(An=null),Nn!==null&&wo(Nn)&&(Nn=null),Ti.forEach(dc),ki.forEach(dc)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,jy)))}function Ii(e){function t(i){return Zr(i,e)}if(0<ro.length){Zr(ro[0],e);for(var n=1;n<ro.length;n++){var r=ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(In!==null&&Zr(In,e),An!==null&&Zr(An,e),Nn!==null&&Zr(Nn,e),Ti.forEach(t),ki.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)gh(n),n.blockedOn===null&&Sn.shift()}var Er=pn.ReactCurrentBatchConfig,Oo=!0;function e0(e,t,n,r){var i=Ee,o=Er.transition;Er.transition=null;try{Ee=1,Wa(e,t,n,r)}finally{Ee=i,Er.transition=o}}function t0(e,t,n,r){var i=Ee,o=Er.transition;Er.transition=null;try{Ee=4,Wa(e,t,n,r)}finally{Ee=i,Er.transition=o}}function Wa(e,t,n,r){if(Oo){var i=Bl(e,t,n,r);if(i===null)Zs(e,t,r,Go,n),cc(e,r);else if(Xy(i,e,t,n,r))r.stopPropagation();else if(cc(e,r),t&4&&-1<Zy.indexOf(e)){for(;i!==null;){var o=qi(i);if(o!==null&&fh(o),o=Bl(e,t,n,r),o===null&&Zs(e,t,r,Go,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zs(e,t,r,null,n)}}var Go=null;function Bl(e,t,n,r){if(Go=null,e=Ha(r),e=$n(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ih(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Go=e,null}function yh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gy()){case qa:return 1;case ah:return 4;case Bo:case Hy:return 16;case uh:return 536870912;default:return 16}default:return 16}}var En=null,Ka=null,Co=null;function vh(){if(Co)return Co;var e,t=Ka,n=t.length,r,i="value"in En?En.value:En.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Co=i.slice(e,1<r?1-r:void 0)}function Eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function io(){return!0}function fc(){return!1}function It(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?io:fc,this.isPropagationStopped=fc,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=It(Vr),Hi=ze({},Vr,{view:0,detail:0}),n0=It(Hi),Gs,Hs,Xr,hs=ze({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(Gs=e.screenX-Xr.screenX,Hs=e.screenY-Xr.screenY):Hs=Gs=0,Xr=e),Gs)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),pc=It(hs),r0=ze({},hs,{dataTransfer:0}),i0=It(r0),o0=ze({},Hi,{relatedTarget:0}),qs=It(o0),s0=ze({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),l0=It(s0),a0=ze({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u0=It(a0),c0=ze({},Vr,{data:0}),hc=It(c0),d0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p0[e])?!!t[e]:!1}function Qa(){return h0}var m0=ze({},Hi,{key:function(e){if(e.key){var t=d0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(e){return e.type==="keypress"?Eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g0=It(m0),y0=ze({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=It(y0),v0=ze({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),x0=It(v0),_0=ze({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S0=It(_0),w0=ze({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C0=It(w0),E0=[9,13,27,32],Za=an&&"CompositionEvent"in window,di=null;an&&"documentMode"in document&&(di=document.documentMode);var T0=an&&"TextEvent"in window&&!di,xh=an&&(!Za||di&&8<di&&11>=di),gc=" ",yc=!1;function _h(e,t){switch(e){case"keyup":return E0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function k0(e,t){switch(e){case"compositionend":return Sh(t);case"keypress":return t.which!==32?null:(yc=!0,gc);case"textInput":return e=t.data,e===gc&&yc?null:e;default:return null}}function I0(e,t){if(cr)return e==="compositionend"||!Za&&_h(e,t)?(e=vh(),Co=Ka=En=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xh&&t.locale!=="ko"?null:t.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A0[e.type]:t==="textarea"}function wh(e,t,n,r){jp(r),t=Ho(t,"onChange"),0<t.length&&(n=new Ya("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fi=null,Ai=null;function N0(e){Mh(e,0)}function ms(e){var t=pr(e);if(Jp(t))return e}function P0(e,t){if(e==="change")return t}var Ch=!1;if(an){var $s;if(an){var Js="oninput"in document;if(!Js){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Js=typeof xc.oninput=="function"}$s=Js}else $s=!1;Ch=$s&&(!document.documentMode||9<document.documentMode)}function _c(){fi&&(fi.detachEvent("onpropertychange",Eh),Ai=fi=null)}function Eh(e){if(e.propertyName==="value"&&ms(Ai)){var t=[];wh(t,Ai,e,Ha(e)),rh(N0,t)}}function R0(e,t,n){e==="focusin"?(_c(),fi=t,Ai=n,fi.attachEvent("onpropertychange",Eh)):e==="focusout"&&_c()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(Ai)}function M0(e,t){if(e==="click")return ms(t)}function D0(e,t){if(e==="input"||e==="change")return ms(t)}function L0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:L0;function Ni(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sl.call(t,i)||!Ht(e[i],t[i]))return!1}return!0}function Sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wc(e,t){var n=Sc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sc(n)}}function Th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kh(){for(var e=window,t=Fo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fo(e.document)}return t}function Xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F0(e){var t=kh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Th(n.ownerDocument.documentElement,n)){if(r!==null&&Xa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=wc(n,o);var s=wc(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U0=an&&"documentMode"in document&&11>=document.documentMode,dr=null,Vl=null,pi=null,Ol=!1;function Cc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ol||dr==null||dr!==Fo(r)||(r=dr,"selectionStart"in r&&Xa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pi&&Ni(pi,r)||(pi=r,r=Ho(Vl,"onSelect"),0<r.length&&(t=new Ya("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},Ws={},Ih={};an&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function gs(e){if(Ws[e])return Ws[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ih)return Ws[e]=t[n];return e}var Ah=gs("animationend"),Nh=gs("animationiteration"),Ph=gs("animationstart"),Rh=gs("transitionend"),bh=new Map,Ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){bh.set(e,t),tr(t,[e])}for(var Ks=0;Ks<Ec.length;Ks++){var Ys=Ec[Ks],z0=Ys.toLowerCase(),B0=Ys[0].toUpperCase()+Ys.slice(1);Un(z0,"on"+B0)}Un(Ah,"onAnimationEnd");Un(Nh,"onAnimationIteration");Un(Ph,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Rh,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function Tc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zy(r,t,void 0,e),e.currentTarget=null}function Mh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Tc(i,l,c),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Tc(i,l,c),o=a}}}if(zo)throw e=Fl,zo=!1,Fl=null,e}function Re(e,t){var n=t[Jl];n===void 0&&(n=t[Jl]=new Set);var r=e+"__bubble";n.has(r)||(Dh(t,e,2,!1),n.add(r))}function Qs(e,t,n){var r=0;t&&(r|=4),Dh(n,e,r,t)}var so="_reactListening"+Math.random().toString(36).slice(2);function Pi(e){if(!e[so]){e[so]=!0,Op.forEach(function(n){n!=="selectionchange"&&(V0.has(n)||Qs(n,!1,e),Qs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[so]||(t[so]=!0,Qs("selectionchange",!1,t))}}function Dh(e,t,n,r){switch(yh(t)){case 1:var i=e0;break;case 4:i=t0;break;default:i=Wa}n=i.bind(null,t,n,e),i=void 0,!Ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zs(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=$n(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}rh(function(){var c=o,f=Ha(n),p=[];e:{var h=bh.get(e);if(h!==void 0){var m=Ya,x=e;switch(e){case"keypress":if(Eo(n)===0)break e;case"keydown":case"keyup":m=g0;break;case"focusin":x="focus",m=qs;break;case"focusout":x="blur",m=qs;break;case"beforeblur":case"afterblur":m=qs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=i0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=x0;break;case Ah:case Nh:case Ph:m=l0;break;case Rh:m=S0;break;case"scroll":m=n0;break;case"wheel":m=C0;break;case"copy":case"cut":case"paste":m=u0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mc}var y=(t&4)!==0,C=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,S;v!==null;){S=v;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,g!==null&&(T=Ei(v,g),T!=null&&y.push(Ri(v,T,S)))),C)break;v=v.return}0<y.length&&(h=new m(h,x,null,n,f),p.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Ml&&(x=n.relatedTarget||n.fromElement)&&($n(x)||x[un]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?$n(x):null,x!==null&&(C=nr(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(y=pc,T="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=mc,T="onPointerLeave",g="onPointerEnter",v="pointer"),C=m==null?h:pr(m),S=x==null?h:pr(x),h=new y(T,v+"leave",m,n,f),h.target=C,h.relatedTarget=S,T=null,$n(f)===c&&(y=new y(g,v+"enter",x,n,f),y.target=S,y.relatedTarget=C,T=y),C=T,m&&x)t:{for(y=m,g=x,v=0,S=y;S;S=or(S))v++;for(S=0,T=g;T;T=or(T))S++;for(;0<v-S;)y=or(y),v--;for(;0<S-v;)g=or(g),S--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=or(y),g=or(g)}y=null}else y=null;m!==null&&kc(p,h,m,y,!1),x!==null&&C!==null&&kc(p,C,x,y,!0)}}e:{if(h=c?pr(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var I=P0;else if(vc(h))if(Ch)I=D0;else{I=b0;var A=R0}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=M0);if(I&&(I=I(e,c))){wh(p,I,n,f);break e}A&&A(e,h,c),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Al(h,"number",h.value)}switch(A=c?pr(c):window,e){case"focusin":(vc(A)||A.contentEditable==="true")&&(dr=A,Vl=c,pi=null);break;case"focusout":pi=Vl=dr=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,Cc(p,n,f);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":Cc(p,n,f)}var M;if(Za)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else cr?_h(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(xh&&n.locale!=="ko"&&(cr||U!=="onCompositionStart"?U==="onCompositionEnd"&&cr&&(M=vh()):(En=f,Ka="value"in En?En.value:En.textContent,cr=!0)),A=Ho(c,U),0<A.length&&(U=new hc(U,e,null,n,f),p.push({event:U,listeners:A}),M?U.data=M:(M=Sh(n),M!==null&&(U.data=M)))),(M=T0?k0(e,n):I0(e,n))&&(c=Ho(c,"onBeforeInput"),0<c.length&&(f=new hc("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=M))}Mh(p,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ei(e,n),o!=null&&r.unshift(Ri(e,o,i)),o=Ei(e,t),o!=null&&r.push(Ri(e,o,i))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kc(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Ei(n,o),a!=null&&s.unshift(Ri(n,a,l))):i||(a=Ei(n,o),a!=null&&s.push(Ri(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var O0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(O0,`
`).replace(G0,"")}function lo(e,t,n){if(t=Ic(t),Ic(e)!==t&&n)throw Error(ne(425))}function qo(){}var Gl=null,Hl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,Ac=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ac<"u"?function(e){return Ac.resolve(null).then(e).catch($0)}:$l;function $0(e){setTimeout(function(){throw e})}function Xs(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ii(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ii(t)}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Or,bi="__reactProps$"+Or,un="__reactContainer$"+Or,Jl="__reactEvents$"+Or,J0="__reactListeners$"+Or,W0="__reactHandles$"+Or;function $n(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[un]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nc(e);e!==null;){if(n=e[Yt])return n;e=Nc(e)}return t}e=n,n=e.parentNode}return null}function qi(e){return e=e[Yt]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function ys(e){return e[bi]||null}var Wl=[],hr=-1;function zn(e){return{current:e}}function Me(e){0>hr||(e.current=Wl[hr],Wl[hr]=null,hr--)}function Ne(e,t){hr++,Wl[hr]=e.current,e.current=t}var Fn={},nt=zn(Fn),ht=zn(!1),Qn=Fn;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mt(e){return e=e.childContextTypes,e!=null}function $o(){Me(ht),Me(nt)}function Pc(e,t,n){if(nt.current!==Fn)throw Error(ne(168));Ne(nt,t),Ne(ht,n)}function Lh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ne(108,Ry(e)||"Unknown",i));return ze({},n,r)}function Jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,Qn=nt.current,Ne(nt,e),Ne(ht,ht.current),!0}function Rc(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=Lh(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,Me(ht),Me(nt),Ne(nt,e)):Me(ht),Ne(ht,n)}var rn=null,vs=!1,js=!1;function Fh(e){rn===null?rn=[e]:rn.push(e)}function K0(e){vs=!0,Fh(e)}function Bn(){if(!js&&rn!==null){js=!0;var e=0,t=Ee;try{var n=rn;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,vs=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),lh(qa,Bn),i}finally{Ee=t,js=!1}}return null}var mr=[],gr=0,Wo=null,Ko=0,At=[],Nt=0,Zn=null,on=1,sn="";function Gn(e,t){mr[gr++]=Ko,mr[gr++]=Wo,Wo=e,Ko=t}function Uh(e,t,n){At[Nt++]=on,At[Nt++]=sn,At[Nt++]=Zn,Zn=e;var r=on;e=sn;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var o=32-Ot(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,on=1<<32-Ot(t)+i|n<<i|r,sn=o+e}else on=1<<o|n<<i|r,sn=e}function ja(e){e.return!==null&&(Gn(e,1),Uh(e,1,0))}function eu(e){for(;e===Wo;)Wo=mr[--gr],mr[gr]=null,Ko=mr[--gr],mr[gr]=null;for(;e===Zn;)Zn=At[--Nt],At[Nt]=null,sn=At[--Nt],At[Nt]=null,on=At[--Nt],At[Nt]=null}var Et=null,wt=null,De=!1,Vt=null;function zh(e,t){var n=Rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,wt=Pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:on,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,wt=null,!0):!1;default:return!1}}function Kl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(De){var t=wt;if(t){var n=t;if(!bc(e,t)){if(Kl(e))throw Error(ne(418));t=Pn(n.nextSibling);var r=Et;t&&bc(e,t)?zh(r,n):(e.flags=e.flags&-4097|2,De=!1,Et=e)}}else{if(Kl(e))throw Error(ne(418));e.flags=e.flags&-4097|2,De=!1,Et=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function ao(e){if(e!==Et)return!1;if(!De)return Mc(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=wt)){if(Kl(e))throw Bh(),Error(ne(418));for(;t;)zh(e,t),t=Pn(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=Et?Pn(e.stateNode.nextSibling):null;return!0}function Bh(){for(var e=wt;e;)e=Pn(e.nextSibling)}function Dr(){wt=Et=null,De=!1}function tu(e){Vt===null?Vt=[e]:Vt.push(e)}var Y0=pn.ReactCurrentBatchConfig;function jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dc(e){var t=e._init;return t(e._payload)}function Vh(e){function t(g,v){if(e){var S=g.deletions;S===null?(g.deletions=[v],g.flags|=16):S.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Dn(g,v),g.index=0,g.sibling=null,g}function o(g,v,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<v?(g.flags|=2,v):S):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,S,T){return v===null||v.tag!==6?(v=sl(S,g.mode,T),v.return=g,v):(v=i(v,S),v.return=g,v)}function a(g,v,S,T){var I=S.type;return I===ur?f(g,v,S.props.children,T,S.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xn&&Dc(I)===v.type)?(T=i(v,S.props),T.ref=jr(g,v,S),T.return=g,T):(T=Ro(S.type,S.key,S.props,null,g.mode,T),T.ref=jr(g,v,S),T.return=g,T)}function c(g,v,S,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=ll(S,g.mode,T),v.return=g,v):(v=i(v,S.children||[]),v.return=g,v)}function f(g,v,S,T,I){return v===null||v.tag!==7?(v=Yn(S,g.mode,T,I),v.return=g,v):(v=i(v,S),v.return=g,v)}function p(g,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sl(""+v,g.mode,S),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xi:return S=Ro(v.type,v.key,v.props,null,g.mode,S),S.ref=jr(g,null,v),S.return=g,S;case ar:return v=ll(v,g.mode,S),v.return=g,v;case xn:var T=v._init;return p(g,T(v._payload),S)}if(si(v)||Kr(v))return v=Yn(v,g.mode,S,null),v.return=g,v;uo(g,v)}return null}function h(g,v,S,T){var I=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:l(g,v,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xi:return S.key===I?a(g,v,S,T):null;case ar:return S.key===I?c(g,v,S,T):null;case xn:return I=S._init,h(g,v,I(S._payload),T)}if(si(S)||Kr(S))return I!==null?null:f(g,v,S,T,null);uo(g,S)}return null}function m(g,v,S,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(S)||null,l(v,g,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xi:return g=g.get(T.key===null?S:T.key)||null,a(v,g,T,I);case ar:return g=g.get(T.key===null?S:T.key)||null,c(v,g,T,I);case xn:var A=T._init;return m(g,v,S,A(T._payload),I)}if(si(T)||Kr(T))return g=g.get(S)||null,f(v,g,T,I,null);uo(v,T)}return null}function x(g,v,S,T){for(var I=null,A=null,M=v,U=v=0,D=null;M!==null&&U<S.length;U++){M.index>U?(D=M,M=null):D=M.sibling;var O=h(g,M,S[U],T);if(O===null){M===null&&(M=D);break}e&&M&&O.alternate===null&&t(g,M),v=o(O,v,U),A===null?I=O:A.sibling=O,A=O,M=D}if(U===S.length)return n(g,M),De&&Gn(g,U),I;if(M===null){for(;U<S.length;U++)M=p(g,S[U],T),M!==null&&(v=o(M,v,U),A===null?I=M:A.sibling=M,A=M);return De&&Gn(g,U),I}for(M=r(g,M);U<S.length;U++)D=m(M,g,U,S[U],T),D!==null&&(e&&D.alternate!==null&&M.delete(D.key===null?U:D.key),v=o(D,v,U),A===null?I=D:A.sibling=D,A=D);return e&&M.forEach(function(K){return t(g,K)}),De&&Gn(g,U),I}function y(g,v,S,T){var I=Kr(S);if(typeof I!="function")throw Error(ne(150));if(S=I.call(S),S==null)throw Error(ne(151));for(var A=I=null,M=v,U=v=0,D=null,O=S.next();M!==null&&!O.done;U++,O=S.next()){M.index>U?(D=M,M=null):D=M.sibling;var K=h(g,M,O.value,T);if(K===null){M===null&&(M=D);break}e&&M&&K.alternate===null&&t(g,M),v=o(K,v,U),A===null?I=K:A.sibling=K,A=K,M=D}if(O.done)return n(g,M),De&&Gn(g,U),I;if(M===null){for(;!O.done;U++,O=S.next())O=p(g,O.value,T),O!==null&&(v=o(O,v,U),A===null?I=O:A.sibling=O,A=O);return De&&Gn(g,U),I}for(M=r(g,M);!O.done;U++,O=S.next())O=m(M,g,U,O.value,T),O!==null&&(e&&O.alternate!==null&&M.delete(O.key===null?U:O.key),v=o(O,v,U),A===null?I=O:A.sibling=O,A=O);return e&&M.forEach(function(N){return t(g,N)}),De&&Gn(g,U),I}function C(g,v,S,T){if(typeof S=="object"&&S!==null&&S.type===ur&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xi:e:{for(var I=S.key,A=v;A!==null;){if(A.key===I){if(I=S.type,I===ur){if(A.tag===7){n(g,A.sibling),v=i(A,S.props.children),v.return=g,g=v;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xn&&Dc(I)===A.type){n(g,A.sibling),v=i(A,S.props),v.ref=jr(g,A,S),v.return=g,g=v;break e}n(g,A);break}else t(g,A);A=A.sibling}S.type===ur?(v=Yn(S.props.children,g.mode,T,S.key),v.return=g,g=v):(T=Ro(S.type,S.key,S.props,null,g.mode,T),T.ref=jr(g,v,S),T.return=g,g=T)}return s(g);case ar:e:{for(A=S.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(g,v.sibling),v=i(v,S.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=ll(S,g.mode,T),v.return=g,g=v}return s(g);case xn:return A=S._init,C(g,v,A(S._payload),T)}if(si(S))return x(g,v,S,T);if(Kr(S))return y(g,v,S,T);uo(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,S),v.return=g,g=v):(n(g,v),v=sl(S,g.mode,T),v.return=g,g=v),s(g)):n(g,v)}return C}var Lr=Vh(!0),Oh=Vh(!1),Yo=zn(null),Qo=null,yr=null,nu=null;function ru(){nu=yr=Qo=null}function iu(e){var t=Yo.current;Me(Yo),e._currentValue=t}function Ql(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){Qo=e,nu=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(nu!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(Qo===null)throw Error(ne(308));yr=e,Qo.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var Jn=null;function ou(e){Jn===null?Jn=[e]:Jn.push(e)}function Gh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ou(t)):(n.next=i.next,i.next=n),t.interleaved=n,cn(e,r)}function cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _n=!1;function su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,cn(e,n)}return i=r.interleaved,i===null?(t.next=t,ou(r)):(t.next=i.next,i.next=t),r.interleaved=t,cn(e,n)}function To(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$a(e,n)}}function Lc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zo(e,t,n,r){var i=e.updateQueue;_n=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(o!==null){var p=i.baseState;s=0,f=c=a=null,l=o;do{var h=l.lane,m=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,y=l;switch(h=t,m=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(m,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(m,p,h):x,h==null)break e;p=ze({},p,h);break e;case 2:_n=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=m,a=p):f=f.next=m,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=p),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);jn|=s,e.lanes=s,e.memoizedState=p}}function Fc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var $i={},Xt=zn($i),Mi=zn($i),Di=zn($i);function Wn(e){if(e===$i)throw Error(ne(174));return e}function lu(e,t){switch(Ne(Di,t),Ne(Mi,e),Ne(Xt,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pl(t,e)}Me(Xt),Ne(Xt,t)}function Fr(){Me(Xt),Me(Mi),Me(Di)}function qh(e){Wn(Di.current);var t=Wn(Xt.current),n=Pl(t,e.type);t!==n&&(Ne(Mi,e),Ne(Xt,n))}function au(e){Mi.current===e&&(Me(Xt),Me(Mi))}var Fe=zn(0);function Xo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=[];function uu(){for(var e=0;e<el.length;e++)el[e]._workInProgressVersionPrimary=null;el.length=0}var ko=pn.ReactCurrentDispatcher,tl=pn.ReactCurrentBatchConfig,Xn=0,Ue=null,qe=null,Je=null,jo=!1,hi=!1,Li=0,Q0=0;function Xe(){throw Error(ne(321))}function cu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function du(e,t,n,r,i,o){if(Xn=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ko.current=e===null||e.memoizedState===null?ev:tv,e=n(r,i),hi){o=0;do{if(hi=!1,Li=0,25<=o)throw Error(ne(301));o+=1,Je=qe=null,t.updateQueue=null,ko.current=nv,e=n(r,i)}while(hi)}if(ko.current=es,t=qe!==null&&qe.next!==null,Xn=0,Je=qe=Ue=null,jo=!1,t)throw Error(ne(300));return e}function fu(){var e=Li!==0;return Li=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ue.memoizedState=Je=e:Je=Je.next=e,Je}function Lt(){if(qe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Je===null?Ue.memoizedState:Je.next;if(t!==null)Je=t,qe=e;else{if(e===null)throw Error(ne(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Je===null?Ue.memoizedState=Je=e:Je=Je.next=e}return Je}function Fi(e,t){return typeof t=="function"?t(e):t}function nl(e){var t=Lt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=qe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,c=o;do{var f=c.lane;if((Xn&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=p,s=r):a=a.next=p,Ue.lanes|=f,jn|=f}c=c.next}while(c!==null&&c!==o);a===null?s=r:a.next=l,Ht(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ue.lanes|=o,jn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rl(e){var t=Lt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ht(o,t.memoizedState)||(pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $h(){}function Jh(e,t){var n=Ue,r=Lt(),i=t(),o=!Ht(r.memoizedState,i);if(o&&(r.memoizedState=i,pt=!0),r=r.queue,pu(Yh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Ui(9,Kh.bind(null,n,r,i,t),void 0,null),We===null)throw Error(ne(349));Xn&30||Wh(n,t,i)}return i}function Wh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kh(e,t,n,r){t.value=n,t.getSnapshot=r,Qh(t)&&Zh(e)}function Yh(e,t,n){return n(function(){Qh(t)&&Zh(e)})}function Qh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function Zh(e){var t=cn(e,1);t!==null&&Gt(t,e,1,-1)}function Uc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},t.queue=e,e=e.dispatch=j0.bind(null,Ue,e),[t.memoizedState,e]}function Ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xh(){return Lt().memoizedState}function Io(e,t,n,r){var i=Wt();Ue.flags|=e,i.memoizedState=Ui(1|t,n,void 0,r===void 0?null:r)}function xs(e,t,n,r){var i=Lt();r=r===void 0?null:r;var o=void 0;if(qe!==null){var s=qe.memoizedState;if(o=s.destroy,r!==null&&cu(r,s.deps)){i.memoizedState=Ui(t,n,o,r);return}}Ue.flags|=e,i.memoizedState=Ui(1|t,n,o,r)}function zc(e,t){return Io(8390656,8,e,t)}function pu(e,t){return xs(2048,8,e,t)}function jh(e,t){return xs(4,2,e,t)}function em(e,t){return xs(4,4,e,t)}function tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nm(e,t,n){return n=n!=null?n.concat([e]):null,xs(4,4,tm.bind(null,t,e),n)}function hu(){}function rm(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function im(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function om(e,t,n){return Xn&21?(Ht(n,t)||(n=ch(),Ue.lanes|=n,jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function Z0(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=tl.transition;tl.transition={};try{e(!1),t()}finally{Ee=n,tl.transition=r}}function sm(){return Lt().memoizedState}function X0(e,t,n){var r=Mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lm(e))am(t,n);else if(n=Gh(e,t,n,r),n!==null){var i=lt();Gt(n,e,r,i),um(n,t,r)}}function j0(e,t,n){var r=Mn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lm(e))am(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Ht(l,s)){var a=t.interleaved;a===null?(i.next=i,ou(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Gh(e,t,i,r),n!==null&&(i=lt(),Gt(n,e,r,i),um(n,t,r))}}function lm(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function am(e,t){hi=jo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function um(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$a(e,n)}}var es={readContext:Dt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},ev={readContext:Dt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:zc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Io(4194308,4,tm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=X0.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Uc,useDebugValue:hu,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Uc(!1),t=e[0];return e=Z0.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,i=Wt();if(De){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),We===null)throw Error(ne(349));Xn&30||Wh(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zc(Yh.bind(null,r,o,e),[e]),r.flags|=2048,Ui(9,Kh.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Wt(),t=We.identifierPrefix;if(De){var n=sn,r=on;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Q0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tv={readContext:Dt,useCallback:rm,useContext:Dt,useEffect:pu,useImperativeHandle:nm,useInsertionEffect:jh,useLayoutEffect:em,useMemo:im,useReducer:nl,useRef:Xh,useState:function(){return nl(Fi)},useDebugValue:hu,useDeferredValue:function(e){var t=Lt();return om(t,qe.memoizedState,e)},useTransition:function(){var e=nl(Fi)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Jh,useId:sm,unstable_isNewReconciler:!1},nv={readContext:Dt,useCallback:rm,useContext:Dt,useEffect:pu,useImperativeHandle:nm,useInsertionEffect:jh,useLayoutEffect:em,useMemo:im,useReducer:rl,useRef:Xh,useState:function(){return rl(Fi)},useDebugValue:hu,useDeferredValue:function(e){var t=Lt();return qe===null?t.memoizedState=e:om(t,qe.memoizedState,e)},useTransition:function(){var e=rl(Fi)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Jh,useId:sm,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _s={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lt(),i=Mn(e),o=ln(r,i);o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,i),t!==null&&(Gt(t,e,i,r),To(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lt(),i=Mn(e),o=ln(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Rn(e,o,i),t!==null&&(Gt(t,e,i,r),To(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lt(),r=Mn(e),i=ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rn(e,i,r),t!==null&&(Gt(t,e,r,n),To(t,e,r))}};function Bc(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ni(n,r)||!Ni(i,o):!0}function cm(e,t,n){var r=!1,i=Fn,o=t.contextType;return typeof o=="object"&&o!==null?o=Dt(o):(i=mt(t)?Qn:nt.current,r=t.contextTypes,o=(r=r!=null)?Mr(e,i):Fn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_s,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_s.enqueueReplaceState(t,t.state,null)}function Xl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},su(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Dt(o):(o=mt(t)?Qn:nt.current,i.context=Mr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zl(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_s.enqueueReplaceState(i,i.state,null),Zo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=Py(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function il(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rv=typeof WeakMap=="function"?WeakMap:Map;function dm(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ns||(ns=!0,ua=r),jl(e,t)},n}function fm(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jl(e,t),typeof r!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Oc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=yv.bind(null,e,t,n),t.then(e,e))}function Gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,Rn(n,t,1))),n.lanes|=1),e)}var iv=pn.ReactCurrentOwner,pt=!1;function ot(e,t,n,r){t.child=e===null?Oh(t,null,n,r):Lr(t,e.child,n,r)}function qc(e,t,n,r,i){n=n.render;var o=t.ref;return Tr(t,i),r=du(e,t,n,r,o,i),n=fu(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dn(e,t,i)):(De&&n&&ja(t),t.flags|=1,ot(e,t,r,i),t.child)}function $c(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!wu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,pm(e,t,o,r,i)):(e=Ro(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ni,n(s,r)&&e.ref===t.ref)return dn(e,t,i)}return t.flags|=1,e=Dn(o,r),e.ref=t.ref,e.return=t,t.child=e}function pm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ni(o,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,dn(e,t,i)}return ea(e,t,n,r,i)}function hm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(xr,St),St|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(xr,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(xr,St),St|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ne(xr,St),St|=r;return ot(e,t,i,n),t.child}function mm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ea(e,t,n,r,i){var o=mt(n)?Qn:nt.current;return o=Mr(t,o),Tr(t,i),n=du(e,t,n,r,o,i),r=fu(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,dn(e,t,i)):(De&&r&&ja(t),t.flags|=1,ot(e,t,n,i),t.child)}function Jc(e,t,n,r,i){if(mt(n)){var o=!0;Jo(t)}else o=!1;if(Tr(t,i),t.stateNode===null)Ao(e,t),cm(t,n,r),Xl(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dt(c):(c=mt(n)?Qn:nt.current,c=Mr(t,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Vc(t,s,r,c),_n=!1;var h=t.memoizedState;s.state=h,Zo(t,r,s,i),a=t.memoizedState,l!==r||h!==a||ht.current||_n?(typeof f=="function"&&(Zl(t,n,f,r),a=t.memoizedState),(l=_n||Bc(t,n,l,r,h,a,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Hh(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:zt(t.type,l),s.props=c,p=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Dt(a):(a=mt(n)?Qn:nt.current,a=Mr(t,a));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||h!==a)&&Vc(t,s,r,a),_n=!1,h=t.memoizedState,s.state=h,Zo(t,r,s,i);var x=t.memoizedState;l!==p||h!==x||ht.current||_n?(typeof m=="function"&&(Zl(t,n,m,r),x=t.memoizedState),(c=_n||Bc(t,n,c,r,h,x,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ta(e,t,n,r,o,i)}function ta(e,t,n,r,i,o){mm(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Rc(t,n,!1),dn(e,t,o);r=t.stateNode,iv.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Lr(t,e.child,null,o),t.child=Lr(t,null,l,o)):ot(e,t,l,o),t.memoizedState=r.state,i&&Rc(t,n,!0),t.child}function gm(e){var t=e.stateNode;t.pendingContext?Pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pc(e,t.context,!1),lu(e,t.containerInfo)}function Wc(e,t,n,r,i){return Dr(),tu(i),t.flags|=256,ot(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function ym(e,t,n){var r=t.pendingProps,i=Fe.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ne(Fe,i&1),e===null)return Yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Cs(s,r,0,null),e=Yn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ra(n),t.memoizedState=na,e):mu(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ov(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Dn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Dn(l,o):(o=Yn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ra(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=na,r}return o=e.child,e=o.sibling,r=Dn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mu(e,t){return t=Cs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function co(e,t,n,r){return r!==null&&tu(r),Lr(t,e.child,null,n),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ov(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=il(Error(ne(422))),co(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Cs({mode:"visible",children:r.children},i,0,null),o=Yn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Lr(t,e.child,null,s),t.child.memoizedState=ra(s),t.memoizedState=na,o);if(!(t.mode&1))return co(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ne(419)),r=il(o,r,void 0),co(e,t,s,r)}if(l=(s&e.childLanes)!==0,pt||l){if(r=We,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,cn(e,i),Gt(r,e,i,-1))}return Su(),r=il(Error(ne(421))),co(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vv.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,wt=Pn(i.nextSibling),Et=t,De=!0,Vt=null,e!==null&&(At[Nt++]=on,At[Nt++]=sn,At[Nt++]=Zn,on=e.id,sn=e.overflow,Zn=t),t=mu(t,r.children),t.flags|=4096,t)}function Kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ql(e.return,t,n)}function ol(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ot(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,n,t);else if(e.tag===19)Kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ol(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ol(t,!0,n,null,o);break;case"together":ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sv(e,t,n){switch(t.tag){case 3:gm(t),Dr();break;case 5:qh(t);break;case 1:mt(t.type)&&Jo(t);break;case 4:lu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ne(Yo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?ym(e,t,n):(Ne(Fe,Fe.current&1),e=dn(e,t,n),e!==null?e.sibling:null);Ne(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,hm(e,t,n)}return dn(e,t,n)}var xm,ia,_m,Sm;xm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ia=function(){};_m=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wn(Xt.current);var o=null;switch(n){case"input":i=kl(e,i),r=kl(e,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=Nl(e,i),r=Nl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qo)}Rl(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Re("scroll",e),o||l===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Sm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ei(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lv(e,t,n){var r=t.pendingProps;switch(eu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return mt(t.type)&&$o(),je(t),null;case 3:return r=t.stateNode,Fr(),Me(ht),Me(nt),uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(fa(Vt),Vt=null))),ia(e,t),je(t),null;case 5:au(t);var i=Wn(Di.current);if(n=t.type,e!==null&&t.stateNode!=null)_m(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return je(t),null}if(e=Wn(Xt.current),ao(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yt]=t,r[bi]=o,e=(t.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<ai.length;i++)Re(ai[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":rc(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":oc(r,o),Re("invalid",r)}Rl(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&lo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&lo(r.textContent,l,e),i=["children",""+l]):wi.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Re("scroll",r)}switch(n){case"input":ji(r),ic(r,o,!0);break;case"textarea":ji(r),sc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Yt]=t,e[bi]=r,xm(e,t,!1,!1),t.stateNode=e;e:{switch(s=bl(n,r),n){case"dialog":Re("cancel",e),Re("close",e),i=r;break;case"iframe":case"object":case"embed":Re("load",e),i=r;break;case"video":case"audio":for(i=0;i<ai.length;i++)Re(ai[i],e);i=r;break;case"source":Re("error",e),i=r;break;case"img":case"image":case"link":Re("error",e),Re("load",e),i=r;break;case"details":Re("toggle",e),i=r;break;case"input":rc(e,r),i=kl(e,r),Re("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Re("invalid",e);break;case"textarea":oc(e,r),i=Nl(e,r),Re("invalid",e);break;default:i=r}Rl(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Xp(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Qp(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ci(e,a):typeof a=="number"&&Ci(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wi.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Re("scroll",e):a!=null&&Ba(e,o,a,s))}switch(n){case"input":ji(e),ic(e,r,!1);break;case"textarea":ji(e),sc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ln(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Sr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Sm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=Wn(Di.current),Wn(Xt.current),ao(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(o=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:lo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return je(t),null;case 13:if(Me(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&wt!==null&&t.mode&1&&!(t.flags&128))Bh(),Dr(),t.flags|=98560,o=!1;else if(o=ao(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ne(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[Yt]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),o=!1}else Vt!==null&&(fa(Vt),Vt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?$e===0&&($e=3):Su())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Fr(),ia(e,t),e===null&&Pi(t.stateNode.containerInfo),je(t),null;case 10:return iu(t.type._context),je(t),null;case 17:return mt(t.type)&&$o(),je(t),null;case 19:if(Me(Fe),o=t.memoizedState,o===null)return je(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ei(o,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Xo(e),s!==null){for(t.flags|=128,ei(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Oe()>zr&&(t.flags|=128,r=!0,ei(o,!1),t.lanes=4194304)}else{if(!r)if(e=Xo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!De)return je(t),null}else 2*Oe()-o.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,r=!0,ei(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Oe(),t.sibling=null,n=Fe.current,Ne(Fe,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return _u(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?St&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function av(e,t){switch(eu(t),t.tag){case 1:return mt(t.type)&&$o(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(),Me(ht),Me(nt),uu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return au(t),null;case 13:if(Me(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return Fr(),null;case 10:return iu(t.type._context),null;case 22:case 23:return _u(),null;case 24:return null;default:return null}}var fo=!1,et=!1,uv=typeof WeakSet=="function"?WeakSet:Set,ce=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function oa(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var Yc=!1;function cv(e,t){if(Gl=Oo,e=kh(),Xa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,f=0,p=e,h=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(a=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++f===r&&(a=s),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hl={focusedElem:e,selectionRange:n},Oo=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,C=x.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:zt(t.type,y),C);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(T){Ve(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return x=Yc,Yc=!1,x}function mi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&oa(t,n,o)}i=i.next}while(i!==r)}}function Ss(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[bi],delete t[Jl],delete t[J0],delete t[W0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cm(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function la(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qo));else if(r!==4&&(e=e.child,e!==null))for(la(e,t,n),e=e.sibling;e!==null;)la(e,t,n),e=e.sibling}function aa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(aa(e,t,n),e=e.sibling;e!==null;)aa(e,t,n),e=e.sibling}var Ke=null,Bt=!1;function yn(e,t,n){for(n=n.child;n!==null;)Em(e,t,n),n=n.sibling}function Em(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ps,n)}catch{}switch(n.tag){case 5:et||vr(n,t);case 6:var r=Ke,i=Bt;Ke=null,yn(e,t,n),Ke=r,Bt=i,Ke!==null&&(Bt?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Bt?(e=Ke,n=n.stateNode,e.nodeType===8?Xs(e.parentNode,n):e.nodeType===1&&Xs(e,n),Ii(e)):Xs(Ke,n.stateNode));break;case 4:r=Ke,i=Bt,Ke=n.stateNode.containerInfo,Bt=!0,yn(e,t,n),Ke=r,Bt=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&oa(n,t,s),i=i.next}while(i!==r)}yn(e,t,n);break;case 1:if(!et&&(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ve(n,t,l)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,yn(e,t,n),et=r):yn(e,t,n);break;default:yn(e,t,n)}}function Zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uv),t.forEach(function(r){var i=xv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ke=l.stateNode,Bt=!1;break e;case 3:Ke=l.stateNode.containerInfo,Bt=!0;break e;case 4:Ke=l.stateNode.containerInfo,Bt=!0;break e}l=l.return}if(Ke===null)throw Error(ne(160));Em(o,s,i),Ke=null,Bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){Ve(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}function Tm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Jt(e),r&4){try{mi(3,e,e.return),Ss(3,e)}catch(y){Ve(e,e.return,y)}try{mi(5,e,e.return)}catch(y){Ve(e,e.return,y)}}break;case 1:Ut(t,e),Jt(e),r&512&&n!==null&&vr(n,n.return);break;case 5:if(Ut(t,e),Jt(e),r&512&&n!==null&&vr(n,n.return),e.flags&32){var i=e.stateNode;try{Ci(i,"")}catch(y){Ve(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Wp(i,o),bl(l,s);var c=bl(l,o);for(s=0;s<a.length;s+=2){var f=a[s],p=a[s+1];f==="style"?Xp(i,p):f==="dangerouslySetInnerHTML"?Qp(i,p):f==="children"?Ci(i,p):Ba(i,f,p,c)}switch(l){case"input":Il(i,o);break;case"textarea":Kp(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Sr(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Sr(i,!!o.multiple,o.defaultValue,!0):Sr(i,!!o.multiple,o.multiple?[]:"",!1))}i[bi]=o}catch(y){Ve(e,e.return,y)}}break;case 6:if(Ut(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ve(e,e.return,y)}}break;case 3:if(Ut(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(y){Ve(e,e.return,y)}break;case 4:Ut(t,e),Jt(e);break;case 13:Ut(t,e),Jt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vu=Oe())),r&4&&Zc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(et=(c=et)||f,Ut(t,e),et=c):Ut(t,e),Jt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(ce=e,f=e.child;f!==null;){for(p=ce=f;ce!==null;){switch(h=ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:mi(4,h,h.return);break;case 1:vr(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){Ve(r,n,y)}}break;case 5:vr(h,h.return);break;case 22:if(h.memoizedState!==null){jc(p);continue}}m!==null?(m.return=h,ce=m):jc(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,a=p.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Zp("display",s))}catch(y){Ve(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(y){Ve(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ut(t,e),Jt(e),r&4&&Zc(e);break;case 21:break;default:Ut(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cm(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ci(i,""),r.flags&=-33);var o=Qc(e);aa(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Qc(e);la(e,l,s);break;default:throw Error(ne(161))}}catch(a){Ve(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dv(e,t,n){ce=e,km(e)}function km(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||fo;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||et;l=fo;var c=et;if(fo=s,(et=a)&&!c)for(ce=i;ce!==null;)s=ce,a=s.child,s.tag===22&&s.memoizedState!==null?ed(i):a!==null?(a.return=s,ce=a):ed(i);for(;o!==null;)ce=o,km(o),o=o.sibling;ce=i,fo=l,et=c}Xc(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):Xc(e)}}function Xc(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Ss(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Fc(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fc(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ii(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}et||t.flags&512&&sa(t)}catch(h){Ve(t,t.return,h)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function jc(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function ed(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ss(4,t)}catch(a){Ve(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Ve(t,i,a)}}var o=t.return;try{sa(t)}catch(a){Ve(t,o,a)}break;case 5:var s=t.return;try{sa(t)}catch(a){Ve(t,s,a)}}}catch(a){Ve(t,t.return,a)}if(t===e){ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ce=l;break}ce=t.return}}var fv=Math.ceil,ts=pn.ReactCurrentDispatcher,gu=pn.ReactCurrentOwner,bt=pn.ReactCurrentBatchConfig,_e=0,We=null,He=null,Ye=0,St=0,xr=zn(0),$e=0,zi=null,jn=0,ws=0,yu=0,gi=null,ft=null,vu=0,zr=1/0,nn=null,ns=!1,ua=null,bn=null,po=!1,Tn=null,rs=0,yi=0,ca=null,No=-1,Po=0;function lt(){return _e&6?Oe():No!==-1?No:No=Oe()}function Mn(e){return e.mode&1?_e&2&&Ye!==0?Ye&-Ye:Y0.transition!==null?(Po===0&&(Po=ch()),Po):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:yh(e.type)),e):1}function Gt(e,t,n,r){if(50<yi)throw yi=0,ca=null,Error(ne(185));Gi(e,n,r),(!(_e&2)||e!==We)&&(e===We&&(!(_e&2)&&(ws|=n),$e===4&&wn(e,Ye)),gt(e,r),n===1&&_e===0&&!(t.mode&1)&&(zr=Oe()+500,vs&&Bn()))}function gt(e,t){var n=e.callbackNode;Yy(e,t);var r=Vo(e,e===We?Ye:0);if(r===0)n!==null&&uc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uc(n),t===1)e.tag===0?K0(td.bind(null,e)):Fh(td.bind(null,e)),q0(function(){!(_e&6)&&Bn()}),n=null;else{switch(dh(r)){case 1:n=qa;break;case 4:n=ah;break;case 16:n=Bo;break;case 536870912:n=uh;break;default:n=Bo}n=Dm(n,Im.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Im(e,t){if(No=-1,Po=0,_e&6)throw Error(ne(327));var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var r=Vo(e,e===We?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=is(e,r);else{t=r;var i=_e;_e|=2;var o=Nm();(We!==e||Ye!==t)&&(nn=null,zr=Oe()+500,Kn(e,t));do try{mv();break}catch(l){Am(e,l)}while(!0);ru(),ts.current=o,_e=i,He!==null?t=0:(We=null,Ye=0,t=$e)}if(t!==0){if(t===2&&(i=Ul(e),i!==0&&(r=i,t=da(e,i))),t===1)throw n=zi,Kn(e,0),wn(e,r),gt(e,Oe()),n;if(t===6)wn(e,r);else{if(i=e.current.alternate,!(r&30)&&!pv(i)&&(t=is(e,r),t===2&&(o=Ul(e),o!==0&&(r=o,t=da(e,o))),t===1))throw n=zi,Kn(e,0),wn(e,r),gt(e,Oe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:Hn(e,ft,nn);break;case 3:if(wn(e,r),(r&130023424)===r&&(t=vu+500-Oe(),10<t)){if(Vo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){lt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$l(Hn.bind(null,e,ft,nn),t);break}Hn(e,ft,nn);break;case 4:if(wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ot(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fv(r/1960))-r,10<r){e.timeoutHandle=$l(Hn.bind(null,e,ft,nn),r);break}Hn(e,ft,nn);break;case 5:Hn(e,ft,nn);break;default:throw Error(ne(329))}}}return gt(e,Oe()),e.callbackNode===n?Im.bind(null,e):null}function da(e,t){var n=gi;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=is(e,t),e!==2&&(t=ft,ft=n,t!==null&&fa(t)),e}function fa(e){ft===null?ft=e:ft.push.apply(ft,e)}function pv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ht(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~yu,t&=~ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),r=1<<n;e[n]=-1,t&=~r}}function td(e){if(_e&6)throw Error(ne(327));kr();var t=Vo(e,0);if(!(t&1))return gt(e,Oe()),null;var n=is(e,t);if(e.tag!==0&&n===2){var r=Ul(e);r!==0&&(t=r,n=da(e,r))}if(n===1)throw n=zi,Kn(e,0),wn(e,t),gt(e,Oe()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,ft,nn),gt(e,Oe()),null}function xu(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(zr=Oe()+500,vs&&Bn())}}function er(e){Tn!==null&&Tn.tag===0&&!(_e&6)&&kr();var t=_e;_e|=1;var n=bt.transition,r=Ee;try{if(bt.transition=null,Ee=1,e)return e()}finally{Ee=r,bt.transition=n,_e=t,!(_e&6)&&Bn()}}function _u(){St=xr.current,Me(xr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,H0(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(eu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$o();break;case 3:Fr(),Me(ht),Me(nt),uu();break;case 5:au(r);break;case 4:Fr();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:iu(r.type._context);break;case 22:case 23:_u()}n=n.return}if(We=e,He=e=Dn(e.current,null),Ye=St=t,$e=0,zi=null,yu=ws=jn=0,ft=gi=null,Jn!==null){for(t=0;t<Jn.length;t++)if(n=Jn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Jn=null}return e}function Am(e,t){do{var n=He;try{if(ru(),ko.current=es,jo){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jo=!1}if(Xn=0,Je=qe=Ue=null,hi=!1,Li=0,gu.current=null,n===null||n.return===null){$e=1,zi=t,He=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Ye,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Gc(s);if(m!==null){m.flags&=-257,Hc(m,s,l,o,t),m.mode&1&&Oc(o,c,t),t=m,a=c;var x=t.updateQueue;if(x===null){var y=new Set;y.add(a),t.updateQueue=y}else x.add(a);break e}else{if(!(t&1)){Oc(o,c,t),Su();break e}a=Error(ne(426))}}else if(De&&l.mode&1){var C=Gc(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Hc(C,s,l,o,t),tu(Ur(a,l));break e}}o=a=Ur(a,l),$e!==4&&($e=2),gi===null?gi=[o]:gi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=dm(o,a,t);Lc(o,g);break e;case 1:l=a;var v=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bn===null||!bn.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=fm(o,l,t);Lc(o,T);break e}}o=o.return}while(o!==null)}Rm(n)}catch(I){t=I,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function Nm(){var e=ts.current;return ts.current=es,e===null?es:e}function Su(){($e===0||$e===3||$e===2)&&($e=4),We===null||!(jn&268435455)&&!(ws&268435455)||wn(We,Ye)}function is(e,t){var n=_e;_e|=2;var r=Nm();(We!==e||Ye!==t)&&(nn=null,Kn(e,t));do try{hv();break}catch(i){Am(e,i)}while(!0);if(ru(),_e=n,ts.current=r,He!==null)throw Error(ne(261));return We=null,Ye=0,$e}function hv(){for(;He!==null;)Pm(He)}function mv(){for(;He!==null&&!Vy();)Pm(He)}function Pm(e){var t=Mm(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?Rm(e):He=t,gu.current=null}function Rm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=av(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,He=null;return}}else if(n=lv(n,t,St),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);$e===0&&($e=5)}function Hn(e,t,n){var r=Ee,i=bt.transition;try{bt.transition=null,Ee=1,gv(e,t,n,r)}finally{bt.transition=i,Ee=r}return null}function gv(e,t,n,r){do kr();while(Tn!==null);if(_e&6)throw Error(ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Qy(e,o),e===We&&(He=We=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||po||(po=!0,Dm(Bo,function(){return kr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=bt.transition,bt.transition=null;var s=Ee;Ee=1;var l=_e;_e|=4,gu.current=null,cv(e,n),Tm(n,e),F0(Hl),Oo=!!Gl,Hl=Gl=null,e.current=n,dv(n),Oy(),_e=l,Ee=s,bt.transition=o}else e.current=n;if(po&&(po=!1,Tn=e,rs=i),o=e.pendingLanes,o===0&&(bn=null),qy(n.stateNode),gt(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ns)throw ns=!1,e=ua,ua=null,e;return rs&1&&e.tag!==0&&kr(),o=e.pendingLanes,o&1?e===ca?yi++:(yi=0,ca=e):yi=0,Bn(),null}function kr(){if(Tn!==null){var e=dh(rs),t=bt.transition,n=Ee;try{if(bt.transition=null,Ee=16>e?16:e,Tn===null)var r=!1;else{if(e=Tn,Tn=null,rs=0,_e&6)throw Error(ne(331));var i=_e;for(_e|=4,ce=e.current;ce!==null;){var o=ce,s=o.child;if(ce.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(ce=c;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:mi(8,f,o)}var p=f.child;if(p!==null)p.return=f,ce=p;else for(;ce!==null;){f=ce;var h=f.sibling,m=f.return;if(wm(f),f===c){ce=null;break}if(h!==null){h.return=m,ce=h;break}ce=m}}}var x=o.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}ce=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ce=s;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mi(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ce=g;break e}ce=o.return}}var v=e.current;for(ce=v;ce!==null;){s=ce;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,ce=S;else e:for(s=v;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ss(9,l)}}catch(I){Ve(l,l.return,I)}if(l===s){ce=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ce=T;break e}ce=l.return}}if(_e=i,Bn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ps,e)}catch{}r=!0}return r}finally{Ee=n,bt.transition=t}}return!1}function nd(e,t,n){t=Ur(n,t),t=dm(e,t,1),e=Rn(e,t,1),t=lt(),e!==null&&(Gi(e,1,t),gt(e,t))}function Ve(e,t,n){if(e.tag===3)nd(e,e,n);else for(;t!==null;){if(t.tag===3){nd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bn===null||!bn.has(r))){e=Ur(n,e),e=fm(t,e,1),t=Rn(t,e,1),e=lt(),t!==null&&(Gi(t,1,e),gt(t,e));break}}t=t.return}}function yv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ye&n)===n&&($e===4||$e===3&&(Ye&130023424)===Ye&&500>Oe()-vu?Kn(e,0):yu|=n),gt(e,t)}function bm(e,t){t===0&&(e.mode&1?(t=no,no<<=1,!(no&130023424)&&(no=4194304)):t=1);var n=lt();e=cn(e,t),e!==null&&(Gi(e,t,n),gt(e,n))}function vv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bm(e,n)}function xv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),bm(e,n)}var Mm;Mm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,sv(e,t,n);pt=!!(e.flags&131072)}else pt=!1,De&&t.flags&1048576&&Uh(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ao(e,t),e=t.pendingProps;var i=Mr(t,nt.current);Tr(t,n),i=du(null,t,r,e,i,n);var o=fu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(o=!0,Jo(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,su(t),i.updater=_s,t.stateNode=i,i._reactInternals=t,Xl(t,r,e,n),t=ta(null,t,r,!0,o,n)):(t.tag=0,De&&o&&ja(t),ot(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Sv(r),e=zt(r,e),i){case 0:t=ea(null,t,r,e,n);break e;case 1:t=Jc(null,t,r,e,n);break e;case 11:t=qc(null,t,r,e,n);break e;case 14:t=$c(null,t,r,zt(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),ea(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Jc(e,t,r,i,n);case 3:e:{if(gm(t),e===null)throw Error(ne(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Hh(e,t),Zo(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ur(Error(ne(423)),t),t=Wc(e,t,r,n,i);break e}else if(r!==i){i=Ur(Error(ne(424)),t),t=Wc(e,t,r,n,i);break e}else for(wt=Pn(t.stateNode.containerInfo.firstChild),Et=t,De=!0,Vt=null,n=Oh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===i){t=dn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return qh(t),e===null&&Yl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,ql(r,i)?s=null:o!==null&&ql(r,o)&&(t.flags|=32),mm(e,t),ot(e,t,s,n),t.child;case 6:return e===null&&Yl(t),null;case 13:return ym(e,t,n);case 4:return lu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),qc(e,t,r,i,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ne(Yo,r._currentValue),r._currentValue=s,o!==null)if(Ht(o.value,s)){if(o.children===i.children&&!ht.current){t=dn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=ln(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ql(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ql(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ot(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Tr(t,n),i=Dt(i),r=r(i),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,i=zt(r,t.pendingProps),i=zt(r.type,i),$c(e,t,r,i,n);case 15:return pm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),Ao(e,t),t.tag=1,mt(r)?(e=!0,Jo(t)):e=!1,Tr(t,n),cm(t,r,i),Xl(t,r,i,n),ta(null,t,r,!0,e,n);case 19:return vm(e,t,n);case 22:return hm(e,t,n)}throw Error(ne(156,t.tag))};function Dm(e,t){return lh(e,t)}function _v(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,r){return new _v(e,t,n,r)}function wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sv(e){if(typeof e=="function")return wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oa)return 11;if(e===Ga)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ro(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")wu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ur:return Yn(n.children,i,o,t);case Va:s=8,i|=8;break;case wl:return e=Rt(12,n,t,i|2),e.elementType=wl,e.lanes=o,e;case Cl:return e=Rt(13,n,t,i),e.elementType=Cl,e.lanes=o,e;case El:return e=Rt(19,n,t,i),e.elementType=El,e.lanes=o,e;case qp:return Cs(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gp:s=10;break e;case Hp:s=9;break e;case Oa:s=11;break e;case Ga:s=14;break e;case xn:s=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Rt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Yn(e,t,n,r){return e=Rt(7,e,r,t),e.lanes=n,e}function Cs(e,t,n,r){return e=Rt(22,e,r,t),e.elementType=qp,e.lanes=n,e.stateNode={isHidden:!1},e}function sl(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function ll(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Os(0),this.expirationTimes=Os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cu(e,t,n,r,i,o,s,l,a){return e=new wv(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Rt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},su(o),e}function Cv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lm(e){if(!e)return Fn;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(mt(n))return Lh(e,n,t)}return t}function Fm(e,t,n,r,i,o,s,l,a){return e=Cu(n,r,!0,e,i,o,s,l,a),e.context=Lm(null),n=e.current,r=lt(),i=Mn(n),o=ln(r,i),o.callback=t??null,Rn(n,o,i),e.current.lanes=i,Gi(e,i,r),gt(e,r),e}function Es(e,t,n,r){var i=t.current,o=lt(),s=Mn(i);return n=Lm(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rn(i,t,s),e!==null&&(Gt(e,i,s,o),To(e,i,s)),s}function os(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Eu(e,t){rd(e,t),(e=e.alternate)&&rd(e,t)}function Ev(){return null}var Um=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tu(e){this._internalRoot=e}Ts.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Es(e,t,null,null)};Ts.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){Es(null,e,null,null)}),t[un]=null}};function Ts(e){this._internalRoot=e}Ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&gh(e)}};function ku(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ks(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function id(){}function Tv(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=os(s);o.call(c)}}var s=Fm(t,r,e,0,null,!1,!1,"",id);return e._reactRootContainer=s,e[un]=s.current,Pi(e.nodeType===8?e.parentNode:e),er(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=os(a);l.call(c)}}var a=Cu(e,0,!1,null,null,!1,!1,"",id);return e._reactRootContainer=a,e[un]=a.current,Pi(e.nodeType===8?e.parentNode:e),er(function(){Es(t,a,n,r)}),a}function Is(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=os(s);l.call(a)}}Es(t,s,e,i)}else s=Tv(n,t,e,i,r);return os(s)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=li(t.pendingLanes);n!==0&&($a(t,n|1),gt(t,Oe()),!(_e&6)&&(zr=Oe()+500,Bn()))}break;case 13:er(function(){var r=cn(e,1);if(r!==null){var i=lt();Gt(r,e,1,i)}}),Eu(e,1)}};Ja=function(e){if(e.tag===13){var t=cn(e,134217728);if(t!==null){var n=lt();Gt(t,e,134217728,n)}Eu(e,134217728)}};ph=function(e){if(e.tag===13){var t=Mn(e),n=cn(e,t);if(n!==null){var r=lt();Gt(n,e,t,r)}Eu(e,t)}};hh=function(){return Ee};mh=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};Dl=function(e,t,n){switch(t){case"input":if(Il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ys(r);if(!i)throw Error(ne(90));Jp(r),Il(r,i)}}}break;case"textarea":Kp(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};th=xu;nh=er;var kv={usingClientEntryPoint:!1,Events:[qi,pr,ys,jp,eh,xu]},ti={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iv={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oh(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||Ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{ps=ho.inject(Iv),Zt=ho}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kv;kt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ku(t))throw Error(ne(200));return Cv(e,t,null,n)};kt.createRoot=function(e,t){if(!ku(e))throw Error(ne(299));var n=!1,r="",i=Um;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Cu(e,1,!1,null,null,n,!1,r,i),e[un]=t.current,Pi(e.nodeType===8?e.parentNode:e),new Tu(t)};kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=oh(t),e=e===null?null:e.stateNode,e};kt.flushSync=function(e){return er(e)};kt.hydrate=function(e,t,n){if(!ks(t))throw Error(ne(200));return Is(null,e,t,!0,n)};kt.hydrateRoot=function(e,t,n){if(!ku(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Um;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Fm(t,null,e,1,n??null,i,!1,o,s),e[un]=t.current,Pi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ts(t)};kt.render=function(e,t,n){if(!ks(t))throw Error(ne(200));return Is(null,e,t,!1,n)};kt.unmountComponentAtNode=function(e){if(!ks(e))throw Error(ne(40));return e._reactRootContainer?(er(function(){Is(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};kt.unstable_batchedUpdates=xu;kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ks(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Is(e,t,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function zm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zm)}catch(e){console.error(e)}}zm(),zp.exports=kt;var Bm=zp.exports;const Av=Vi(Bm);var od=Bm;_l.createRoot=od.createRoot,_l.hydrateRoot=od.hydrateRoot;const st=({children:e,variant:t="primary",isLoading:n,className:r="",disabled:i,...o})=>{const s="px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 text-white shadow-lg shadow-indigo-500/30",secondary:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/50",ghost:"text-slate-400 hover:text-white hover:bg-slate-800"};return E.jsx("button",{className:`${s} ${l[t]} ${r}`,disabled:i||n,...o,children:n?E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):e})},Ae={siteTitle:" / ",masterKey:"0408",remoteJsonUrl:"https://raw.githubusercontent.com/SABRINA242/keyword-helper/refs/heads/main/story/users.json",adminContact:":  ",loggingWebhookUrl:"",storagePrefix:"chosun_v3_"};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nv,Pv;function Rv(){return{geminiUrl:Nv,vertexUrl:Pv}}function bv(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const s=Rv();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hn{}function le(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function d(e,t,n){for(let o=0;o<t.length-1;o++){const s=t[o];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in e))if(Array.isArray(n))e[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[l])){const a=e[l];if(Array.isArray(n))for(let c=0;c<a.length;c++){const f=a[c];d(f,t.slice(o+1),n[c])}else for(const c of a)d(c,t.slice(o+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in e||(e[l]=[{}]);const a=e[l];d(a[0],t.slice(o+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function u(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const s=e[o];return Array.isArray(s)?s.map(l=>u(l,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Mv(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),s=new Set;let l=-1;for(let a=0;a<i.length;a++)if(i[a]==="*"){l=a;break}if(l!==-1&&o.length>l)for(let a=l;a<o.length;a++){const c=o[a];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}pa(e,i,o,0,s)}}function pa(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const s=o.slice(0,-2),l=e;if(s in l&&Array.isArray(l[s]))for(const a of l[s])pa(a,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,l=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),a={};for(const c of l)a[c]=s[c];for(const[c,f]of Object.entries(a)){const p=[];for(const h of n.slice(r))h==="*"?p.push(c):p.push(h);d(s,p,f)}for(const c of l)delete s[c]}}else{const s=e;o in s&&pa(s[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iu(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dv(e){const t={},n=u(e,["operationName"]);n!=null&&d(t,["operationName"],n);const r=u(e,["resourceName"]);return r!=null&&d(t,["_url","resourceName"],r),t}function Lv(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata"]);r!=null&&d(t,["metadata"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["response","generateVideoResponse"]);return s!=null&&d(t,["response"],Uv(s)),t}function Fv(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata"]);r!=null&&d(t,["metadata"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["response"]);return s!=null&&d(t,["response"],zv(s)),t}function Uv(e){const t={},n=u(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Bv(s))),d(t,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&d(t,["raiMediaFilteredReasons"],i),t}function zv(e){const t={},n=u(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Vv(s))),d(t,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&d(t,["raiMediaFilteredReasons"],i),t}function Bv(e){const t={},n=u(e,["video"]);return n!=null&&d(t,["video"],Jv(n)),t}function Vv(e){const t={},n=u(e,["_self"]);return n!=null&&d(t,["video"],Wv(n)),t}function Ov(e){const t={},n=u(e,["operationName"]);return n!=null&&d(t,["_url","operationName"],n),t}function Gv(e){const t={},n=u(e,["operationName"]);return n!=null&&d(t,["_url","operationName"],n),t}function Hv(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata"]);r!=null&&d(t,["metadata"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["response"]);return s!=null&&d(t,["response"],qv(s)),t}function qv(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["parent"]);r!=null&&d(t,["parent"],r);const i=u(e,["documentName"]);return i!=null&&d(t,["documentName"],i),t}function Vm(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata"]);r!=null&&d(t,["metadata"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["response"]);return s!=null&&d(t,["response"],$v(s)),t}function $v(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["parent"]);r!=null&&d(t,["parent"],r);const i=u(e,["documentName"]);return i!=null&&d(t,["documentName"],i),t}function Jv(e){const t={},n=u(e,["uri"]);n!=null&&d(t,["uri"],n);const r=u(e,["encodedVideo"]);r!=null&&d(t,["videoBytes"],Iu(r));const i=u(e,["encoding"]);return i!=null&&d(t,["mimeType"],i),t}function Wv(e){const t={},n=u(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const r=u(e,["bytesBase64Encoded"]);r!=null&&d(t,["videoBytes"],Iu(r));const i=u(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sd;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sd||(sd={}));var ld;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(ld||(ld={}));var ad;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ad||(ad={}));var kn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(kn||(kn={}));var ud;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ud||(ud={}));var cd;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cd||(cd={}));var dd;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(dd||(dd={}));var fd;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fd||(fd={}));var pd;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pd||(pd={}));var hd;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(hd||(hd={}));var md;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(md||(md={}));var gd;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(gd||(gd={}));var yd;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(yd||(yd={}));var vd;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(vd||(vd={}));var xd;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(xd||(xd={}));var _d;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_d||(_d={}));var Sd;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Sd||(Sd={}));var wd;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(wd||(wd={}));var Cd;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cd||(Cd={}));var ss;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(ss||(ss={}));var Ed;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ed||(Ed={}));var Td;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Td||(Td={}));var kd;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(kd||(kd={}));var ha;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ha||(ha={}));var Id;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Id||(Id={}));var Ad;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ad||(Ad={}));var Nd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Nd||(Nd={}));var Pd;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Pd||(Pd={}));var Rd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Rd||(Rd={}));var bd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(bd||(bd={}));var Md;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Md||(Md={}));var Dd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Dd||(Dd={}));var Ld;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Ld||(Ld={}));var Fd;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Fd||(Fd={}));var Ud;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ud||(Ud={}));var zd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zd||(zd={}));var Bd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bd||(Bd={}));var Vd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vd||(Vd={}));var Od;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Od||(Od={}));var Gd;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Gd||(Gd={}));var Hd;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Hd||(Hd={}));var qd;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(qd||(qd={}));var $d;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})($d||($d={}));var Jd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Jd||(Jd={}));var Wd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Wd||(Wd={}));var Kd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Kd||(Kd={}));var Yd;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Yd||(Yd={}));var Qd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Qd||(Qd={}));var Zd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Zd||(Zd={}));var Xd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xd||(Xd={}));var jd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(jd||(jd={}));var ef;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ef||(ef={}));var tf;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(tf||(tf={}));var nf;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(nf||(nf={}));var _r;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(_r||(_r={}));class ma{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class ni{get text(){var t,n,r,i,o,s,l,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const h of(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[m,x]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(x!==null||x!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var t,n,r,i,o,s,l,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,r,i,o,s,l,a;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,r,i,o,s,l,a,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,r,i,o,s,l,a,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(a=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class rf{}class of{}class Kv{}class Yv{}class Qv{}class Zv{}class sf{}class lf{}class af{}class Xv{}class ls{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ls;let i;const o=t;return n?i=Fv(o):i=Lv(o),Object.assign(r,i),r}}class uf{}class cf{}class df{}class ff{}class jv{}class ex{}class tx{}class Au{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Au,o=Hv(t);return Object.assign(r,o),r}}class nx{}class rx{}class ix{}class pf{}class ox{get text(){var t,n,r;let i="",o=!1;const s=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,c]of Object.entries(l))a!=="text"&&a!=="thought"&&c!==null&&s.push(a);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,a]of Object.entries(s))l!=="inlineData"&&a!==null&&o.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class sx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Nu{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Nu,o=Vm(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Se(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Om(e,t){const n=Se(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Gm(e){return Array.isArray(e)?e.map(t=>as(t)):[as(e)]}function as(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Hm(e){const t=as(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function qm(e){const t=as(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function hf(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function $m(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>hf(t)):[hf(e)]}function ga(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function mf(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function gf(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function tt(e){if(e==null)throw new Error("ContentUnion is required");return ga(e)?e:{role:"user",parts:$m(e)}}function Pu(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=tt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=tt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>tt(n)):[tt(t)]}function Mt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(mf(e)||gf(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tt(e)]}const t=[],n=[],r=ga(e[0]);for(const i of e){const o=ga(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(mf(i)||gf(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:$m(n)}),t}function lx(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(kn).includes(n[0].toUpperCase())?n[0].toUpperCase():kn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(kn).includes(r.toUpperCase())?r.toUpperCase():kn.TYPE_UNSPECIFIED})}}function Ir(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&lx(e.type,t);for(const[s,l]of Object.entries(e))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(kn).includes(l.toUpperCase())?l.toUpperCase():kn.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Ir(l);else if(r.includes(s)){const a=[];for(const c of l){if(c.type=="null"){t.nullable=!0;continue}a.push(Ir(c))}t[s]=a}else if(i.includes(s)){const a={};for(const[c,f]of Object.entries(l))a[c]=Ir(f);t[s]=a}else{if(s==="additionalProperties")continue;t[s]=l}return t}function Ru(e){return Ir(e)}function bu(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Mu(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Gr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ir(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ir(t.response));return e}function Hr(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function ax(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function mn(e,t){if(typeof t!="string")throw new Error("name must be a string");return ax(e,t,"cachedContents")}function Jm(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Vn(e){return Iu(e)}function ux(e){return e!=null&&typeof e=="object"&&"name"in e}function cx(e){return e!=null&&typeof e=="object"&&"video"in e}function dx(e){return e!=null&&typeof e=="object"&&"uri"in e}function Wm(e){var t;let n;if(ux(e)&&(n=e.name),!(dx(e)&&(n=e.uri,n===void 0))&&!(cx(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Km(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Ym(e){for(const t of["models","tunedModels","publisherModels"])if(fx(e,t))return e[t];return[]}function fx(e,t){return e!==null&&typeof e=="object"&&t in e}function px(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function hx(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=px(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Qm(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function mx(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Zm(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const a=s.response;if(typeof a!="object"||a===null)continue;if(a.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function qr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Xm(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(e){const t={},n=u(e,["responsesFile"]);n!=null&&d(t,["fileName"],n);const r=u(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Qx(s))),d(t,["inlinedResponses"],o)}const i=u(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["inlinedEmbedContentResponses"],o)}return t}function yx(e){const t={},n=u(e,["predictionsFormat"]);n!=null&&d(t,["format"],n);const r=u(e,["gcsDestination","outputUriPrefix"]);r!=null&&d(t,["gcsUri"],r);const i=u(e,["bigqueryDestination","outputUri"]);return i!=null&&d(t,["bigqueryUri"],i),t}function vx(e){const t={},n=u(e,["format"]);n!=null&&d(t,["predictionsFormat"],n);const r=u(e,["gcsUri"]);r!=null&&d(t,["gcsDestination","outputUriPrefix"],r);const i=u(e,["bigqueryUri"]);if(i!=null&&d(t,["bigqueryDestination","outputUri"],i),u(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function bo(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata","displayName"]);r!=null&&d(t,["displayName"],r);const i=u(e,["metadata","state"]);i!=null&&d(t,["state"],Xm(i));const o=u(e,["metadata","createTime"]);o!=null&&d(t,["createTime"],o);const s=u(e,["metadata","endTime"]);s!=null&&d(t,["endTime"],s);const l=u(e,["metadata","updateTime"]);l!=null&&d(t,["updateTime"],l);const a=u(e,["metadata","model"]);a!=null&&d(t,["model"],a);const c=u(e,["metadata","output"]);return c!=null&&d(t,["dest"],gx(Zm(c))),t}function ya(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["displayName"]);r!=null&&d(t,["displayName"],r);const i=u(e,["state"]);i!=null&&d(t,["state"],Xm(i));const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["createTime"]);s!=null&&d(t,["createTime"],s);const l=u(e,["startTime"]);l!=null&&d(t,["startTime"],l);const a=u(e,["endTime"]);a!=null&&d(t,["endTime"],a);const c=u(e,["updateTime"]);c!=null&&d(t,["updateTime"],c);const f=u(e,["model"]);f!=null&&d(t,["model"],f);const p=u(e,["inputConfig"]);p!=null&&d(t,["src"],xx(p));const h=u(e,["outputConfig"]);h!=null&&d(t,["dest"],yx(Zm(h)));const m=u(e,["completionStats"]);return m!=null&&d(t,["completionStats"],m),t}function xx(e){const t={},n=u(e,["instancesFormat"]);n!=null&&d(t,["format"],n);const r=u(e,["gcsSource","uris"]);r!=null&&d(t,["gcsUri"],r);const i=u(e,["bigquerySource","inputUri"]);return i!=null&&d(t,["bigqueryUri"],i),t}function _x(e,t){const n={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=u(t,["fileName"]);r!=null&&d(n,["fileName"],r);const i=u(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Yx(e,s))),d(n,["requests","requests"],o)}return n}function Sx(e){const t={},n=u(e,["format"]);n!=null&&d(t,["instancesFormat"],n);const r=u(e,["gcsUri"]);r!=null&&d(t,["gcsSource","uris"],r);const i=u(e,["bigqueryUri"]);if(i!=null&&d(t,["bigquerySource","inputUri"],i),u(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function wx(e){const t={},n=u(e,["data"]);if(n!=null&&d(t,["data"],n),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Cx(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],qr(e,r)),n}function Ex(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],qr(e,r)),n}function Tx(e){const t={},n=u(e,["content"]);n!=null&&d(t,["content"],n);const r=u(e,["citationMetadata"]);r!=null&&d(t,["citationMetadata"],kx(r));const i=u(e,["tokenCount"]);i!=null&&d(t,["tokenCount"],i);const o=u(e,["finishReason"]);o!=null&&d(t,["finishReason"],o);const s=u(e,["avgLogprobs"]);s!=null&&d(t,["avgLogprobs"],s);const l=u(e,["groundingMetadata"]);l!=null&&d(t,["groundingMetadata"],l);const a=u(e,["index"]);a!=null&&d(t,["index"],a);const c=u(e,["logprobsResult"]);c!=null&&d(t,["logprobsResult"],c);const f=u(e,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),d(t,["safetyRatings"],h)}const p=u(e,["urlContextMetadata"]);return p!=null&&d(t,["urlContextMetadata"],p),t}function kx(e){const t={},n=u(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(t,["citations"],r)}return t}function jm(e){const t={},n=u(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>r_(o))),d(t,["parts"],i)}const r=u(e,["role"]);return r!=null&&d(t,["role"],r),t}function Ix(e,t){const n={},r=u(e,["displayName"]);if(t!==void 0&&r!=null&&d(t,["batch","displayName"],r),u(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Ax(e,t){const n={},r=u(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const i=u(e,["dest"]);return t!==void 0&&i!=null&&d(t,["outputConfig"],vx(mx(i))),n}function yf(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["src"]);i!=null&&d(n,["batch","inputConfig"],_x(e,Qm(e,i)));const o=u(t,["config"]);return o!=null&&Ix(o,n),n}function Nx(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["model"],Se(e,r));const i=u(t,["src"]);i!=null&&d(n,["inputConfig"],Sx(Qm(e,i)));const o=u(t,["config"]);return o!=null&&Ax(o,n),n}function Px(e,t){const n={},r=u(e,["displayName"]);return t!==void 0&&r!=null&&d(t,["batch","displayName"],r),n}function Rx(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["src"]);i!=null&&d(n,["batch","inputConfig"],zx(e,i));const o=u(t,["config"]);return o!=null&&Px(o,n),n}function bx(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],qr(e,r)),n}function Mx(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],qr(e,r)),n}function Dx(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["name"]);r!=null&&d(t,["name"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);return o!=null&&d(t,["error"],o),t}function Lx(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["name"]);r!=null&&d(t,["name"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);return o!=null&&d(t,["error"],o),t}function Fx(e,t){const n={},r=u(t,["contents"]);if(r!=null){let o=Pu(e,r);Array.isArray(o)&&(o=o.map(s=>s)),d(n,["requests[]","request","content"],o)}const i=u(t,["config"]);return i!=null&&(d(n,["_self"],Ux(i,n)),Mv(n,{"requests[].*":"requests[].request.*"})),n}function Ux(e,t){const n={},r=u(e,["taskType"]);t!==void 0&&r!=null&&d(t,["requests[]","taskType"],r);const i=u(e,["title"]);t!==void 0&&i!=null&&d(t,["requests[]","title"],i);const o=u(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&d(t,["requests[]","outputDimensionality"],o),u(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function zx(e,t){const n={},r=u(t,["fileName"]);r!=null&&d(n,["file_name"],r);const i=u(t,["inlinedRequests"]);return i!=null&&d(n,["requests"],Fx(e,i)),n}function Bx(e){const t={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Vx(e){const t={},n=u(e,["id"]);n!=null&&d(t,["id"],n);const r=u(e,["args"]);r!=null&&d(t,["args"],r);const i=u(e,["name"]);if(i!=null&&d(t,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ox(e){const t={},n=u(e,["mode"]);n!=null&&d(t,["mode"],n);const r=u(e,["allowedFunctionNames"]);if(r!=null&&d(t,["allowedFunctionNames"],r),u(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Gx(e,t,n){const r={},i=u(t,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],jm(tt(i)));const o=u(t,["temperature"]);o!=null&&d(r,["temperature"],o);const s=u(t,["topP"]);s!=null&&d(r,["topP"],s);const l=u(t,["topK"]);l!=null&&d(r,["topK"],l);const a=u(t,["candidateCount"]);a!=null&&d(r,["candidateCount"],a);const c=u(t,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=u(t,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const p=u(t,["responseLogprobs"]);p!=null&&d(r,["responseLogprobs"],p);const h=u(t,["logprobs"]);h!=null&&d(r,["logprobs"],h);const m=u(t,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const x=u(t,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const y=u(t,["seed"]);y!=null&&d(r,["seed"],y);const C=u(t,["responseMimeType"]);C!=null&&d(r,["responseMimeType"],C);const g=u(t,["responseSchema"]);g!=null&&d(r,["responseSchema"],Ru(g));const v=u(t,["responseJsonSchema"]);if(v!=null&&d(r,["responseJsonSchema"],v),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=u(t,["safetySettings"]);if(n!==void 0&&S!=null){let N=S;Array.isArray(N)&&(N=N.map(H=>i_(H))),d(n,["safetySettings"],N)}const T=u(t,["tools"]);if(n!==void 0&&T!=null){let N=Hr(T);Array.isArray(N)&&(N=N.map(H=>s_(Gr(H)))),d(n,["tools"],N)}const I=u(t,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],o_(I)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(t,["cachedContent"]);n!==void 0&&A!=null&&d(n,["cachedContent"],mn(e,A));const M=u(t,["responseModalities"]);M!=null&&d(r,["responseModalities"],M);const U=u(t,["mediaResolution"]);U!=null&&d(r,["mediaResolution"],U);const D=u(t,["speechConfig"]);if(D!=null&&d(r,["speechConfig"],bu(D)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=u(t,["thinkingConfig"]);O!=null&&d(r,["thinkingConfig"],O);const K=u(t,["imageConfig"]);return K!=null&&d(r,["imageConfig"],Kx(K)),r}function Hx(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Tx(c))),d(t,["candidates"],a)}const i=u(e,["modelVersion"]);i!=null&&d(t,["modelVersion"],i);const o=u(e,["promptFeedback"]);o!=null&&d(t,["promptFeedback"],o);const s=u(e,["responseId"]);s!=null&&d(t,["responseId"],s);const l=u(e,["usageMetadata"]);return l!=null&&d(t,["usageMetadata"],l),t}function qx(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],qr(e,r)),n}function $x(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],qr(e,r)),n}function Jx(e){const t={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function Wx(e){const t={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function Kx(e){const t={},n=u(e,["aspectRatio"]);n!=null&&d(t,["aspectRatio"],n);const r=u(e,["imageSize"]);if(r!=null&&d(t,["imageSize"],r),u(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Yx(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["request","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let l=Mt(i);Array.isArray(l)&&(l=l.map(a=>jm(a))),d(n,["request","contents"],l)}const o=u(t,["metadata"]);o!=null&&d(n,["metadata"],o);const s=u(t,["config"]);return s!=null&&d(n,["request","generationConfig"],Gx(e,s,u(n,["request"],{}))),n}function Qx(e){const t={},n=u(e,["response"]);n!=null&&d(t,["response"],Hx(n));const r=u(e,["error"]);return r!=null&&d(t,["error"],r),t}function Zx(e,t){const n={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const i=u(e,["pageToken"]);if(t!==void 0&&i!=null&&d(t,["_query","pageToken"],i),u(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Xx(e,t){const n={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const i=u(e,["pageToken"]);t!==void 0&&i!=null&&d(t,["_query","pageToken"],i);const o=u(e,["filter"]);return t!==void 0&&o!=null&&d(t,["_query","filter"],o),n}function jx(e){const t={},n=u(e,["config"]);return n!=null&&Zx(n,t),t}function e_(e){const t={},n=u(e,["config"]);return n!=null&&Xx(n,t),t}function t_(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>bo(s))),d(t,["batchJobs"],o)}return t}function n_(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ya(s))),d(t,["batchJobs"],o)}return t}function r_(e){const t={},n=u(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const r=u(e,["codeExecutionResult"]);r!=null&&d(t,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&d(t,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&d(t,["fileData"],Bx(o));const s=u(e,["functionCall"]);s!=null&&d(t,["functionCall"],Vx(s));const l=u(e,["functionResponse"]);l!=null&&d(t,["functionResponse"],l);const a=u(e,["inlineData"]);a!=null&&d(t,["inlineData"],wx(a));const c=u(e,["text"]);c!=null&&d(t,["text"],c);const f=u(e,["thought"]);f!=null&&d(t,["thought"],f);const p=u(e,["thoughtSignature"]);p!=null&&d(t,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&d(t,["videoMetadata"],h),t}function i_(e){const t={},n=u(e,["category"]);if(n!=null&&d(t,["category"],n),u(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(e,["threshold"]);return r!=null&&d(t,["threshold"],r),t}function o_(e){const t={},n=u(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],Ox(n));const r=u(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],r),t}function s_(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(t,["functionDeclarations"],f)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&d(t,["fileSearch"],o);const s=u(e,["codeExecution"]);if(s!=null&&d(t,["codeExecution"],s),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=u(e,["googleMaps"]);l!=null&&d(t,["googleMaps"],Jx(l));const a=u(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],Wx(a));const c=u(e,["urlContext"]);return c!=null&&d(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(fn||(fn={}));class rr{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l_ extends hn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new rr(fn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=yf(this.apiClient,t),r=n._url,i=le("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,a=l.requests,c=[];for(const f of a){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}c.push(p)}return l.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),s=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=Nx(this.apiClient,t);return l=le("batchPredictionJobs",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>ya(f))}else{const c=yf(this.apiClient,t);return l=le("{model}:batchGenerateContent",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>bo(f))}}async createEmbeddingsInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Rx(this.apiClient,t);return o=le("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>bo(a))}}async get(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=$x(this.apiClient,t);return l=le("batchPredictionJobs/{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>ya(f))}else{const c=qx(this.apiClient,t);return l=le("batches/{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>bo(f))}}async cancel(t){var n,r,i,o;let s="",l={};if(this.apiClient.isVertexAI()){const a=Ex(this.apiClient,t);s=le("batchPredictionJobs/{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const a=Cx(this.apiClient,t);s=le("batches/{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=e_(t);return l=le("batchPredictionJobs",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=n_(f),h=new pf;return Object.assign(h,p),h})}else{const c=jx(t);return l=le("batches",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=t_(f),h=new pf;return Object.assign(h,p),h})}}async delete(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=Mx(this.apiClient,t);return l=le("batchPredictionJobs/{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Lx(f))}else{const c=bx(this.apiClient,t);return l=le("batches/{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Dx(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(e){const t={},n=u(e,["data"]);if(n!=null&&d(t,["data"],n),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function vf(e){const t={},n=u(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>R_(o))),d(t,["parts"],i)}const r=u(e,["role"]);return r!=null&&d(t,["role"],r),t}function u_(e,t){const n={},r=u(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const i=u(e,["expireTime"]);t!==void 0&&i!=null&&d(t,["expireTime"],i);const o=u(e,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const s=u(e,["contents"]);if(t!==void 0&&s!=null){let f=Mt(s);Array.isArray(f)&&(f=f.map(p=>vf(p))),d(t,["contents"],f)}const l=u(e,["systemInstruction"]);t!==void 0&&l!=null&&d(t,["systemInstruction"],vf(tt(l)));const a=u(e,["tools"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>M_(p))),d(t,["tools"],f)}const c=u(e,["toolConfig"]);if(t!==void 0&&c!=null&&d(t,["toolConfig"],b_(c)),u(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function c_(e,t){const n={},r=u(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const i=u(e,["expireTime"]);t!==void 0&&i!=null&&d(t,["expireTime"],i);const o=u(e,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const s=u(e,["contents"]);if(t!==void 0&&s!=null){let p=Mt(s);Array.isArray(p)&&(p=p.map(h=>h)),d(t,["contents"],p)}const l=u(e,["systemInstruction"]);t!==void 0&&l!=null&&d(t,["systemInstruction"],tt(l));const a=u(e,["tools"]);if(t!==void 0&&a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>D_(h))),d(t,["tools"],p)}const c=u(e,["toolConfig"]);t!==void 0&&c!=null&&d(t,["toolConfig"],c);const f=u(e,["kmsKeyName"]);return t!==void 0&&f!=null&&d(t,["encryption_spec","kmsKeyName"],f),n}function d_(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["model"],Om(e,r));const i=u(t,["config"]);return i!=null&&u_(i,n),n}function f_(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["model"],Om(e,r));const i=u(t,["config"]);return i!=null&&c_(i,n),n}function p_(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],mn(e,r)),n}function h_(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],mn(e,r)),n}function m_(e){const t={},n=u(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function g_(e){const t={},n=u(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function y_(e){const t={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function v_(e){const t={},n=u(e,["id"]);n!=null&&d(t,["id"],n);const r=u(e,["args"]);r!=null&&d(t,["args"],r);const i=u(e,["name"]);if(i!=null&&d(t,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function x_(e){const t={},n=u(e,["mode"]);n!=null&&d(t,["mode"],n);const r=u(e,["allowedFunctionNames"]);if(r!=null&&d(t,["allowedFunctionNames"],r),u(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function __(e){const t={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(e,["description"]);n!=null&&d(t,["description"],n);const r=u(e,["name"]);r!=null&&d(t,["name"],r);const i=u(e,["parameters"]);i!=null&&d(t,["parameters"],i);const o=u(e,["parametersJsonSchema"]);o!=null&&d(t,["parametersJsonSchema"],o);const s=u(e,["response"]);s!=null&&d(t,["response"],s);const l=u(e,["responseJsonSchema"]);return l!=null&&d(t,["responseJsonSchema"],l),t}function S_(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],mn(e,r)),n}function w_(e,t){const n={},r=u(t,["name"]);return r!=null&&d(n,["_url","name"],mn(e,r)),n}function C_(e){const t={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function E_(e){const t={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function T_(e,t){const n={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const i=u(e,["pageToken"]);return t!==void 0&&i!=null&&d(t,["_query","pageToken"],i),n}function k_(e,t){const n={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const i=u(e,["pageToken"]);return t!==void 0&&i!=null&&d(t,["_query","pageToken"],i),n}function I_(e){const t={},n=u(e,["config"]);return n!=null&&T_(n,t),t}function A_(e){const t={},n=u(e,["config"]);return n!=null&&k_(n,t),t}function N_(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["cachedContents"],o)}return t}function P_(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["cachedContents"],o)}return t}function R_(e){const t={},n=u(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const r=u(e,["codeExecutionResult"]);r!=null&&d(t,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&d(t,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&d(t,["fileData"],y_(o));const s=u(e,["functionCall"]);s!=null&&d(t,["functionCall"],v_(s));const l=u(e,["functionResponse"]);l!=null&&d(t,["functionResponse"],l);const a=u(e,["inlineData"]);a!=null&&d(t,["inlineData"],a_(a));const c=u(e,["text"]);c!=null&&d(t,["text"],c);const f=u(e,["thought"]);f!=null&&d(t,["thought"],f);const p=u(e,["thoughtSignature"]);p!=null&&d(t,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&d(t,["videoMetadata"],h),t}function b_(e){const t={},n=u(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],x_(n));const r=u(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],r),t}function M_(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(t,["functionDeclarations"],f)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&d(t,["fileSearch"],o);const s=u(e,["codeExecution"]);if(s!=null&&d(t,["codeExecution"],s),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=u(e,["googleMaps"]);l!=null&&d(t,["googleMaps"],C_(l));const a=u(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],E_(a));const c=u(e,["urlContext"]);return c!=null&&d(t,["urlContext"],c),t}function D_(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>__(h))),d(t,["functionDeclarations"],p)}const r=u(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const i=u(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const o=u(e,["computerUse"]);if(o!=null&&d(t,["computerUse"],o),u(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(e,["codeExecution"]);s!=null&&d(t,["codeExecution"],s);const l=u(e,["enterpriseWebSearch"]);l!=null&&d(t,["enterpriseWebSearch"],l);const a=u(e,["googleMaps"]);a!=null&&d(t,["googleMaps"],a);const c=u(e,["googleSearch"]);c!=null&&d(t,["googleSearch"],c);const f=u(e,["urlContext"]);return f!=null&&d(t,["urlContext"],f),t}function L_(e,t){const n={},r=u(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const i=u(e,["expireTime"]);return t!==void 0&&i!=null&&d(t,["expireTime"],i),n}function F_(e,t){const n={},r=u(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const i=u(e,["expireTime"]);return t!==void 0&&i!=null&&d(t,["expireTime"],i),n}function U_(e,t){const n={},r=u(t,["name"]);r!=null&&d(n,["_url","name"],mn(e,r));const i=u(t,["config"]);return i!=null&&L_(i,n),n}function z_(e,t){const n={},r=u(t,["name"]);r!=null&&d(n,["_url","name"],mn(e,r));const i=u(t,["config"]);return i!=null&&F_(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B_ extends hn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new rr(fn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=f_(this.apiClient,t);return l=le("cachedContents",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=d_(this.apiClient,t);return l=le("cachedContents",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=w_(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=S_(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=h_(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=g_(f),h=new df;return Object.assign(h,p),h})}else{const c=p_(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=m_(f),h=new df;return Object.assign(h,p),h})}}async update(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=z_(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=U_(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=A_(t);return l=le("cachedContents",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=P_(f),h=new ff;return Object.assign(h,p),h})}else{const c=I_(t);return l=le("cachedContents",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=N_(f),h=new ff;return Object.assign(h,p),h})}}}function xf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(e){return this instanceof be?(this.v=e,this):new be(e)}function Ar(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(x){return Promise.resolve(x).then(m,p)}}function l(m,x){r[m]&&(i[m]=function(y){return new Promise(function(C,g){o.push([m,y,C,g])>1||a(m,y)})},x&&(i[m]=x(i[m])))}function a(m,x){try{c(r[m](x))}catch(y){h(o[0][3],y)}}function c(m){m.value instanceof be?Promise.resolve(m.value.v).then(f,p):h(o[0][2],m)}function f(m){a("next",m)}function p(m){a("throw",m)}function h(m,x){m(x),o.shift(),o.length&&a(o[0][0],o[0][1])}}function vi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xf=="function"?xf(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(l,a){s=e[o](s),i(l,a,s.done,s.value)})}}function i(o,s,l,a){Promise.resolve(a).then(function(c){o({value:c,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V_(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:eg(n)}function eg(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function O_(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _f(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!eg(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class G_{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new H_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class H_{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),O_(o)}async sendMessage(t){var n;await this.sendPromise;const r=tt(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,l;const a=await i,c=(s=(o=a.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,f=a.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(l=f.slice(p))!==null&&l!==void 0?l:[]);const m=c?[c]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=tt(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?_f(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return Ar(this,arguments,function*(){var s,l,a,c;const f=[];try{for(var p=!0,h=vi(t),m;m=yield be(h.next()),s=m.done,!s;p=!0){c=m.value,p=!1;const x=c;if(V_(x)){const y=(i=(r=x.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&f.push(y)}yield yield be(x)}}catch(x){l={error:x}}finally{try{!p&&!s&&(a=h.return)&&(yield be(a.call(h)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._f(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class As extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,As.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q_(e){const t={},n=u(e,["file"]);return n!=null&&d(t,["file"],n),t}function $_(e){const t={},n=u(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function J_(e){const t={},n=u(e,["name"]);return n!=null&&d(t,["_url","file"],Wm(n)),t}function W_(e){const t={},n=u(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function K_(e){const t={},n=u(e,["name"]);return n!=null&&d(t,["_url","file"],Wm(n)),t}function Y_(e,t){const n={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const i=u(e,["pageToken"]);return t!==void 0&&i!=null&&d(t,["_query","pageToken"],i),n}function Q_(e){const t={},n=u(e,["config"]);return n!=null&&Y_(n,t),t}function Z_(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends hn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new rr(fn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Q_(t);return o=le("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const c=Z_(a),f=new nx;return Object.assign(f,c),f})}}async createInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=q_(t);return o=le("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const c=$_(a),f=new rx;return Object.assign(f,c),f})}}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=K_(t);return o=le("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=J_(t);return o=le("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const c=W_(a),f=new ix;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mo(e){const t={},n=u(e,["data"]);if(n!=null&&d(t,["data"],n),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function j_(e){const t={},n=u(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mS(o))),d(t,["parts"],i)}const r=u(e,["role"]);return r!=null&&d(t,["role"],r),t}function eS(e){const t={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function tS(e){const t={},n=u(e,["id"]);n!=null&&d(t,["id"],n);const r=u(e,["args"]);r!=null&&d(t,["args"],r);const i=u(e,["name"]);if(i!=null&&d(t,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nS(e){const t={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(e,["description"]);n!=null&&d(t,["description"],n);const r=u(e,["name"]);r!=null&&d(t,["name"],r);const i=u(e,["parameters"]);i!=null&&d(t,["parameters"],i);const o=u(e,["parametersJsonSchema"]);o!=null&&d(t,["parametersJsonSchema"],o);const s=u(e,["response"]);s!=null&&d(t,["response"],s);const l=u(e,["responseJsonSchema"]);return l!=null&&d(t,["responseJsonSchema"],l),t}function rS(e){const t={},n=u(e,["modelSelectionConfig"]);n!=null&&d(t,["modelConfig"],n);const r=u(e,["responseJsonSchema"]);r!=null&&d(t,["responseJsonSchema"],r);const i=u(e,["audioTimestamp"]);i!=null&&d(t,["audioTimestamp"],i);const o=u(e,["candidateCount"]);o!=null&&d(t,["candidateCount"],o);const s=u(e,["enableAffectiveDialog"]);s!=null&&d(t,["enableAffectiveDialog"],s);const l=u(e,["frequencyPenalty"]);l!=null&&d(t,["frequencyPenalty"],l);const a=u(e,["logprobs"]);a!=null&&d(t,["logprobs"],a);const c=u(e,["maxOutputTokens"]);c!=null&&d(t,["maxOutputTokens"],c);const f=u(e,["mediaResolution"]);f!=null&&d(t,["mediaResolution"],f);const p=u(e,["presencePenalty"]);p!=null&&d(t,["presencePenalty"],p);const h=u(e,["responseLogprobs"]);h!=null&&d(t,["responseLogprobs"],h);const m=u(e,["responseMimeType"]);m!=null&&d(t,["responseMimeType"],m);const x=u(e,["responseModalities"]);x!=null&&d(t,["responseModalities"],x);const y=u(e,["responseSchema"]);y!=null&&d(t,["responseSchema"],y);const C=u(e,["routingConfig"]);C!=null&&d(t,["routingConfig"],C);const g=u(e,["seed"]);g!=null&&d(t,["seed"],g);const v=u(e,["speechConfig"]);v!=null&&d(t,["speechConfig"],tg(v));const S=u(e,["stopSequences"]);S!=null&&d(t,["stopSequences"],S);const T=u(e,["temperature"]);T!=null&&d(t,["temperature"],T);const I=u(e,["thinkingConfig"]);I!=null&&d(t,["thinkingConfig"],I);const A=u(e,["topK"]);A!=null&&d(t,["topK"],A);const M=u(e,["topP"]);if(M!=null&&d(t,["topP"],M),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function iS(e){const t={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function oS(e){const t={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function sS(e,t){const n={},r=u(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const i=u(e,["responseModalities"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig","responseModalities"],i);const o=u(e,["temperature"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","temperature"],o);const s=u(e,["topP"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","topP"],s);const l=u(e,["topK"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","topK"],l);const a=u(e,["maxOutputTokens"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","maxOutputTokens"],a);const c=u(e,["mediaResolution"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","mediaResolution"],c);const f=u(e,["seed"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","seed"],f);const p=u(e,["speechConfig"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","speechConfig"],Mu(p));const h=u(e,["thinkingConfig"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","thinkingConfig"],h);const m=u(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=u(e,["systemInstruction"]);t!==void 0&&x!=null&&d(t,["setup","systemInstruction"],j_(tt(x)));const y=u(e,["tools"]);if(t!==void 0&&y!=null){let A=Hr(y);Array.isArray(A)&&(A=A.map(M=>yS(Gr(M)))),d(t,["setup","tools"],A)}const C=u(e,["sessionResumption"]);t!==void 0&&C!=null&&d(t,["setup","sessionResumption"],gS(C));const g=u(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&d(t,["setup","inputAudioTranscription"],g);const v=u(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&d(t,["setup","outputAudioTranscription"],v);const S=u(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&d(t,["setup","realtimeInputConfig"],S);const T=u(e,["contextWindowCompression"]);t!==void 0&&T!=null&&d(t,["setup","contextWindowCompression"],T);const I=u(e,["proactivity"]);return t!==void 0&&I!=null&&d(t,["setup","proactivity"],I),n}function lS(e,t){const n={},r=u(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],rS(r));const i=u(e,["responseModalities"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig","responseModalities"],i);const o=u(e,["temperature"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","temperature"],o);const s=u(e,["topP"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","topP"],s);const l=u(e,["topK"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","topK"],l);const a=u(e,["maxOutputTokens"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","maxOutputTokens"],a);const c=u(e,["mediaResolution"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","mediaResolution"],c);const f=u(e,["seed"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","seed"],f);const p=u(e,["speechConfig"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","speechConfig"],tg(Mu(p)));const h=u(e,["thinkingConfig"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","thinkingConfig"],h);const m=u(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=u(e,["systemInstruction"]);t!==void 0&&x!=null&&d(t,["setup","systemInstruction"],tt(x));const y=u(e,["tools"]);if(t!==void 0&&y!=null){let A=Hr(y);Array.isArray(A)&&(A=A.map(M=>vS(Gr(M)))),d(t,["setup","tools"],A)}const C=u(e,["sessionResumption"]);t!==void 0&&C!=null&&d(t,["setup","sessionResumption"],C);const g=u(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&d(t,["setup","inputAudioTranscription"],g);const v=u(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&d(t,["setup","outputAudioTranscription"],v);const S=u(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&d(t,["setup","realtimeInputConfig"],S);const T=u(e,["contextWindowCompression"]);t!==void 0&&T!=null&&d(t,["setup","contextWindowCompression"],T);const I=u(e,["proactivity"]);return t!==void 0&&I!=null&&d(t,["setup","proactivity"],I),n}function aS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["setup","model"],Se(e,r));const i=u(t,["config"]);return i!=null&&d(n,["config"],sS(i,n)),n}function uS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["setup","model"],Se(e,r));const i=u(t,["config"]);return i!=null&&d(n,["config"],lS(i,n)),n}function cS(e){const t={},n=u(e,["musicGenerationConfig"]);return n!=null&&d(t,["musicGenerationConfig"],n),t}function dS(e){const t={},n=u(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(t,["weightedPrompts"],r)}return t}function fS(e){const t={},n=u(e,["media"]);if(n!=null){let c=Gm(n);Array.isArray(c)&&(c=c.map(f=>Mo(f))),d(t,["mediaChunks"],c)}const r=u(e,["audio"]);r!=null&&d(t,["audio"],Mo(qm(r)));const i=u(e,["audioStreamEnd"]);i!=null&&d(t,["audioStreamEnd"],i);const o=u(e,["video"]);o!=null&&d(t,["video"],Mo(Hm(o)));const s=u(e,["text"]);s!=null&&d(t,["text"],s);const l=u(e,["activityStart"]);l!=null&&d(t,["activityStart"],l);const a=u(e,["activityEnd"]);return a!=null&&d(t,["activityEnd"],a),t}function pS(e){const t={},n=u(e,["media"]);if(n!=null){let c=Gm(n);Array.isArray(c)&&(c=c.map(f=>f)),d(t,["mediaChunks"],c)}const r=u(e,["audio"]);r!=null&&d(t,["audio"],qm(r));const i=u(e,["audioStreamEnd"]);i!=null&&d(t,["audioStreamEnd"],i);const o=u(e,["video"]);o!=null&&d(t,["video"],Hm(o));const s=u(e,["text"]);s!=null&&d(t,["text"],s);const l=u(e,["activityStart"]);l!=null&&d(t,["activityStart"],l);const a=u(e,["activityEnd"]);return a!=null&&d(t,["activityEnd"],a),t}function hS(e){const t={},n=u(e,["setupComplete"]);n!=null&&d(t,["setupComplete"],n);const r=u(e,["serverContent"]);r!=null&&d(t,["serverContent"],r);const i=u(e,["toolCall"]);i!=null&&d(t,["toolCall"],i);const o=u(e,["toolCallCancellation"]);o!=null&&d(t,["toolCallCancellation"],o);const s=u(e,["usageMetadata"]);s!=null&&d(t,["usageMetadata"],xS(s));const l=u(e,["goAway"]);l!=null&&d(t,["goAway"],l);const a=u(e,["sessionResumptionUpdate"]);return a!=null&&d(t,["sessionResumptionUpdate"],a),t}function mS(e){const t={},n=u(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const r=u(e,["codeExecutionResult"]);r!=null&&d(t,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&d(t,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&d(t,["fileData"],eS(o));const s=u(e,["functionCall"]);s!=null&&d(t,["functionCall"],tS(s));const l=u(e,["functionResponse"]);l!=null&&d(t,["functionResponse"],l);const a=u(e,["inlineData"]);a!=null&&d(t,["inlineData"],Mo(a));const c=u(e,["text"]);c!=null&&d(t,["text"],c);const f=u(e,["thought"]);f!=null&&d(t,["thought"],f);const p=u(e,["thoughtSignature"]);p!=null&&d(t,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&d(t,["videoMetadata"],h),t}function gS(e){const t={},n=u(e,["handle"]);if(n!=null&&d(t,["handle"],n),u(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function tg(e){const t={},n=u(e,["languageCode"]);n!=null&&d(t,["languageCode"],n);const r=u(e,["voiceConfig"]);if(r!=null&&d(t,["voiceConfig"],r),u(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function yS(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(t,["functionDeclarations"],f)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&d(t,["fileSearch"],o);const s=u(e,["codeExecution"]);if(s!=null&&d(t,["codeExecution"],s),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=u(e,["googleMaps"]);l!=null&&d(t,["googleMaps"],iS(l));const a=u(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],oS(a));const c=u(e,["urlContext"]);return c!=null&&d(t,["urlContext"],c),t}function vS(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>nS(h))),d(t,["functionDeclarations"],p)}const r=u(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const i=u(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const o=u(e,["computerUse"]);if(o!=null&&d(t,["computerUse"],o),u(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(e,["codeExecution"]);s!=null&&d(t,["codeExecution"],s);const l=u(e,["enterpriseWebSearch"]);l!=null&&d(t,["enterpriseWebSearch"],l);const a=u(e,["googleMaps"]);a!=null&&d(t,["googleMaps"],a);const c=u(e,["googleSearch"]);c!=null&&d(t,["googleSearch"],c);const f=u(e,["urlContext"]);return f!=null&&d(t,["urlContext"],f),t}function xS(e){const t={},n=u(e,["promptTokenCount"]);n!=null&&d(t,["promptTokenCount"],n);const r=u(e,["cachedContentTokenCount"]);r!=null&&d(t,["cachedContentTokenCount"],r);const i=u(e,["candidatesTokenCount"]);i!=null&&d(t,["responseTokenCount"],i);const o=u(e,["toolUsePromptTokenCount"]);o!=null&&d(t,["toolUsePromptTokenCount"],o);const s=u(e,["thoughtsTokenCount"]);s!=null&&d(t,["thoughtsTokenCount"],s);const l=u(e,["totalTokenCount"]);l!=null&&d(t,["totalTokenCount"],l);const a=u(e,["promptTokensDetails"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(x=>x)),d(t,["promptTokensDetails"],m)}const c=u(e,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(x=>x)),d(t,["cacheTokensDetails"],m)}const f=u(e,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(x=>x)),d(t,["responseTokensDetails"],m)}const p=u(e,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(x=>x)),d(t,["toolUsePromptTokensDetails"],m)}const h=u(e,["trafficType"]);return h!=null&&d(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(e){const t={},n=u(e,["data"]);if(n!=null&&d(t,["data"],n),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function SS(e){const t={},n=u(e,["content"]);n!=null&&d(t,["content"],n);const r=u(e,["citationMetadata"]);r!=null&&d(t,["citationMetadata"],wS(r));const i=u(e,["tokenCount"]);i!=null&&d(t,["tokenCount"],i);const o=u(e,["finishReason"]);o!=null&&d(t,["finishReason"],o);const s=u(e,["avgLogprobs"]);s!=null&&d(t,["avgLogprobs"],s);const l=u(e,["groundingMetadata"]);l!=null&&d(t,["groundingMetadata"],l);const a=u(e,["index"]);a!=null&&d(t,["index"],a);const c=u(e,["logprobsResult"]);c!=null&&d(t,["logprobsResult"],c);const f=u(e,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),d(t,["safetyRatings"],h)}const p=u(e,["urlContextMetadata"]);return p!=null&&d(t,["urlContextMetadata"],p),t}function wS(e){const t={},n=u(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(t,["citations"],r)}return t}function CS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let o=Mt(i);Array.isArray(o)&&(o=o.map(s=>s)),d(n,["contents"],o)}return n}function ES(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(t,["tokensInfo"],i)}return t}function TS(e){const t={},n=u(e,["values"]);n!=null&&d(t,["values"],n);const r=u(e,["statistics"]);return r!=null&&d(t,["statistics"],kS(r)),t}function kS(e){const t={},n=u(e,["truncated"]);n!=null&&d(t,["truncated"],n);const r=u(e,["token_count"]);return r!=null&&d(t,["tokenCount"],r),t}function Ns(e){const t={},n=u(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Lw(o))),d(t,["parts"],i)}const r=u(e,["role"]);return r!=null&&d(t,["role"],r),t}function IS(e){const t={},n=u(e,["controlType"]);n!=null&&d(t,["controlType"],n);const r=u(e,["enableControlImageComputation"]);return r!=null&&d(t,["computeControl"],r),t}function AS(e){const t={};if(u(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function NS(e,t){const n={},r=u(e,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],tt(r));const i=u(e,["tools"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>sg(l))),d(t,["tools"],s)}const o=u(e,["generationConfig"]);return t!==void 0&&o!=null&&d(t,["generationConfig"],_w(o)),n}function PS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let s=Mt(i);Array.isArray(s)&&(s=s.map(l=>Ns(l))),d(n,["contents"],s)}const o=u(t,["config"]);return o!=null&&AS(o),n}function RS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let s=Mt(i);Array.isArray(s)&&(s=s.map(l=>l)),d(n,["contents"],s)}const o=u(t,["config"]);return o!=null&&NS(o,n),n}function bS(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["totalTokens"]);r!=null&&d(t,["totalTokens"],r);const i=u(e,["cachedContentTokenCount"]);return i!=null&&d(t,["cachedContentTokenCount"],i),t}function MS(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["totalTokens"]);return r!=null&&d(t,["totalTokens"],r),t}function DS(e,t){const n={},r=u(t,["model"]);return r!=null&&d(n,["_url","name"],Se(e,r)),n}function LS(e,t){const n={},r=u(t,["model"]);return r!=null&&d(n,["_url","name"],Se(e,r)),n}function FS(e){const t={},n=u(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function US(e){const t={},n=u(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function zS(e,t){const n={},r=u(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const i=u(e,["negativePrompt"]);t!==void 0&&i!=null&&d(t,["parameters","negativePrompt"],i);const o=u(e,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const s=u(e,["aspectRatio"]);t!==void 0&&s!=null&&d(t,["parameters","aspectRatio"],s);const l=u(e,["guidanceScale"]);t!==void 0&&l!=null&&d(t,["parameters","guidanceScale"],l);const a=u(e,["seed"]);t!==void 0&&a!=null&&d(t,["parameters","seed"],a);const c=u(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&d(t,["parameters","safetySetting"],c);const f=u(e,["personGeneration"]);t!==void 0&&f!=null&&d(t,["parameters","personGeneration"],f);const p=u(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&d(t,["parameters","includeSafetyAttributes"],p);const h=u(e,["includeRaiReason"]);t!==void 0&&h!=null&&d(t,["parameters","includeRaiReason"],h);const m=u(e,["language"]);t!==void 0&&m!=null&&d(t,["parameters","language"],m);const x=u(e,["outputMimeType"]);t!==void 0&&x!=null&&d(t,["parameters","outputOptions","mimeType"],x);const y=u(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","compressionQuality"],y);const C=u(e,["addWatermark"]);t!==void 0&&C!=null&&d(t,["parameters","addWatermark"],C);const g=u(e,["labels"]);t!==void 0&&g!=null&&d(t,["labels"],g);const v=u(e,["editMode"]);t!==void 0&&v!=null&&d(t,["parameters","editMode"],v);const S=u(e,["baseSteps"]);return t!==void 0&&S!=null&&d(t,["parameters","editConfig","baseSteps"],S),n}function BS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=u(t,["referenceImages"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Ow(a))),d(n,["instances[0]","referenceImages"],l)}const s=u(t,["config"]);return s!=null&&zS(s,n),n}function VS(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ps(o))),d(t,["generatedImages"],i)}return t}function OS(e,t){const n={},r=u(e,["taskType"]);t!==void 0&&r!=null&&d(t,["requests[]","taskType"],r);const i=u(e,["title"]);t!==void 0&&i!=null&&d(t,["requests[]","title"],i);const o=u(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&d(t,["requests[]","outputDimensionality"],o),u(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function GS(e,t){const n={},r=u(e,["taskType"]);t!==void 0&&r!=null&&d(t,["instances[]","task_type"],r);const i=u(e,["title"]);t!==void 0&&i!=null&&d(t,["instances[]","title"],i);const o=u(e,["outputDimensionality"]);t!==void 0&&o!=null&&d(t,["parameters","outputDimensionality"],o);const s=u(e,["mimeType"]);t!==void 0&&s!=null&&d(t,["instances[]","mimeType"],s);const l=u(e,["autoTruncate"]);return t!==void 0&&l!=null&&d(t,["parameters","autoTruncate"],l),n}function HS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let l=Pu(e,i);Array.isArray(l)&&(l=l.map(a=>a)),d(n,["requests[]","content"],l)}const o=u(t,["config"]);o!=null&&OS(o,n);const s=u(t,["model"]);return s!==void 0&&d(n,["requests[]","model"],Se(e,s)),n}function qS(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let s=Pu(e,i);Array.isArray(s)&&(s=s.map(l=>l)),d(n,["instances[]","content"],s)}const o=u(t,["config"]);return o!=null&&GS(o,n),n}function $S(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["embeddings"],o)}const i=u(e,["metadata"]);return i!=null&&d(t,["metadata"],i),t}function JS(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>TS(s))),d(t,["embeddings"],o)}const i=u(e,["metadata"]);return i!=null&&d(t,["metadata"],i),t}function WS(e){const t={},n=u(e,["endpoint"]);n!=null&&d(t,["name"],n);const r=u(e,["deployedModelId"]);return r!=null&&d(t,["deployedModelId"],r),t}function KS(e){const t={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function YS(e){const t={},n=u(e,["id"]);n!=null&&d(t,["id"],n);const r=u(e,["args"]);r!=null&&d(t,["args"],r);const i=u(e,["name"]);if(i!=null&&d(t,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function QS(e){const t={},n=u(e,["mode"]);n!=null&&d(t,["mode"],n);const r=u(e,["allowedFunctionNames"]);if(r!=null&&d(t,["allowedFunctionNames"],r),u(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ZS(e){const t={};if(u(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=u(e,["description"]);n!=null&&d(t,["description"],n);const r=u(e,["name"]);r!=null&&d(t,["name"],r);const i=u(e,["parameters"]);i!=null&&d(t,["parameters"],i);const o=u(e,["parametersJsonSchema"]);o!=null&&d(t,["parametersJsonSchema"],o);const s=u(e,["response"]);s!=null&&d(t,["response"],s);const l=u(e,["responseJsonSchema"]);return l!=null&&d(t,["responseJsonSchema"],l),t}function XS(e,t,n){const r={},i=u(t,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],Ns(tt(i)));const o=u(t,["temperature"]);o!=null&&d(r,["temperature"],o);const s=u(t,["topP"]);s!=null&&d(r,["topP"],s);const l=u(t,["topK"]);l!=null&&d(r,["topK"],l);const a=u(t,["candidateCount"]);a!=null&&d(r,["candidateCount"],a);const c=u(t,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=u(t,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const p=u(t,["responseLogprobs"]);p!=null&&d(r,["responseLogprobs"],p);const h=u(t,["logprobs"]);h!=null&&d(r,["logprobs"],h);const m=u(t,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const x=u(t,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const y=u(t,["seed"]);y!=null&&d(r,["seed"],y);const C=u(t,["responseMimeType"]);C!=null&&d(r,["responseMimeType"],C);const g=u(t,["responseSchema"]);g!=null&&d(r,["responseSchema"],Ru(g));const v=u(t,["responseJsonSchema"]);if(v!=null&&d(r,["responseJsonSchema"],v),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=u(t,["safetySettings"]);if(n!==void 0&&S!=null){let N=S;Array.isArray(N)&&(N=N.map(H=>Gw(H))),d(n,["safetySettings"],N)}const T=u(t,["tools"]);if(n!==void 0&&T!=null){let N=Hr(T);Array.isArray(N)&&(N=N.map(H=>Yw(Gr(H)))),d(n,["tools"],N)}const I=u(t,["toolConfig"]);if(n!==void 0&&I!=null&&d(n,["toolConfig"],Kw(I)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(t,["cachedContent"]);n!==void 0&&A!=null&&d(n,["cachedContent"],mn(e,A));const M=u(t,["responseModalities"]);M!=null&&d(r,["responseModalities"],M);const U=u(t,["mediaResolution"]);U!=null&&d(r,["mediaResolution"],U);const D=u(t,["speechConfig"]);if(D!=null&&d(r,["speechConfig"],bu(D)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=u(t,["thinkingConfig"]);O!=null&&d(r,["thinkingConfig"],O);const K=u(t,["imageConfig"]);return K!=null&&d(r,["imageConfig"],Tw(K)),r}function jS(e,t,n){const r={},i=u(t,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],tt(i));const o=u(t,["temperature"]);o!=null&&d(r,["temperature"],o);const s=u(t,["topP"]);s!=null&&d(r,["topP"],s);const l=u(t,["topK"]);l!=null&&d(r,["topK"],l);const a=u(t,["candidateCount"]);a!=null&&d(r,["candidateCount"],a);const c=u(t,["maxOutputTokens"]);c!=null&&d(r,["maxOutputTokens"],c);const f=u(t,["stopSequences"]);f!=null&&d(r,["stopSequences"],f);const p=u(t,["responseLogprobs"]);p!=null&&d(r,["responseLogprobs"],p);const h=u(t,["logprobs"]);h!=null&&d(r,["logprobs"],h);const m=u(t,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const x=u(t,["frequencyPenalty"]);x!=null&&d(r,["frequencyPenalty"],x);const y=u(t,["seed"]);y!=null&&d(r,["seed"],y);const C=u(t,["responseMimeType"]);C!=null&&d(r,["responseMimeType"],C);const g=u(t,["responseSchema"]);g!=null&&d(r,["responseSchema"],Ru(g));const v=u(t,["responseJsonSchema"]);v!=null&&d(r,["responseJsonSchema"],v);const S=u(t,["routingConfig"]);S!=null&&d(r,["routingConfig"],S);const T=u(t,["modelSelectionConfig"]);T!=null&&d(r,["modelConfig"],T);const I=u(t,["safetySettings"]);if(n!==void 0&&I!=null){let Z=I;Array.isArray(Z)&&(Z=Z.map(J=>J)),d(n,["safetySettings"],Z)}const A=u(t,["tools"]);if(n!==void 0&&A!=null){let Z=Hr(A);Array.isArray(Z)&&(Z=Z.map(J=>sg(Gr(J)))),d(n,["tools"],Z)}const M=u(t,["toolConfig"]);n!==void 0&&M!=null&&d(n,["toolConfig"],M);const U=u(t,["labels"]);n!==void 0&&U!=null&&d(n,["labels"],U);const D=u(t,["cachedContent"]);n!==void 0&&D!=null&&d(n,["cachedContent"],mn(e,D));const O=u(t,["responseModalities"]);O!=null&&d(r,["responseModalities"],O);const K=u(t,["mediaResolution"]);K!=null&&d(r,["mediaResolution"],K);const N=u(t,["speechConfig"]);N!=null&&d(r,["speechConfig"],og(bu(N)));const H=u(t,["audioTimestamp"]);H!=null&&d(r,["audioTimestamp"],H);const w=u(t,["thinkingConfig"]);w!=null&&d(r,["thinkingConfig"],w);const B=u(t,["imageConfig"]);return B!=null&&d(r,["imageConfig"],kw(B)),r}function Sf(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let s=Mt(i);Array.isArray(s)&&(s=s.map(l=>Ns(l))),d(n,["contents"],s)}const o=u(t,["config"]);return o!=null&&d(n,["generationConfig"],XS(e,o,n)),n}function wf(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["contents"]);if(i!=null){let s=Mt(i);Array.isArray(s)&&(s=s.map(l=>l)),d(n,["contents"],s)}const o=u(t,["config"]);return o!=null&&d(n,["generationConfig"],jS(e,o,n)),n}function Cf(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["candidates"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>SS(c))),d(t,["candidates"],a)}const i=u(e,["modelVersion"]);i!=null&&d(t,["modelVersion"],i);const o=u(e,["promptFeedback"]);o!=null&&d(t,["promptFeedback"],o);const s=u(e,["responseId"]);s!=null&&d(t,["responseId"],s);const l=u(e,["usageMetadata"]);return l!=null&&d(t,["usageMetadata"],l),t}function Ef(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),d(t,["candidates"],c)}const i=u(e,["createTime"]);i!=null&&d(t,["createTime"],i);const o=u(e,["modelVersion"]);o!=null&&d(t,["modelVersion"],o);const s=u(e,["promptFeedback"]);s!=null&&d(t,["promptFeedback"],s);const l=u(e,["responseId"]);l!=null&&d(t,["responseId"],l);const a=u(e,["usageMetadata"]);return a!=null&&d(t,["usageMetadata"],a),t}function ew(e,t){const n={};if(u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(e,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const i=u(e,["aspectRatio"]);t!==void 0&&i!=null&&d(t,["parameters","aspectRatio"],i);const o=u(e,["guidanceScale"]);if(t!==void 0&&o!=null&&d(t,["parameters","guidanceScale"],o),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=u(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&d(t,["parameters","safetySetting"],s);const l=u(e,["personGeneration"]);t!==void 0&&l!=null&&d(t,["parameters","personGeneration"],l);const a=u(e,["includeSafetyAttributes"]);t!==void 0&&a!=null&&d(t,["parameters","includeSafetyAttributes"],a);const c=u(e,["includeRaiReason"]);t!==void 0&&c!=null&&d(t,["parameters","includeRaiReason"],c);const f=u(e,["language"]);t!==void 0&&f!=null&&d(t,["parameters","language"],f);const p=u(e,["outputMimeType"]);t!==void 0&&p!=null&&d(t,["parameters","outputOptions","mimeType"],p);const h=u(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&d(t,["parameters","outputOptions","compressionQuality"],h),u(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=u(e,["imageSize"]);if(t!==void 0&&m!=null&&d(t,["parameters","sampleImageSize"],m),u(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function tw(e,t){const n={},r=u(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const i=u(e,["negativePrompt"]);t!==void 0&&i!=null&&d(t,["parameters","negativePrompt"],i);const o=u(e,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const s=u(e,["aspectRatio"]);t!==void 0&&s!=null&&d(t,["parameters","aspectRatio"],s);const l=u(e,["guidanceScale"]);t!==void 0&&l!=null&&d(t,["parameters","guidanceScale"],l);const a=u(e,["seed"]);t!==void 0&&a!=null&&d(t,["parameters","seed"],a);const c=u(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&d(t,["parameters","safetySetting"],c);const f=u(e,["personGeneration"]);t!==void 0&&f!=null&&d(t,["parameters","personGeneration"],f);const p=u(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&d(t,["parameters","includeSafetyAttributes"],p);const h=u(e,["includeRaiReason"]);t!==void 0&&h!=null&&d(t,["parameters","includeRaiReason"],h);const m=u(e,["language"]);t!==void 0&&m!=null&&d(t,["parameters","language"],m);const x=u(e,["outputMimeType"]);t!==void 0&&x!=null&&d(t,["parameters","outputOptions","mimeType"],x);const y=u(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","compressionQuality"],y);const C=u(e,["addWatermark"]);t!==void 0&&C!=null&&d(t,["parameters","addWatermark"],C);const g=u(e,["labels"]);t!==void 0&&g!=null&&d(t,["labels"],g);const v=u(e,["imageSize"]);t!==void 0&&v!=null&&d(t,["parameters","sampleImageSize"],v);const S=u(e,["enhancePrompt"]);return t!==void 0&&S!=null&&d(t,["parameters","enhancePrompt"],S),n}function nw(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=u(t,["config"]);return o!=null&&ew(o,n),n}function rw(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=u(t,["config"]);return o!=null&&tw(o,n),n}function iw(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>gw(s))),d(t,["generatedImages"],o)}const i=u(e,["positivePromptSafetyAttributes"]);return i!=null&&d(t,["positivePromptSafetyAttributes"],rg(i)),t}function ow(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ps(s))),d(t,["generatedImages"],o)}const i=u(e,["positivePromptSafetyAttributes"]);return i!=null&&d(t,["positivePromptSafetyAttributes"],ig(i)),t}function sw(e,t){const n={},r=u(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r),u(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=u(e,["durationSeconds"]);if(t!==void 0&&i!=null&&d(t,["parameters","durationSeconds"],i),u(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=u(e,["aspectRatio"]);t!==void 0&&o!=null&&d(t,["parameters","aspectRatio"],o);const s=u(e,["resolution"]);t!==void 0&&s!=null&&d(t,["parameters","resolution"],s);const l=u(e,["personGeneration"]);if(t!==void 0&&l!=null&&d(t,["parameters","personGeneration"],l),u(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=u(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const c=u(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&d(t,["parameters","enhancePrompt"],c),u(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=u(e,["lastFrame"]);t!==void 0&&f!=null&&d(t,["instances[0]","lastFrame"],Rs(f));const p=u(e,["referenceImages"]);if(t!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>aC(m))),d(t,["instances[0]","referenceImages"],h)}if(u(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function lw(e,t){const n={},r=u(e,["numberOfVideos"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const i=u(e,["outputGcsUri"]);t!==void 0&&i!=null&&d(t,["parameters","storageUri"],i);const o=u(e,["fps"]);t!==void 0&&o!=null&&d(t,["parameters","fps"],o);const s=u(e,["durationSeconds"]);t!==void 0&&s!=null&&d(t,["parameters","durationSeconds"],s);const l=u(e,["seed"]);t!==void 0&&l!=null&&d(t,["parameters","seed"],l);const a=u(e,["aspectRatio"]);t!==void 0&&a!=null&&d(t,["parameters","aspectRatio"],a);const c=u(e,["resolution"]);t!==void 0&&c!=null&&d(t,["parameters","resolution"],c);const f=u(e,["personGeneration"]);t!==void 0&&f!=null&&d(t,["parameters","personGeneration"],f);const p=u(e,["pubsubTopic"]);t!==void 0&&p!=null&&d(t,["parameters","pubsubTopic"],p);const h=u(e,["negativePrompt"]);t!==void 0&&h!=null&&d(t,["parameters","negativePrompt"],h);const m=u(e,["enhancePrompt"]);t!==void 0&&m!=null&&d(t,["parameters","enhancePrompt"],m);const x=u(e,["generateAudio"]);t!==void 0&&x!=null&&d(t,["parameters","generateAudio"],x);const y=u(e,["lastFrame"]);t!==void 0&&y!=null&&d(t,["instances[0]","lastFrame"],qt(y));const C=u(e,["referenceImages"]);if(t!==void 0&&C!=null){let S=C;Array.isArray(S)&&(S=S.map(T=>uC(T))),d(t,["instances[0]","referenceImages"],S)}const g=u(e,["mask"]);t!==void 0&&g!=null&&d(t,["instances[0]","mask"],lC(g));const v=u(e,["compressionQuality"]);return t!==void 0&&v!=null&&d(t,["parameters","compressionQuality"],v),n}function aw(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata"]);r!=null&&d(t,["metadata"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["response","generateVideoResponse"]);return s!=null&&d(t,["response"],fw(s)),t}function uw(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata"]);r!=null&&d(t,["metadata"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["response"]);return s!=null&&d(t,["response"],pw(s)),t}function cw(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=u(t,["image"]);o!=null&&d(n,["instances[0]","image"],Rs(o));const s=u(t,["video"]);s!=null&&d(n,["instances[0]","video"],lg(s));const l=u(t,["source"]);l!=null&&hw(l,n);const a=u(t,["config"]);return a!=null&&sw(a,n),n}function dw(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=u(t,["image"]);o!=null&&d(n,["instances[0]","image"],qt(o));const s=u(t,["video"]);s!=null&&d(n,["instances[0]","video"],ag(s));const l=u(t,["source"]);l!=null&&mw(l,n);const a=u(t,["config"]);return a!=null&&lw(a,n),n}function fw(e){const t={},n=u(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>vw(s))),d(t,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&d(t,["raiMediaFilteredReasons"],i),t}function pw(e){const t={},n=u(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>xw(s))),d(t,["generatedVideos"],o)}const r=u(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const i=u(e,["raiMediaFilteredReasons"]);return i!=null&&d(t,["raiMediaFilteredReasons"],i),t}function hw(e,t){const n={},r=u(e,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const i=u(e,["image"]);t!==void 0&&i!=null&&d(t,["instances[0]","image"],Rs(i));const o=u(e,["video"]);return t!==void 0&&o!=null&&d(t,["instances[0]","video"],lg(o)),n}function mw(e,t){const n={},r=u(e,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const i=u(e,["image"]);t!==void 0&&i!=null&&d(t,["instances[0]","image"],qt(i));const o=u(e,["video"]);return t!==void 0&&o!=null&&d(t,["instances[0]","video"],ag(o)),n}function gw(e){const t={},n=u(e,["_self"]);n!=null&&d(t,["image"],Iw(n));const r=u(e,["raiFilteredReason"]);r!=null&&d(t,["raiFilteredReason"],r);const i=u(e,["_self"]);return i!=null&&d(t,["safetyAttributes"],rg(i)),t}function Ps(e){const t={},n=u(e,["_self"]);n!=null&&d(t,["image"],ng(n));const r=u(e,["raiFilteredReason"]);r!=null&&d(t,["raiFilteredReason"],r);const i=u(e,["_self"]);i!=null&&d(t,["safetyAttributes"],ig(i));const o=u(e,["prompt"]);return o!=null&&d(t,["enhancedPrompt"],o),t}function yw(e){const t={},n=u(e,["_self"]);n!=null&&d(t,["mask"],ng(n));const r=u(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(t,["labels"],i)}return t}function vw(e){const t={},n=u(e,["video"]);return n!=null&&d(t,["video"],oC(n)),t}function xw(e){const t={},n=u(e,["_self"]);return n!=null&&d(t,["video"],sC(n)),t}function _w(e){const t={},n=u(e,["modelSelectionConfig"]);n!=null&&d(t,["modelConfig"],n);const r=u(e,["responseJsonSchema"]);r!=null&&d(t,["responseJsonSchema"],r);const i=u(e,["audioTimestamp"]);i!=null&&d(t,["audioTimestamp"],i);const o=u(e,["candidateCount"]);o!=null&&d(t,["candidateCount"],o);const s=u(e,["enableAffectiveDialog"]);s!=null&&d(t,["enableAffectiveDialog"],s);const l=u(e,["frequencyPenalty"]);l!=null&&d(t,["frequencyPenalty"],l);const a=u(e,["logprobs"]);a!=null&&d(t,["logprobs"],a);const c=u(e,["maxOutputTokens"]);c!=null&&d(t,["maxOutputTokens"],c);const f=u(e,["mediaResolution"]);f!=null&&d(t,["mediaResolution"],f);const p=u(e,["presencePenalty"]);p!=null&&d(t,["presencePenalty"],p);const h=u(e,["responseLogprobs"]);h!=null&&d(t,["responseLogprobs"],h);const m=u(e,["responseMimeType"]);m!=null&&d(t,["responseMimeType"],m);const x=u(e,["responseModalities"]);x!=null&&d(t,["responseModalities"],x);const y=u(e,["responseSchema"]);y!=null&&d(t,["responseSchema"],y);const C=u(e,["routingConfig"]);C!=null&&d(t,["routingConfig"],C);const g=u(e,["seed"]);g!=null&&d(t,["seed"],g);const v=u(e,["speechConfig"]);v!=null&&d(t,["speechConfig"],og(v));const S=u(e,["stopSequences"]);S!=null&&d(t,["stopSequences"],S);const T=u(e,["temperature"]);T!=null&&d(t,["temperature"],T);const I=u(e,["thinkingConfig"]);I!=null&&d(t,["thinkingConfig"],I);const A=u(e,["topK"]);A!=null&&d(t,["topK"],A);const M=u(e,["topP"]);if(M!=null&&d(t,["topP"],M),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Sw(e,t){const n={},r=u(t,["model"]);return r!=null&&d(n,["_url","name"],Se(e,r)),n}function ww(e,t){const n={},r=u(t,["model"]);return r!=null&&d(n,["_url","name"],Se(e,r)),n}function Cw(e){const t={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function Ew(e){const t={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function Tw(e){const t={},n=u(e,["aspectRatio"]);n!=null&&d(t,["aspectRatio"],n);const r=u(e,["imageSize"]);if(r!=null&&d(t,["imageSize"],r),u(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function kw(e){const t={},n=u(e,["aspectRatio"]);n!=null&&d(t,["aspectRatio"],n);const r=u(e,["imageSize"]);r!=null&&d(t,["imageSize"],r);const i=u(e,["outputMimeType"]);i!=null&&d(t,["imageOutputOptions","mimeType"],i);const o=u(e,["outputCompressionQuality"]);return o!=null&&d(t,["imageOutputOptions","compressionQuality"],o),t}function Iw(e){const t={},n=u(e,["bytesBase64Encoded"]);n!=null&&d(t,["imageBytes"],Vn(n));const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function ng(e){const t={},n=u(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const r=u(e,["bytesBase64Encoded"]);r!=null&&d(t,["imageBytes"],Vn(r));const i=u(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function Rs(e){const t={};if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=u(e,["imageBytes"]);n!=null&&d(t,["bytesBase64Encoded"],Vn(n));const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function qt(e){const t={},n=u(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const r=u(e,["imageBytes"]);r!=null&&d(t,["bytesBase64Encoded"],Vn(r));const i=u(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function Aw(e,t,n){const r={},i=u(t,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=u(t,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=u(t,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const l=u(t,["queryBase"]);return n!==void 0&&l!=null&&d(n,["_url","models_url"],Km(e,l)),r}function Nw(e,t,n){const r={},i=u(t,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=u(t,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=u(t,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const l=u(t,["queryBase"]);return n!==void 0&&l!=null&&d(n,["_url","models_url"],Km(e,l)),r}function Pw(e,t){const n={},r=u(t,["config"]);return r!=null&&Aw(e,r,n),n}function Rw(e,t){const n={},r=u(t,["config"]);return r!=null&&Nw(e,r,n),n}function bw(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["_self"]);if(i!=null){let o=Ym(i);Array.isArray(o)&&(o=o.map(s=>va(s))),d(t,["models"],o)}return t}function Mw(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["_self"]);if(i!=null){let o=Ym(i);Array.isArray(o)&&(o=o.map(s=>xa(s))),d(t,["models"],o)}return t}function Dw(e){const t={},n=u(e,["maskMode"]);n!=null&&d(t,["maskMode"],n);const r=u(e,["segmentationClasses"]);r!=null&&d(t,["maskClasses"],r);const i=u(e,["maskDilation"]);return i!=null&&d(t,["dilation"],i),t}function va(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["displayName"]);r!=null&&d(t,["displayName"],r);const i=u(e,["description"]);i!=null&&d(t,["description"],i);const o=u(e,["version"]);o!=null&&d(t,["version"],o);const s=u(e,["_self"]);s!=null&&d(t,["tunedModelInfo"],Qw(s));const l=u(e,["inputTokenLimit"]);l!=null&&d(t,["inputTokenLimit"],l);const a=u(e,["outputTokenLimit"]);a!=null&&d(t,["outputTokenLimit"],a);const c=u(e,["supportedGenerationMethods"]);c!=null&&d(t,["supportedActions"],c);const f=u(e,["temperature"]);f!=null&&d(t,["temperature"],f);const p=u(e,["maxTemperature"]);p!=null&&d(t,["maxTemperature"],p);const h=u(e,["topP"]);h!=null&&d(t,["topP"],h);const m=u(e,["topK"]);m!=null&&d(t,["topK"],m);const x=u(e,["thinking"]);return x!=null&&d(t,["thinking"],x),t}function xa(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["displayName"]);r!=null&&d(t,["displayName"],r);const i=u(e,["description"]);i!=null&&d(t,["description"],i);const o=u(e,["versionId"]);o!=null&&d(t,["version"],o);const s=u(e,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>WS(h))),d(t,["endpoints"],p)}const l=u(e,["labels"]);l!=null&&d(t,["labels"],l);const a=u(e,["_self"]);a!=null&&d(t,["tunedModelInfo"],Zw(a));const c=u(e,["defaultCheckpointId"]);c!=null&&d(t,["defaultCheckpointId"],c);const f=u(e,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),d(t,["checkpoints"],p)}return t}function Lw(e){const t={},n=u(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const r=u(e,["codeExecutionResult"]);r!=null&&d(t,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&d(t,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&d(t,["fileData"],KS(o));const s=u(e,["functionCall"]);s!=null&&d(t,["functionCall"],YS(s));const l=u(e,["functionResponse"]);l!=null&&d(t,["functionResponse"],l);const a=u(e,["inlineData"]);a!=null&&d(t,["inlineData"],_S(a));const c=u(e,["text"]);c!=null&&d(t,["text"],c);const f=u(e,["thought"]);f!=null&&d(t,["thought"],f);const p=u(e,["thoughtSignature"]);p!=null&&d(t,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&d(t,["videoMetadata"],h),t}function Fw(e){const t={},n=u(e,["productImage"]);return n!=null&&d(t,["image"],qt(n)),t}function Uw(e,t){const n={},r=u(e,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const i=u(e,["baseSteps"]);t!==void 0&&i!=null&&d(t,["parameters","baseSteps"],i);const o=u(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const s=u(e,["seed"]);t!==void 0&&s!=null&&d(t,["parameters","seed"],s);const l=u(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&d(t,["parameters","safetySetting"],l);const a=u(e,["personGeneration"]);t!==void 0&&a!=null&&d(t,["parameters","personGeneration"],a);const c=u(e,["addWatermark"]);t!==void 0&&c!=null&&d(t,["parameters","addWatermark"],c);const f=u(e,["outputMimeType"]);t!==void 0&&f!=null&&d(t,["parameters","outputOptions","mimeType"],f);const p=u(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&d(t,["parameters","outputOptions","compressionQuality"],p);const h=u(e,["enhancePrompt"]);t!==void 0&&h!=null&&d(t,["parameters","enhancePrompt"],h);const m=u(e,["labels"]);return t!==void 0&&m!=null&&d(t,["labels"],m),n}function zw(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["source"]);i!=null&&Vw(i,n);const o=u(t,["config"]);return o!=null&&Uw(o,n),n}function Bw(e){const t={},n=u(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Ps(i))),d(t,["generatedImages"],r)}return t}function Vw(e,t){const n={},r=u(e,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const i=u(e,["personImage"]);t!==void 0&&i!=null&&d(t,["instances[0]","personImage","image"],qt(i));const o=u(e,["productImages"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Fw(l))),d(t,["instances[0]","productImages"],s)}return n}function Ow(e){const t={},n=u(e,["referenceImage"]);n!=null&&d(t,["referenceImage"],qt(n));const r=u(e,["referenceId"]);r!=null&&d(t,["referenceId"],r);const i=u(e,["referenceType"]);i!=null&&d(t,["referenceType"],i);const o=u(e,["maskImageConfig"]);o!=null&&d(t,["maskImageConfig"],Dw(o));const s=u(e,["controlImageConfig"]);s!=null&&d(t,["controlImageConfig"],IS(s));const l=u(e,["styleImageConfig"]);l!=null&&d(t,["styleImageConfig"],l);const a=u(e,["subjectImageConfig"]);return a!=null&&d(t,["subjectImageConfig"],a),t}function rg(e){const t={},n=u(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const r=u(e,["safetyAttributes","scores"]);r!=null&&d(t,["scores"],r);const i=u(e,["contentType"]);return i!=null&&d(t,["contentType"],i),t}function ig(e){const t={},n=u(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const r=u(e,["safetyAttributes","scores"]);r!=null&&d(t,["scores"],r);const i=u(e,["contentType"]);return i!=null&&d(t,["contentType"],i),t}function Gw(e){const t={},n=u(e,["category"]);if(n!=null&&d(t,["category"],n),u(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(e,["threshold"]);return r!=null&&d(t,["threshold"],r),t}function Hw(e){const t={},n=u(e,["image"]);return n!=null&&d(t,["image"],qt(n)),t}function qw(e,t){const n={},r=u(e,["mode"]);t!==void 0&&r!=null&&d(t,["parameters","mode"],r);const i=u(e,["maxPredictions"]);t!==void 0&&i!=null&&d(t,["parameters","maxPredictions"],i);const o=u(e,["confidenceThreshold"]);t!==void 0&&o!=null&&d(t,["parameters","confidenceThreshold"],o);const s=u(e,["maskDilation"]);t!==void 0&&s!=null&&d(t,["parameters","maskDilation"],s);const l=u(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&d(t,["parameters","binaryColorThreshold"],l);const a=u(e,["labels"]);return t!==void 0&&a!=null&&d(t,["labels"],a),n}function $w(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["source"]);i!=null&&Ww(i,n);const o=u(t,["config"]);return o!=null&&qw(o,n),n}function Jw(e){const t={},n=u(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yw(i))),d(t,["generatedMasks"],r)}return t}function Ww(e,t){const n={},r=u(e,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const i=u(e,["image"]);t!==void 0&&i!=null&&d(t,["instances[0]","image"],qt(i));const o=u(e,["scribbleImage"]);return t!==void 0&&o!=null&&d(t,["instances[0]","scribble"],Hw(o)),n}function og(e){const t={},n=u(e,["languageCode"]);n!=null&&d(t,["languageCode"],n);const r=u(e,["voiceConfig"]);if(r!=null&&d(t,["voiceConfig"],r),u(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Kw(e){const t={},n=u(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],QS(n));const r=u(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],r),t}function Yw(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(t,["functionDeclarations"],f)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&d(t,["fileSearch"],o);const s=u(e,["codeExecution"]);if(s!=null&&d(t,["codeExecution"],s),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=u(e,["googleMaps"]);l!=null&&d(t,["googleMaps"],Cw(l));const a=u(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],Ew(a));const c=u(e,["urlContext"]);return c!=null&&d(t,["urlContext"],c),t}function sg(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>ZS(h))),d(t,["functionDeclarations"],p)}const r=u(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const i=u(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const o=u(e,["computerUse"]);if(o!=null&&d(t,["computerUse"],o),u(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(e,["codeExecution"]);s!=null&&d(t,["codeExecution"],s);const l=u(e,["enterpriseWebSearch"]);l!=null&&d(t,["enterpriseWebSearch"],l);const a=u(e,["googleMaps"]);a!=null&&d(t,["googleMaps"],a);const c=u(e,["googleSearch"]);c!=null&&d(t,["googleSearch"],c);const f=u(e,["urlContext"]);return f!=null&&d(t,["urlContext"],f),t}function Qw(e){const t={},n=u(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const r=u(e,["createTime"]);r!=null&&d(t,["createTime"],r);const i=u(e,["updateTime"]);return i!=null&&d(t,["updateTime"],i),t}function Zw(e){const t={},n=u(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(t,["baseModel"],n);const r=u(e,["createTime"]);r!=null&&d(t,["createTime"],r);const i=u(e,["updateTime"]);return i!=null&&d(t,["updateTime"],i),t}function Xw(e,t){const n={},r=u(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const i=u(e,["description"]);t!==void 0&&i!=null&&d(t,["description"],i);const o=u(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&d(t,["defaultCheckpointId"],o),n}function jw(e,t){const n={},r=u(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const i=u(e,["description"]);t!==void 0&&i!=null&&d(t,["description"],i);const o=u(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&d(t,["defaultCheckpointId"],o),n}function eC(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","name"],Se(e,r));const i=u(t,["config"]);return i!=null&&Xw(i,n),n}function tC(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["config"]);return i!=null&&jw(i,n),n}function nC(e,t){const n={},r=u(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const i=u(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&d(t,["parameters","safetySetting"],i);const o=u(e,["personGeneration"]);t!==void 0&&o!=null&&d(t,["parameters","personGeneration"],o);const s=u(e,["includeRaiReason"]);t!==void 0&&s!=null&&d(t,["parameters","includeRaiReason"],s);const l=u(e,["outputMimeType"]);t!==void 0&&l!=null&&d(t,["parameters","outputOptions","mimeType"],l);const a=u(e,["outputCompressionQuality"]);t!==void 0&&a!=null&&d(t,["parameters","outputOptions","compressionQuality"],a);const c=u(e,["enhanceInputImage"]);t!==void 0&&c!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=u(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=u(e,["labels"]);t!==void 0&&p!=null&&d(t,["labels"],p);const h=u(e,["numberOfImages"]);t!==void 0&&h!=null&&d(t,["parameters","sampleCount"],h);const m=u(e,["mode"]);return t!==void 0&&m!=null&&d(t,["parameters","mode"],m),n}function rC(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["_url","model"],Se(e,r));const i=u(t,["image"]);i!=null&&d(n,["instances[0]","image"],qt(i));const o=u(t,["upscaleFactor"]);o!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=u(t,["config"]);return s!=null&&nC(s,n),n}function iC(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Ps(o))),d(t,["generatedImages"],i)}return t}function oC(e){const t={},n=u(e,["uri"]);n!=null&&d(t,["uri"],n);const r=u(e,["encodedVideo"]);r!=null&&d(t,["videoBytes"],Vn(r));const i=u(e,["encoding"]);return i!=null&&d(t,["mimeType"],i),t}function sC(e){const t={},n=u(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const r=u(e,["bytesBase64Encoded"]);r!=null&&d(t,["videoBytes"],Vn(r));const i=u(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}function lC(e){const t={},n=u(e,["image"]);n!=null&&d(t,["_self"],qt(n));const r=u(e,["maskMode"]);return r!=null&&d(t,["maskMode"],r),t}function aC(e){const t={},n=u(e,["image"]);n!=null&&d(t,["image"],Rs(n));const r=u(e,["referenceType"]);return r!=null&&d(t,["referenceType"],r),t}function uC(e){const t={},n=u(e,["image"]);n!=null&&d(t,["image"],qt(n));const r=u(e,["referenceType"]);return r!=null&&d(t,["referenceType"],r),t}function lg(e){const t={},n=u(e,["uri"]);n!=null&&d(t,["uri"],n);const r=u(e,["videoBytes"]);r!=null&&d(t,["encodedVideo"],Vn(r));const i=u(e,["mimeType"]);return i!=null&&d(t,["encoding"],i),t}function ag(e){const t={},n=u(e,["uri"]);n!=null&&d(t,["gcsUri"],n);const r=u(e,["videoBytes"]);r!=null&&d(t,["bytesBase64Encoded"],Vn(r));const i=u(e,["mimeType"]);return i!=null&&d(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(e,t){const n={},r=u(e,["displayName"]);return t!==void 0&&r!=null&&d(t,["displayName"],r),n}function dC(e){const t={},n=u(e,["config"]);return n!=null&&cC(n,t),t}function fC(e,t){const n={},r=u(e,["force"]);return t!==void 0&&r!=null&&d(t,["_query","force"],r),n}function pC(e){const t={},n=u(e,["name"]);n!=null&&d(t,["_url","name"],n);const r=u(e,["config"]);return r!=null&&fC(r,t),t}function hC(e){const t={},n=u(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function mC(e,t){const n={},r=u(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["customMetadata"],o)}const i=u(e,["chunkingConfig"]);return t!==void 0&&i!=null&&d(t,["chunkingConfig"],i),n}function gC(e){const t={},n=u(e,["name"]);n!=null&&d(t,["name"],n);const r=u(e,["metadata"]);r!=null&&d(t,["metadata"],r);const i=u(e,["done"]);i!=null&&d(t,["done"],i);const o=u(e,["error"]);o!=null&&d(t,["error"],o);const s=u(e,["response"]);return s!=null&&d(t,["response"],vC(s)),t}function yC(e){const t={},n=u(e,["fileSearchStoreName"]);n!=null&&d(t,["_url","file_search_store_name"],n);const r=u(e,["fileName"]);r!=null&&d(t,["fileName"],r);const i=u(e,["config"]);return i!=null&&mC(i,t),t}function vC(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["parent"]);r!=null&&d(t,["parent"],r);const i=u(e,["documentName"]);return i!=null&&d(t,["documentName"],i),t}function xC(e,t){const n={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const i=u(e,["pageToken"]);return t!==void 0&&i!=null&&d(t,["_query","pageToken"],i),n}function _C(e){const t={},n=u(e,["config"]);return n!=null&&xC(n,t),t}function SC(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["fileSearchStores"],o)}return t}function ug(e,t){const n={},r=u(e,["mimeType"]);t!==void 0&&r!=null&&d(t,["mimeType"],r);const i=u(e,["displayName"]);t!==void 0&&i!=null&&d(t,["displayName"],i);const o=u(e,["customMetadata"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["customMetadata"],l)}const s=u(e,["chunkingConfig"]);return t!==void 0&&s!=null&&d(t,["chunkingConfig"],s),n}function wC(e){const t={},n=u(e,["fileSearchStoreName"]);n!=null&&d(t,["_url","file_search_store_name"],n);const r=u(e,["config"]);return r!=null&&ug(r,t),t}function CC(e){const t={},n=u(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC="Content-Type",TC="X-Server-Timeout",kC="User-Agent",_a="x-goog-api-client",IC="1.31.0",AC=`google-genai-sdk/${IC}`,NC="v1beta1",PC="v1beta",Tf=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class RC{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:NC,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:PC,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[s,l]of Object.entries(t.queryParams))i.searchParams.append(s,String(l));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=s}return n&&n.extraBody!==null&&bC(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await kf(i),new ma(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await kf(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return Ar(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:l,value:a}=yield be(i.read());if(l){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=o.decode(a,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,x=h.code,y=`got status: ${m}. ${JSON.stringify(p)}`;if(x>=400&&x<600)throw new As({message:y,status:x})}}catch(p){if(p.name==="ApiError")throw p}s+=c;let f=s.match(Tf);for(;f;){const p=f[1];try{const h=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield be(new ma(h)),s=s.slice(f[0].length),f=s.match(Tf)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=AC+" "+this.clientOptions.userAgentExtra;return t[kC]=n,t[_a]=n,t[EC]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(TC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(t);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const a={file:i},c=this.getFileName(t),f=le("upload/v1beta/files",a._url),p=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,a,n==null?void 0:n.httpOptions);return o.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),l=String(s.size),a=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&ug(r,p);const h=await this.fetchUploadUrl(c,l,a,f,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,s){var l;let a={};s?a=s:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(l=c==null?void 0:c.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function kf(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new As({message:i,status:n}):new Error(i)}}function bC(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const l=Object.assign({},o);for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const c=s[a],f=l[a];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?l[a]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${a}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),l[a]=c)}return l}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC="mcp_used/unknown";let DC=!1;function cg(e){for(const t of e)if(LC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return DC}function dg(e){var t;const n=(t=e[_a])!==null&&t!==void 0?t:"";e[_a]=(n+` ${MC}`).trimStart()}function LC(e){return e!==null&&typeof e=="object"&&e instanceof Du}function FC(e,t=100){return Ar(this,arguments,function*(){let r,i=0;for(;i<t;){const o=yield be(e.listTools({cursor:r}));for(const s of o.tools)yield yield be(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Du{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Du(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const f of this.mcpClients)try{for(var l=!0,a=(n=void 0,vi(FC(f))),c;c=await a.next(),t=c.done,!t;l=!0){i=c.value,l=!1;const p=i;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=f}}catch(p){n={error:p}}finally{try{!l&&!t&&(r=a.return)&&await r.call(a)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),hx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function UC(e,t,n){const r=new sx;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class zC{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=OC(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),a=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let c=()=>{};const f=new Promise(S=>{c=S}),p=t.callbacks,h=function(){c({})},m=this.apiClient,x={onopen:h,onmessage:S=>{UC(m,p.onmessage,S)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(S){}},y=this.webSocketFactory.create(a,VC(s),x);y.connect(),await f;const v={setup:{model:Se(this.apiClient,t.model)}};return y.send(JSON.stringify(v)),new BC(y,this.apiClient)}}class BC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=dS(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=cS(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_r.PLAY)}pause(){this.sendPlaybackControl(_r.PAUSE)}stop(){this.sendPlaybackControl(_r.STOP)}resetContext(){this.sendPlaybackControl(_r.RESET_CONTEXT)}close(){this.conn.close()}}function VC(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function OC(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function HC(e,t,n){const r=new ox;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const s=hS(o);Object.assign(r,s)}else Object.assign(r,o);t(r)}class qC{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new zC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,s,l;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&cg(t.config.tools)&&dg(p);const h=KC(p);if(this.apiClient.isVertexAI())f=`${a}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const D=this.apiClient.getApiKey();let O="BidiGenerateContent",K="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",K="access_token"),f=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.${O}?${K}=${D}`}let m=()=>{};const x=new Promise(D=>{m=D}),y=t.callbacks,C=function(){var D;(D=y==null?void 0:y.onopen)===null||D===void 0||D.call(y),m({})},g=this.apiClient,v={onopen:C,onmessage:D=>{HC(g,y.onmessage,D)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(D){}},S=this.webSocketFactory.create(f,WC(h),v);S.connect(),await x;let T=Se(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const D=this.apiClient.getProject(),O=this.apiClient.getLocation();T=`projects/${D}/locations/${O}/`+T}let I={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ss.AUDIO]}:t.config.responseModalities=[ss.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(l=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],M=[];for(const D of A)if(this.isCallableTool(D)){const O=D;M.push(await O.tool())}else M.push(D);M.length>0&&(t.config.tools=M);const U={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=uS(this.apiClient,U):I=aS(this.apiClient,U),delete I.config,S.send(JSON.stringify(I)),new JC(S,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const $C={turnComplete:!0};class JC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Mt(n.turns),t.isVertexAI()||(r=r.map(i=>Ns(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(GC)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},$C),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:pS(t)}:n={realtimeInput:fS(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function WC(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function KC(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const If=10;function Af(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Nr(s)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Nr(e){return"callTool"in e&&typeof e.callTool=="function"}function YC(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Nr(i)))!==null&&r!==void 0?r:!1}function Nf(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Nr(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Pf(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends hn{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,s,l;const a=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!YC(n)||Af(n.config))return await this.generateContentInternal(a);const c=Nf(n);if(c.length>0){const y=c.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let f,p;const h=Mt(a.contents),m=(o=(i=(r=a.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:If;let x=0;for(;x<m&&(f=await this.generateContentInternal(a),!(!f.functionCalls||f.functionCalls.length===0));){const y=f.candidates[0].content,C=[];for(const g of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(Nr(g)){const S=await g.callTool(f.functionCalls);C.push(...S)}x++,p={role:"user",parts:C},a.contents=Mt(a.contents),a.contents.push(y),a.contents.push(p),Pf(a.config)&&(h.push(y),h.push(p))}return Pf(a.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var r,i,o,s,l;if(this.maybeMoveToResponseJsonSchem(n),Af(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const a=Nf(n);if(a.length>0){const p=a.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,f=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const a of r.generatedImages)a&&(a!=null&&a.safetyAttributes)&&((i=a==null?void 0:a.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=a==null?void 0:a.safetyAttributes:s.push(a);let l;return o?l={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new rr(fn.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,l,a;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((a=(l=n.source)===null||l===void 0?void 0:l.video)===null||a===void 0)&&a.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const s=await Promise.all(o.map(async a=>Nr(a)?await a.tool():a)),l={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(l.config.tools=s,t.config&&t.config.tools&&cg(t.config.tools)){const a=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},a);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),dg(c),l.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return l}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const s of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Nr(s)){const l=s,a=await l.tool();for(const c of(i=a.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(o.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);o.set(c.name,l)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:If;let s=!1,l=0;const a=await this.initAfcToolsMap(t);return function(c,f,p){var h,m;return Ar(this,arguments,function*(){for(var x,y,C,g;l<o;){s&&(l++,s=!1);const I=yield be(c.processParamsMaybeAddMcpUsage(p)),A=yield be(c.generateContentStreamInternal(I)),M=[],U=[];try{for(var v=!0,S=(y=void 0,vi(A)),T;T=yield be(S.next()),x=T.done,!x;v=!0){g=T.value,v=!1;const D=g;if(yield yield be(D),D.candidates&&(!((h=D.candidates[0])===null||h===void 0)&&h.content)){U.push(D.candidates[0].content);for(const O of(m=D.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(l<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(O.functionCall.name)){const K=yield be(f.get(O.functionCall.name).callTool([O.functionCall]));M.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(D){y={error:D}}finally{try{!v&&!x&&(C=S.return)&&(yield be(C.call(S)))}finally{if(y)throw y.error}}if(M.length>0){s=!0;const D=new ni;D.candidates=[{content:{role:"user",parts:M}}],yield yield be(D);const O=[];O.push(...U),O.push({role:"user",parts:M});const K=Mt(p.contents).concat(O);p.contents=K}else break}})}(this,a,t)}async generateContentInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=wf(this.apiClient,t);return l=le("{model}:generateContent",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Ef(f),h=new ni;return Object.assign(h,p),h})}else{const c=Sf(this.apiClient,t);return l=le("{model}:generateContent",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Cf(f),h=new ni;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=wf(this.apiClient,t);return l=le("{model}:streamGenerateContent?alt=sse",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Ar(this,arguments,function*(){var h,m,x,y;try{for(var C=!0,g=vi(p),v;v=yield be(g.next()),h=v.done,!h;C=!0){y=v.value,C=!1;const S=y,T=Ef(yield be(S.json()));T.sdkHttpResponse={headers:S.headers};const I=new ni;Object.assign(I,T),yield yield be(I)}}catch(S){m={error:S}}finally{try{!C&&!h&&(x=g.return)&&(yield be(x.call(g)))}finally{if(m)throw m.error}}})})}else{const c=Sf(this.apiClient,t);return l=le("{model}:streamGenerateContent?alt=sse",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Ar(this,arguments,function*(){var h,m,x,y;try{for(var C=!0,g=vi(p),v;v=yield be(g.next()),h=v.done,!h;C=!0){y=v.value,C=!1;const S=y,T=Cf(yield be(S.json()));T.sdkHttpResponse={headers:S.headers};const I=new ni;Object.assign(I,T),yield yield be(I)}}catch(S){m={error:S}}finally{try{!C&&!h&&(x=g.return)&&(yield be(x.call(g)))}finally{if(m)throw m.error}}})})}}async embedContent(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=qS(this.apiClient,t);return l=le("{model}:predict",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=JS(f),h=new rf;return Object.assign(h,p),h})}else{const c=HS(this.apiClient,t);return l=le("{model}:batchEmbedContents",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=$S(f),h=new rf;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=rw(this.apiClient,t);return l=le("{model}:predict",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=ow(f),h=new of;return Object.assign(h,p),h})}else{const c=nw(this.apiClient,t);return l=le("{model}:predict",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=iw(f),h=new of;return Object.assign(h,p),h})}}async editImageInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=BS(this.apiClient,t);return o=le("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const c=VS(a),f=new Kv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=rC(this.apiClient,t);return o=le("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const c=iC(a),f=new Yv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=zw(this.apiClient,t);return o=le("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const c=Bw(a),f=new Qv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=$w(this.apiClient,t);return o=le("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const c=Jw(a),f=new Zv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=ww(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>xa(f))}else{const c=Sw(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>va(f))}}async listInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=Rw(this.apiClient,t);return l=le("{models_url}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Mw(f),h=new sf;return Object.assign(h,p),h})}else{const c=Pw(this.apiClient,t);return l=le("{models_url}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=bw(f),h=new sf;return Object.assign(h,p),h})}}async update(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=tC(this.apiClient,t);return l=le("{model}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>xa(f))}else{const c=eC(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>va(f))}}async delete(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=LS(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=US(f),h=new lf;return Object.assign(h,p),h})}else{const c=DS(this.apiClient,t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=FS(f),h=new lf;return Object.assign(h,p),h})}}async countTokens(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=RS(this.apiClient,t);return l=le("{model}:countTokens",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=MS(f),h=new af;return Object.assign(h,p),h})}else{const c=PS(this.apiClient,t);return l=le("{model}:countTokens",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=bS(f),h=new af;return Object.assign(h,p),h})}}async computeTokens(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=CS(this.apiClient,t);return o=le("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>{const c=ES(a),f=new Xv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=dw(this.apiClient,t);return l=le("{model}:predictLongRunning",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const p=uw(f),h=new ls;return Object.assign(h,p),h})}else{const c=cw(this.apiClient,t);return l=le("{model}:predictLongRunning",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=aw(f),h=new ls;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZC extends hn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=Gv(t);return l=le("{operationName}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const c=Ov(t);return l=le("{operationName}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Dv(t);return o=le("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(e){const t={},n=u(e,["data"]);if(n!=null&&d(t,["data"],n),u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function jC(e){const t={},n=u(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>aE(o))),d(t,["parts"],i)}const r=u(e,["role"]);return r!=null&&d(t,["role"],r),t}function eE(e,t,n){const r={},i=u(t,["expireTime"]);n!==void 0&&i!=null&&d(n,["expireTime"],i);const o=u(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&d(n,["newSessionExpireTime"],o);const s=u(t,["uses"]);n!==void 0&&s!=null&&d(n,["uses"],s);const l=u(t,["liveConnectConstraints"]);n!==void 0&&l!=null&&d(n,["bidiGenerateContentSetup"],lE(e,l));const a=u(t,["lockAdditionalFields"]);return n!==void 0&&a!=null&&d(n,["fieldMask"],a),r}function tE(e,t){const n={},r=u(t,["config"]);return r!=null&&d(n,["config"],eE(e,r,n)),n}function nE(e){const t={};if(u(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=u(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const r=u(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function rE(e){const t={},n=u(e,["id"]);n!=null&&d(t,["id"],n);const r=u(e,["args"]);r!=null&&d(t,["args"],r);const i=u(e,["name"]);if(i!=null&&d(t,["name"],i),u(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iE(e){const t={};if(u(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=u(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function oE(e){const t={};if(u(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=u(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],n),t}function sE(e,t){const n={},r=u(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const i=u(e,["responseModalities"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig","responseModalities"],i);const o=u(e,["temperature"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","temperature"],o);const s=u(e,["topP"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig","topP"],s);const l=u(e,["topK"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","topK"],l);const a=u(e,["maxOutputTokens"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","maxOutputTokens"],a);const c=u(e,["mediaResolution"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","mediaResolution"],c);const f=u(e,["seed"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","seed"],f);const p=u(e,["speechConfig"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","speechConfig"],Mu(p));const h=u(e,["thinkingConfig"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","thinkingConfig"],h);const m=u(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=u(e,["systemInstruction"]);t!==void 0&&x!=null&&d(t,["setup","systemInstruction"],jC(tt(x)));const y=u(e,["tools"]);if(t!==void 0&&y!=null){let A=Hr(y);Array.isArray(A)&&(A=A.map(M=>cE(Gr(M)))),d(t,["setup","tools"],A)}const C=u(e,["sessionResumption"]);t!==void 0&&C!=null&&d(t,["setup","sessionResumption"],uE(C));const g=u(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&d(t,["setup","inputAudioTranscription"],g);const v=u(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&d(t,["setup","outputAudioTranscription"],v);const S=u(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&d(t,["setup","realtimeInputConfig"],S);const T=u(e,["contextWindowCompression"]);t!==void 0&&T!=null&&d(t,["setup","contextWindowCompression"],T);const I=u(e,["proactivity"]);return t!==void 0&&I!=null&&d(t,["setup","proactivity"],I),n}function lE(e,t){const n={},r=u(t,["model"]);r!=null&&d(n,["setup","model"],Se(e,r));const i=u(t,["config"]);return i!=null&&d(n,["config"],sE(i,n)),n}function aE(e){const t={},n=u(e,["mediaResolution"]);n!=null&&d(t,["mediaResolution"],n);const r=u(e,["codeExecutionResult"]);r!=null&&d(t,["codeExecutionResult"],r);const i=u(e,["executableCode"]);i!=null&&d(t,["executableCode"],i);const o=u(e,["fileData"]);o!=null&&d(t,["fileData"],nE(o));const s=u(e,["functionCall"]);s!=null&&d(t,["functionCall"],rE(s));const l=u(e,["functionResponse"]);l!=null&&d(t,["functionResponse"],l);const a=u(e,["inlineData"]);a!=null&&d(t,["inlineData"],XC(a));const c=u(e,["text"]);c!=null&&d(t,["text"],c);const f=u(e,["thought"]);f!=null&&d(t,["thought"],f);const p=u(e,["thoughtSignature"]);p!=null&&d(t,["thoughtSignature"],p);const h=u(e,["videoMetadata"]);return h!=null&&d(t,["videoMetadata"],h),t}function uE(e){const t={},n=u(e,["handle"]);if(n!=null&&d(t,["handle"],n),u(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function cE(e){const t={},n=u(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),d(t,["functionDeclarations"],f)}if(u(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=u(e,["googleSearchRetrieval"]);r!=null&&d(t,["googleSearchRetrieval"],r);const i=u(e,["computerUse"]);i!=null&&d(t,["computerUse"],i);const o=u(e,["fileSearch"]);o!=null&&d(t,["fileSearch"],o);const s=u(e,["codeExecution"]);if(s!=null&&d(t,["codeExecution"],s),u(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=u(e,["googleMaps"]);l!=null&&d(t,["googleMaps"],iE(l));const a=u(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],oE(a));const c=u(e,["urlContext"]);return c!=null&&d(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dE(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function fE(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=dE(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const a=[];o&&a.push(o),l.length>0&&a.push(...l),a.length>0?e.fieldMask=a.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class pE extends hn{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=tE(this.apiClient,t);o=le("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const a=fE(l,t.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hE(e,t){const n={},r=u(e,["force"]);return t!==void 0&&r!=null&&d(t,["_query","force"],r),n}function mE(e){const t={},n=u(e,["name"]);n!=null&&d(t,["_url","name"],n);const r=u(e,["config"]);return r!=null&&hE(r,t),t}function gE(e){const t={},n=u(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function yE(e,t){const n={},r=u(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const i=u(e,["pageToken"]);return t!==void 0&&i!=null&&d(t,["_query","pageToken"],i),n}function vE(e){const t={},n=u(e,["parent"]);n!=null&&d(t,["_url","parent"],n);const r=u(e,["config"]);return r!=null&&yE(r,t),t}function xE(e){const t={},n=u(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const r=u(e,["nextPageToken"]);r!=null&&d(t,["nextPageToken"],r);const i=u(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _E extends hn{constructor(t){super(),this.apiClient=t,this.list=async n=>new rr(fn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gE(t);return o=le("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mE(t);i=le("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vE(t);return o=le("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const c=xE(a),f=new jv;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SE extends hn{constructor(t,n=new _E(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new rr(fn.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dC(t);return o=le("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hC(t);return o=le("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>a)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=pC(t);i=le("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_C(t);return o=le("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const c=SC(a),f=new ex;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wC(t);return o=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const c=CC(a),f=new tx;return Object.assign(f,c),f})}}async importFile(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=yC(t);return o=le("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json()),i.then(a=>{const c=gC(a),f=new Au;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wE(e,t){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],r),n}function CE(e,t){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],r),n}function EE(e,t){const n={},r=u(e,["sdkHttpResponse"]);return r!=null&&d(n,["sdkHttpResponse"],r),n}function TE(e,t){const n={},r=u(e,["sdkHttpResponse"]);return r!=null&&d(n,["sdkHttpResponse"],r),n}function kE(e,t,n){const r={};if(u(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=u(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&d(t,["displayName"],i),u(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=u(e,["epochCount"]);t!==void 0&&o!=null&&d(t,["tuningTask","hyperparameters","epochCount"],o);const s=u(e,["learningRateMultiplier"]);if(s!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),u(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=u(e,["batchSize"]);t!==void 0&&l!=null&&d(t,["tuningTask","hyperparameters","batchSize"],l);const a=u(e,["learningRate"]);if(t!==void 0&&a!=null&&d(t,["tuningTask","hyperparameters","learningRate"],a),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function IE(e,t,n){const r={};let i=u(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=u(e,["validationDataset"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec"],Rf(m))}else if(i==="PREFERENCE_TUNING"){const m=u(e,["validationDataset"]);t!==void 0&&m!=null&&d(t,["preferenceOptimizationSpec"],Rf(m))}const o=u(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&d(t,["tunedModelDisplayName"],o);const s=u(e,["description"]);t!==void 0&&s!=null&&d(t,["description"],s);let l=u(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=u(e,["epochCount"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(l==="PREFERENCE_TUNING"){const m=u(e,["epochCount"]);t!==void 0&&m!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let a=u(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const m=u(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(a==="PREFERENCE_TUNING"){const m=u(e,["learningRateMultiplier"]);t!==void 0&&m!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let c=u(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=u(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(c==="PREFERENCE_TUNING"){const m=u(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=u(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=u(e,["adapterSize"]);t!==void 0&&m!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=u(e,["adapterSize"]);t!==void 0&&m!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(u(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=u(e,["labels"]);t!==void 0&&p!=null&&d(t,["labels"],p);const h=u(e,["beta"]);return t!==void 0&&h!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function AE(e,t){const n={},r=u(e,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=u(e,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=u(e,["trainingDataset"]);o!=null&&BE(o);const s=u(e,["config"]);return s!=null&&kE(s,n),n}function NE(e,t){const n={},r=u(e,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=u(e,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=u(e,["trainingDataset"]);o!=null&&VE(o,n,t);const s=u(e,["config"]);return s!=null&&IE(s,n,t),n}function PE(e,t){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],r),n}function RE(e,t){const n={},r=u(e,["name"]);return r!=null&&d(n,["_url","name"],r),n}function bE(e,t,n){const r={},i=u(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const o=u(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const s=u(e,["filter"]);return t!==void 0&&s!=null&&d(t,["_query","filter"],s),r}function ME(e,t,n){const r={},i=u(e,["pageSize"]);t!==void 0&&i!=null&&d(t,["_query","pageSize"],i);const o=u(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const s=u(e,["filter"]);return t!==void 0&&s!=null&&d(t,["_query","filter"],s),r}function DE(e,t){const n={},r=u(e,["config"]);return r!=null&&bE(r,n),n}function LE(e,t){const n={},r=u(e,["config"]);return r!=null&&ME(r,n),n}function FE(e,t){const n={},r=u(e,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>fg(l))),d(n,["tuningJobs"],s)}return n}function UE(e,t){const n={},r=u(e,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=u(e,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=u(e,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Sa(l))),d(n,["tuningJobs"],s)}return n}function zE(e,t){const n={},r=u(e,["name"]);r!=null&&d(n,["model"],r);const i=u(e,["name"]);return i!=null&&d(n,["endpoint"],i),n}function BE(e,t){const n={};if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=u(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(n,["examples","examples"],i)}return n}function VE(e,t,n){const r={};let i=u(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=u(e,["gcsUri"]);t!==void 0&&s!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=u(e,["gcsUri"]);t!==void 0&&s!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=u(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=u(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=u(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(u(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function fg(e,t){const n={},r=u(e,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=u(e,["name"]);i!=null&&d(n,["name"],i);const o=u(e,["state"]);o!=null&&d(n,["state"],Jm(o));const s=u(e,["createTime"]);s!=null&&d(n,["createTime"],s);const l=u(e,["tuningTask","startTime"]);l!=null&&d(n,["startTime"],l);const a=u(e,["tuningTask","completeTime"]);a!=null&&d(n,["endTime"],a);const c=u(e,["updateTime"]);c!=null&&d(n,["updateTime"],c);const f=u(e,["description"]);f!=null&&d(n,["description"],f);const p=u(e,["baseModel"]);p!=null&&d(n,["baseModel"],p);const h=u(e,["_self"]);return h!=null&&d(n,["tunedModel"],zE(h)),n}function Sa(e,t){const n={},r=u(e,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=u(e,["name"]);i!=null&&d(n,["name"],i);const o=u(e,["state"]);o!=null&&d(n,["state"],Jm(o));const s=u(e,["createTime"]);s!=null&&d(n,["createTime"],s);const l=u(e,["startTime"]);l!=null&&d(n,["startTime"],l);const a=u(e,["endTime"]);a!=null&&d(n,["endTime"],a);const c=u(e,["updateTime"]);c!=null&&d(n,["updateTime"],c);const f=u(e,["error"]);f!=null&&d(n,["error"],f);const p=u(e,["description"]);p!=null&&d(n,["description"],p);const h=u(e,["baseModel"]);h!=null&&d(n,["baseModel"],h);const m=u(e,["tunedModel"]);m!=null&&d(n,["tunedModel"],m);const x=u(e,["preTunedModel"]);x!=null&&d(n,["preTunedModel"],x);const y=u(e,["supervisedTuningSpec"]);y!=null&&d(n,["supervisedTuningSpec"],y);const C=u(e,["preferenceOptimizationSpec"]);C!=null&&d(n,["preferenceOptimizationSpec"],C);const g=u(e,["tuningDataStats"]);g!=null&&d(n,["tuningDataStats"],g);const v=u(e,["encryptionSpec"]);v!=null&&d(n,["encryptionSpec"],v);const S=u(e,["partnerModelTuningSpec"]);S!=null&&d(n,["partnerModelTuningSpec"],S);const T=u(e,["customBaseModel"]);T!=null&&d(n,["customBaseModel"],T);const I=u(e,["experiment"]);I!=null&&d(n,["experiment"],I);const A=u(e,["labels"]);A!=null&&d(n,["labels"],A);const M=u(e,["outputUri"]);M!=null&&d(n,["outputUri"],M);const U=u(e,["pipelineJob"]);U!=null&&d(n,["pipelineJob"],U);const D=u(e,["serviceAccount"]);D!=null&&d(n,["serviceAccount"],D);const O=u(e,["tunedModelDisplayName"]);O!=null&&d(n,["tunedModelDisplayName"],O);const K=u(e,["veoTuningSpec"]);return K!=null&&d(n,["veoTuningSpec"],K),n}function OE(e,t){const n={},r=u(e,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=u(e,["name"]);i!=null&&d(n,["name"],i);const o=u(e,["metadata"]);o!=null&&d(n,["metadata"],o);const s=u(e,["done"]);s!=null&&d(n,["done"],s);const l=u(e,["error"]);return l!=null&&d(n,["error"],l),n}function Rf(e,t){const n={},r=u(e,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const i=u(e,["vertexDatasetResource"]);return i!=null&&d(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends hn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new rr(fn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:ha.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=RE(t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Sa(f))}else{const c=PE(t);return l=le("{name}",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>fg(f))}}async listInternal(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=LE(t);return l=le("tuningJobs",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=UE(f),h=new uf;return Object.assign(h,p),h})}else{const c=DE(t);return l=le("tunedModels",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=FE(f),h=new uf;return Object.assign(h,p),h})}}async cancel(t){var n,r,i,o;let s,l="",a={};if(this.apiClient.isVertexAI()){const c=CE(t);return l=le("{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=TE(f),h=new cf;return Object.assign(h,p),h})}else{const c=wE(t);return l=le("{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=EE(f),h=new cf;return Object.assign(h,p),h})}}async tuneInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=NE(t,t);return o=le("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>Sa(a))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=AE(t);return o=le("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(a=>a.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:a.headers},f})),i.then(a=>OE(a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HE{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qE=1024*1024*8,$E=3,JE=1e3,WE=2,us="x-goog-upload-status";async function KE(e,t,n){var r;const i=await pg(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function YE(e,t,n){var r;const i=await pg(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Vm(o),l=new Nu;return Object.assign(l,s),l}async function pg(e,t,n){var r,i;let o=0,s=0,l=new ma(new Response),a="upload";for(o=e.size;s<o;){const c=Math.min(qE,o-s),f=e.slice(s,s+c);s+c>=o&&(a+=", finalize");let p=0,h=JE;for(;p<$E&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[us]));)p++,await ZE(h),h=h*WE;if(s+=c,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[us])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function QE(e){return{size:e.size,type:e.type}}function ZE(e){return new Promise(t=>setTimeout(t,e))}class XE{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await KE(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await YE(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await QE(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jE{create(t,n,r){return new eT(t,n,r)}}class eT{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bf="x-goog-api-key";class tT{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(bf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(bf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nT="gl-node/";class rT{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=bv(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new tT(this.apiKey);this.apiClient=new RC({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:nT+"web",uploader:new XE,downloader:new HE}),this.models=new QC(this.apiClient),this.live=new qC(this.apiClient,i,new jE),this.batches=new l_(this.apiClient),this.chats=new G_(this.models,this.apiClient),this.caches=new B_(this.apiClient),this.files=new X_(this.apiClient),this.operations=new ZC(this.apiClient),this.authTokens=new pE(this.apiClient),this.tunings=new GE(this.apiClient),this.fileSearchStores=new SE(this.apiClient)}}var iT={};const gn=()=>{const e=localStorage.getItem(Ae.storagePrefix+"gemini_api_key"),t=iT.API_KEY,n=e||t;if(!n)throw new Error("API Key .   () API Key .");return new rT({apiKey:n})},Ji=async(e,t,n=3,r=1e3)=>{var i;try{return await e.models.generateContent(t)}catch(o){if(n>0&&(o.status===503||o.code===503||(i=o.message)!=null&&i.includes("overloaded")))return console.warn(`Gemini API 503 Error. Retrying in ${r}ms... (${n} retries left)`),await new Promise(s=>setTimeout(s,r)),Ji(e,t,n-1,r*2);throw o}},hg={standard:" (/).  /,   .   . (, 5        .       )",jeolla:"   . (:     ,     . , 5        ). : ~, ~, ~, ~, ~, ~. : , , , .",chungcheong:"   . (:     ,     . , 5        ). : ~, ~, ~, ~, ~.   .",gyeongsang:"   . (:     ,     . , 5        ). : ~, ~, ~, ~, ~, ~.   .",gangwon:"   . (:     ,     . , 5        ). : ~, ~, ~, ~, ~.  .",jeju:"   . (:     ,     . , 5        ). : ~, ~, ~, ~.  .",pyeongan:"   . (:     ,     . , 5        ). : ~, ~, ~.   ."},oT=`
[    (Narrative Structure Only)]
   **'   '**.     , **    **  .

1. **[]     (Serendipity & Reward)**
   - ****:    ,     ( ) **   **.
   - ****:     **'   ', '  ', '  '**.
     - :    ,       .
   - ****:   ,             . **( +  )**

2. **[]     (Isolation & Unlikely Ally)**
   - ****:      . (     )
   - ****:    (:  ,   )   .
   - ****:      .

3. **[]    (Talent & Crisis) - * ***
   -         , **' '**  .
`,Wi=`
  , ,      .
    ** **.

[    ( )]
- **'~', '~', '~'  **:        .    .
- **   **:    /,      .

[  : ' '  (Ban on Isolated Labor Camps)]
- ** **:  , , ,   ** ** ,  ' ' ' '    .
- ** **:   , **  ' '**    .
  - **[]**: , , , ,  ,  (  )
  - **[ -  ]**:
    1. ** /**:    ,   .
    2. **  ()**: , ,     .
    3. **/**:    .
    4. **/**:      .

[   (  )]
1. ****: , , , , , , **()**. (   . -> ** ,  , ,   ,  **  .)
2. ** (Item Clichs)**: 
   - ( ),  (), .
   - **[  ]**:     ''     . (   .)
   - **[ ]**: '  ', '  ', ' ', '  ', '   ' .
3. ** **:
   -  **   **. -> **'', '', ' '  .**
   - **[  ]**:   () ''    /   .  . (   ' ()' ' '   .)
   -     .
   -     .
   -  " !"     1 .
4. **[   ]**:  (15 ) ,         ** **.  **(, )**     .        .

[    (Core Goal)]
*   ****: 1  ( 16,000 )
*   ****: 6  ( 10/3,000)
*   ****:    **(Oral) ** +  ** **.
*   ** **: "    " + "   ".

[  6   ]
1. **[Part 1]  (Survival) - "" (00:00~10:00)**
   - :  , , .   .
   - :  3 :  7 
   - :   ,,   

2. **[Part 2]  (Discovery) - "" (10:00~20:00)**
   - :   () .  .
   - :  4 :  6 
   - :      .

3. **[Part 3]  (Growth) - "" (20:00~30:00)**
       - : , ,     . ( / )
       - :  4 :  6 
       - : ,    

    4. **[Part 4]  (Crisis) - " " (30:00~40:00)**
       = 3     
       - :  ,   . ( /// )
       - :  3 :  7 ( )
       - :   " " .
       - **[   ]**:    , **       **.    **   **,          .

5. **[Part 5]  (Counterattack) - " " (40:00~50:00)**
   - :    .  .
   - :  4 :  6 ( )
   - : , . 
   - **[   ]**:   ** (Key)    ** .     ,       .

6. **[Part 6]  (Resolution) - "" (50:00~60:00)**
   - :      , **     **.
   - :  3 :  7 (  )
   - : **"    "** ( " "  ,           ).

[      (Historical Accuracy)]
A.   
*   ****:  ("~", "~").  .
*   **/**:    ("~", "~").
*   **(3~5 )**: **[ ]   **
    - **[ ]**:      **''  ''  **. (   )
    - **[ ]**:    **     ** .
    - **[]**:  **()** ,      .
    - **[ ]**:   **    ** .
      - (X) ",     ." ( )
      - (O) "... ... ..." ()
      - (O) "... ..." ( )
*   **(5~10)**: **[ ]**      .
    -  ,  ,     .
    -      . (: ",    " -> ",   ")
*   ****: 
    - **[  ]**: "~", "~", "~" ( ), "~ ", "~" (    ).
    - **[ ]**: "~", "~", "~ ", "~", "~".
    - **[]**:       . (     .)
    - **    (", ", " ...", "?")      .    .**
    - **[  ]**: , ,     **   **  ,   ** ()** .
      

B.  
*   ****:    ( ).   .
*   ****: ' 2'  ' ', '  '  .
*   ****:   (),  ( ).

C.     (Terminology)
*   ** vs **: '' ''   . "  "   . (   )
*   **  **:    '  '  .    ,    .
*   ** **:      ' '  **'( )'**.
*   **[] ' ', ''   **:
    - ''      . ()      .
    -        **' ', '', '', ' '**  .

[     (Do's & Don'ts)]
*   **DO**: 3   (/) . ( )
*   **DO**:     (Action) . (" !")
*   **DON'T**: **[ ]   500   .** (        ).      .
*   **DON'T**: **[   ]**    ,          .    .
*   **DON'T**:      .
*   **DON'T**: **"~() " /  **. (: "   " -> )     **  ** .
*   **[]  **:     , **       ** . (   ,     .)

[     ]
*   **  (Long Sentences)**: 
    -     **'~, ~, ~, ~, ~'**        .
    - (Short sentences)    ,         .
*   ****:       ,          .

[   ]
*    '' ''  .
*     **' '** **'  '**  .
*   [] **"~() " /  **:      , **  ( )** .
    - (X) "     ..."
    - (O) "     ."

[       (Narrative Density & Serial Rules)]
1. **[]   /   **:
   - (Action)  ,      **   ,     (Description)**  .
   - **  ( )**:
     "   !" ()  "         .    ..." (/ )  "    ." (  )
2. **[ ]    (No Recap)**:
   -     **   .**   1   .
   - **   1  **  .
3. **[ ]**:
   -           .    .

[       (Naming & Etiquette Rules)]
1. **[    ]**:
   - **  "", ""   .** ( 3     .)
   -  **"", "", "", ""**  .
   - **[ ]**:      **(, )**  .
     - (X) ",   ." ()
     - (O) ",    ." ()
     - (O) ",   ." ()
2. **[ ] + **: "  " (X) -> **" ", ""** (O).
3. **[]    **:
   - **(Toddler)**:
     - ****: /   '' .
     - ****:   .    .
     - ****: **'  '**. /      . (: " .", ".")
   - 5~10     ,      .
   -  ,     .
4. **[]   **: " "    .  **'', ''**    .
5. **[ ]**:  ", ",  ", ".  ( ) .

[     (Atmosphere)]
1. ** **:  **(, , )** .
2. ** **:  ''  **'   ', '  '**       .

[     (Living World & Interactions)]
    1. **[ ]  **:     ,      ** **.
       - **(X) "    ."** ()
       - **(O) "   ,    .  ' !'   ."** ()
    2. **[]   **:
       -    **' ', ' ', ' ', ' ', ' '**   .
       -    **, , ** .
    3. **[]   **:
       -  ""  , **  ** .
       - : "       ", "        ".

    [       (Child Prodigy Rules)]
    1. **[  ]**:
       -  /  ,     (,  )  .     .
       - **[]**: "    ", "    ", "     "  **  **    .
    2. **[ ]**:
       -     **   ,       **.
       -     (  ,  ) **     ** .

    []
       ,     .
`,sT=async e=>{const t=gn(),n="gemini-2.5-flash",{config:r}=e,i=`
    []      [] [ ] .
    ${oT}
    : (${r.genres.length?r.genres:" (  )"}), (${r.locations.length?r.locations:" "}), (${r.materials.length?r.materials:" "}), (${r.characters.length?r.characters:"   "})
    
    [   ]
    - **[Part 4: ]  **: ${r.twists.length?r.twists:"   "}
    - **[Part 5:   Part 6: ]  **: ${r.doubleTwists.length?r.doubleTwists:"    "}

    [  : 6     (The 6-Stage Structure with 3-Beats)]
          ,  6    .   ** 3   (Beat)**      .

    **1.  (Survival) - ""**
    - [1-1]:         (, ,  ).
    - [1-2]:     ( , ,   ).
    - [1-3]:        .

    **2.  (Discovery) - ""**
    - [2-1]:       .
    - [2-2]:      / .
    - [2-3]:         .

    **3.  (Growth) - ""**
    - [3-1]: **[]     **:  10      .   ** (, , )**   ,    **'  '** .
    - [3-2]:     **  ** (  ,       ).
    - [3-3]:   ,  .,.     

    **4.  (Crisis) - "3   " ( : ${r.twists})**
    - [4-1]:  3     ,        .
    - [4-2]:     .
    - [4-3]: " ?"         .
    - **[   ]**:    , **       **.    **   **,          .

    **5.  (Counterattack) - " "**
    - [5-1]: '','' '' ,, 
    - [5-2]: ,     .
    - [5-3]:     ,     .
    - **[   ]**:   ** (Key)    ** .     ,       .

    **6.  (Resolution) - "" ( : ${r.doubleTwists})**
    - [6-1]:    .        
    - [6-2]:   . ,,,       **    ** .
    - [6-3]: **    ** .     **   **  .

    [ ]
    -  'plotSummary'  , **   (1-1, 1-2, 1-3 )  (
) **  .
    -   ,  (Action)   .
    - ****:
      "[1. ] 
      1-1.     .
      1-2.      .
      1-3.    ."

    [  :   (Banned Clichs)]
    - **" "   **:  . , ,     .
    - **" "    **:     ,       . 
    - **  **:    , **   ** .

    [  :    (Ordinary but Twisted)]
    - **  (, , )  **:     .
    - **   **: 
      -   ,   ,   ,  ,   .
    - ** ''**: 
      -      **   **   .
      - :       ,       .

    [  :     (Input Override Rule)]
    - **AI  () .**
    -  "  " ,  "    "  .
    -  " " , "" ""  **(Core)**  .      .
    - **  (Materials), (Twists), (Double Twists)      .**

    [  : 1  (Banned Motivations)]
    -     **"", " ", " "**  .   .
    -  **"   "**  **"     "** .

    [  :  3 (The 3 Elements of Desperation)]
            :
    1. **[  ]**:  , ,        .
       - : "      ."
    2. **[   ]**:        .
       - : "    .    ."
    3. **[ ]**:         .
       - : "       ."

    [  :     ]
    - **[]   **: 
      -      **    ** .
      - :          ,     .
      - :        .
    - **[]    (Blessing)**:
      -     , **   **         .
      -     **' '  ** .

    [   (Masterpiece) ]
    - **  **:     ,  **"      "** .  ''  ,   **    **   .
    - ** **:     ' '.       .
    - **[]    (Beyond Romance)**:
      - **[]   .** (,        ,      ** **.   .)
      -   **   ** . (   .)
        * ** 1 ( )**: **** ** **     , ** **   ** **.
        * ** 2 ( )**: ** **    ** **,  ** **   (Key)  ** **.
        * ** 3 ( )**:   ** ** ** ** ,  ****   .
      - ** **:        ,      .     .
    - **[]   ( )**:  ' ' '  ' .  **"    "** **"  "** .
      - **  (  )**:
        1. **[]**:   ****     .
        2. **[]**:    ****     .
        3. **[]**:      ****   .
        4. **[]**:     ****    .
        5. **[]**:       **(  )**.
      -   **  ** ,    .
    - **[]   **:    ,      . ,     **  **  .     .

    [  :   ]
    - ** **:      , ** ,  ,  **        .
    - ** **:     ,         .

    [  - JSON]
    {
      "plan": {
        "title": "",
        "plotSummary": " [6 ]     . ( 1. - 2. - ... - 6.  )",
        "characterDescriptions": "  , , ,   ."
      }
    }
  `,o=await Ji(t,{model:n,contents:i,config:{responseMimeType:"application/json",systemInstruction:Wi}});if(!o.text)throw new Error("  ");const s=JSON.parse(o.text);return{...s,plan:{...s.plan,config:r}}},lT=async(e,t,n)=>{const r=gn(),i="gemini-2.5-flash",s=`
    [] : ${e.title}, : ${e.plotSummary}
    []  6  **1:  (Survival)** .
    
    [Part 1:  - ""]
    - ****:  **[1-1], [1-2], [1-3] **   .
    - ** **:  ""  , **"   "   ()**     .
    - ** **: 
      1.    **()**  (Beat 1)
      2.    (Beat 2)
      3.     (Beat 3)
    - ****: ** 3 :  7** (   )
    - ****: ( )   (/) .
    
    [ ]
    - **[]  **: " "  , **",  !"  ** .
    - ** (${t})**: ${hg[t]}
    - ****: 3,000 .

    [ ]
    TITLE: < >
    OUTLINE: 1  | 2  | 3  | 4  | 5  | 6 
    CHAPTER_1_START
    [SCENE 1. , ]
    [NARRATION]
    ...
  `,a=(await Ji(r,{model:i,contents:s,config:{systemInstruction:Wi}})).text||"",c=a.match(/TITLE:\s*(.*)/i),f=a.match(/OUTLINE:\s*(.*)/i),p=a.split("CHAPTER_1_START"),h=c?c[1].trim():e.title,x=(f?f[1].split("|").map(y=>y.trim()):["1 ","2 ","3 ","4 ","5 ","6 "]).map((y,C)=>({number:C+1,title:y,content:C===0?p.length>1?p[1].trim():a:"",status:C===0?"completed":"pending"}));return{title:h,analysis:e.plotSummary,chapters:x}},Mf=async(e,t,n,r,i,o=[])=>{var I,A,M;const s=gn(),l="gemini-2.5-flash",a=e.length,c=e.slice(0,t).filter(U=>U.content).map(U=>`[${U.number}: ${U.title}]
${U.content}`).join(`

`),f=o.length>0?`
[     ( )]
${o.map((U,D)=>`${D+1}. ${U}`).join(`
`)}
(  , ,       .)
`:"";let p="";if(t>0){const U=e[t-1].content||"";p=U.length>1e3?"..."+U.slice(-1e3):U}const h=t>0?`
    [  :     (Continuity & Consistency)]
    1. ** **:  **[ (${t})  ]**  ,      ** (1 )**  .
    2. ** **:  "  "   ,     . (      )
    3. ** **:    , ,    .
  `:"";let m="";const x=t+1;switch(x){case 2:m=`
          [Part 2:  (Discovery) - ""]
          - ****:  **[2-1], [2-2], [2-3] **  .
          - ****:   (Beat 1) -> / (Beat 2) ->    (Beat 3).
          - ****:  4 :  6 
          `;break;case 3:m=`
          [Part 3:  (Growth) - "  "]
          - ****:  **[3-1], [3-2], [3-3] ** , ** "7 ", "10 "         .**
          - **[:  ]**:
            1. ** **: 2  ,    ,    ** **  .
            2. ** **:     ,     **** .
            3. ****:  , **"    "**        .
          - **[()]**: 
            -    . (    ,    )
          - ****:  4 :  6 
          `;break;case 4:m=`
          [Part 4:  (Crisis) - " "]
          - ****:  **[4-1], [4-2], [4-3] **   .
          - **[  ]**:
            * 3      
            * **/**:     .
            * **/**: **,   ,  ,    '' .** ( / )
            * **/**:   , ,     .
          - **[   (Blacklist)]: ""    .**     ///// .
          - **[  ]: "", "", "", ""    .**
          - **[  ]: , , ,  .** (    .)
          - **[   ]**:    , **       **.    **   **,          .
          - **[ ]:** 
            -    **" "** .
            - " " **(Suspense)** . (,   )
            -      ** ** .
          - ****:  (Beat 1) ->  (Beat 2) ->   (Beat 3).
          - ****:  3 :  7
          `;break;case 5:m=`
          [Part 5:  (Counterattack) - " "]
          - ****:  **[5-1], [5-2], [5-3] **  .
          - **[   ]**:   ** (Key)    ** .     ,       .
          - ****:   (Beat 1) ->  (Beat 2) ->   (Beat 3).
          - ****:  4 :  6 
          `;break;case 6:m=`
          [Part 6:  (Resolution) - ""]
          - ****:  **[6-1], [6-2], [6-3] ** , **   .**
          - **[ ]**: **"3000   " .**    **  (:     ,    )**   '(Story)'  .
          - ****: 
            1.     (Beat 1)
            2. **[]     (Beat 2)**: "   "  , ** ** .
            3.     (Beat 3).
          - ****: **"  ", " ", "  "  .** (  .)
          - ****: ** 3 :  7** (    .)
          `;break;default:m="[ ]     3    ."}const y=`
    [  (18  )]
    ${n.plotSummary}

    [   ]
    ${c}

    ${t>0?`[  (${t})   -   ]
"""
${p}
"""`:""}

    ${f}
    [] ${x}( ${a} ) .
    
    ${h}

    ${m}

    [ ]
    - ** (${r})**: ${hg[r]}
    - ${i?" []:        .     /  .":"          ,      . **    (: ' ?', ' ')  .**"}
    ${i&&((I=n.config)!=null&&I.closingMent)?`
    [    ]
    -     ,      [NARRATION]   .
    -  : "${n.config.closingMent}"`:""}
    
    [  ]
    - [NARRATION] []:  .
    - : 3,000 .

    []
    TITLE: < >
    CONTENT_START
    [SCENE ...]
  `,C=async(U,D=3,O=2e3)=>{try{return await U()}catch(K){if(D===0)throw K;if(K.status===500||K.status===503||K.status===504||K.message&&(K.message.includes("500")||K.message.includes("503")||K.message.includes("overloaded")))return console.warn(`Gemini API Error (${K.status||"unknown"}). Retrying in ${O}ms... (${D} attempts left)`),await new Promise(H=>setTimeout(H,O)),C(U,D-1,O*2);throw K}},v=(await C(()=>s.models.generateContent({model:l,contents:y,config:{systemInstruction:Wi}}))).text||"",S=((A=v.match(/TITLE:\s*(.*)/i))==null?void 0:A[1].trim())||e[t].title,T=((M=v.split("CONTENT_START")[1])==null?void 0:M.trim())||v;return{title:S,content:T}},aT=async(e,t)=>(await gn().models.generateContent({model:"gemini-2.5-flash",contents:`
    [ ]
    ${e}

    [ ]
    ${t}

    [  -  ]
    1. **  **:      .
    2. ** **:     , ,  **     **. (    .)
    3. ** **: [NARRATION], []:    .
    4. ** **:    , **    ** .
    `,config:{systemInstruction:Wi}})).text||e,uT=async e=>(await gn().models.generateContent({model:"gemini-2.5-flash",contents:`
    []
       ,    , (, ,  )  ** ElevenLabs  ** .

    [  -  ]
    1. ** **:   , **   (, ,  )**     .
       - **[]  **:   ( ), ( )  ** ( )  **,     ****.    .
       - **[ ] ElevenLabs Enhanced Guide (V1)   **:
         
         **    (Emotion)**
         - [angry] (), [arrogant] (), [calm] (), [childlike] ( ), [crying] ()
         - [curious] (), [defiant] (), [dramatic] (), [energetic] (), [excited] ()
         - [flirtatious] (), [frustrated] (/), [happy] (), [humble] (), [impatient] ()
         - [innocent] (), [intolerant] (), [mature] (), [mischievously] (), [modest] ()
         - [mysterious] (), [naive] (), [nervous] (), [patient] (), [rebellious] ()
         - [sad] (), [sarcastic] (), [seductive] (), [sorrowful] (), [stubborn] ()
         - [sultry] (), [tired] (), [tolerant] (), [vain] (), [vibrant] (), [wise] ()

         **    (Delivery)**
         - [commanding] (), [deadpan] (), [dramatic tone] (), [flatly] ()
         - [melodic] (), [narrating] (), [playful] (), [questioning] ()
         - [robotic] (), [shouting] (), [whispering] (), [rushed] (), [slows down] ()

         ** /  (Timing)**
         - [drawn out] ( ), [emphasize] (), [flowing] (), [hastened] ()
         - [hesitates] (), [pause] (), [quickly] (), [rhythmic] ()
         - [slowly] (), [syncopated] (), [with tempo] ()

         **    (Non-verbal)**
         - [breath] (), [clears throat] (), [cries] ( ), [exhales] ( )
         - [gasp] (!), [gasps] (!), [giggles] (), [gulps] (), [laughing] ( )
         - [laughs] (), [moans] (), [sigh] (), [sighs] (), [snorts] ()
         - [stammers] (), [starts laughing] ( ), [wheezing] ()

    2. ****:     .
    3. ****:   . **( (,)  .  )**
    4. ****:   . (     )
    5. ****:  ()   .  ()  .

     [    (    )]
     []: [ ]: ( ) ,  . ( )     !
     []: [ ]: [exhales] [sighs] ,  . [angry] [shouting]     !

     [ ]
     ${e}
     `})).text||e,cT=async e=>{const t=gn(),n=`    4  JSON .

${e}`,r=await t.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json"}});return JSON.parse(r.text||"{}")},dT=async e=>{const t=gn(),i=await Ji(t,{model:"gemini-2.5-flash",contents:`
    []
     1        ' ', '', '', ' '     ,
    ** 10~12   ** .

    [   ]
    , , ,  ,          .

    [:   ]
    -   (: , )   .
    - **  (Items)     **   .
    - :
      *  '' ''   -> **"#__"**
      *  '' ''  -> **"#__"**
      *  '' ''  -> **"#__"**
    - , **" (Content)   "**  .

    [  - JSON]
      JSON  . (   AI    )
    [
      {
        "genre": "    (: #_, #_)",
        "items": [
           {
             "title": "   ''   ",
             "material": "   (InputSection )",
             "viewCount": "  (: '125', '80'    )",
             "thumbnailDesc": "   ()",
             "reason": "  "
           },
           ... ( 2~3 )
        ]
      },
      ...
    ]

    []
    - **  **:   10  .
    - **  **:    (   )   '100 ', '50'    .
    - ** **:       .  .
    - ** **:   ,    **'', '', ''**  .
    `,config:{responseMimeType:"application/json"}});try{const o=JSON.parse(i.text||"[]");return Array.isArray(o)?o:[]}catch(o){return console.error("  :",o),[]}},fT=async(e,t="all")=>{const n=gn(),r=e.replace(/\[.*?\]/g,"").replace(/\(.*?\)/g,"").replace(/|||||||| ||||/g,"").replace(/[^\w\s-]/g," ").trim();let i="";t==="all"?i=" **'(, )' ''    **":t==="character"?i="** (, )   **, **'(, )'   **":i="**(, )   **, **'(, )'   **";const o=`
    []
       "${r}"(: ${e}) , ${i} 5  () .
    
    [   (Preprocessing)]
    -    **'', '', '', '', ''    **, **   ** .
    - : "    " ->   "  ". "", ""  .

    [   (Blacklist -   )]
    - , , , , , ,  (  .   )
    - "~  ~"    .       .

    [   :  (Joseon Dynasty Only)]
    - ** , ,    .**
    - **[]**: , , , , , , , , , , , ,   .
    -  **     ** .
    - , ' ' ''  **  (Character Trait)**     ,    .
    - : ' ' -> '  ' ( )

    [  - : ${t}]
    1. ****:    '' ''  .
    2. **  **:
       ${t==="all"?`
       - **[ ]**:       .
       - : "  " -> "  " (->, ->)
       `:t==="character"?`
       - **[ ]**: **//    **.  .
       - : "  " (: /) -> "   ****" ( '', '' )
       - : "   " -> "   ****" ( ' ' )
       `:`
       - **[ ]**: **//    **.  .
       - : "   " -> "** **  " ( '' )
       - : "  " -> "****  " ( '' )
       `}
    3. ** **:    '', '', ''    .

    [  - JSON]
    {
        "originalCore": "${e}", 
        "keywords": ["  ", "  "],
        "twists": [
            "  1",
            "  2",
            "  3",
            "  4",
            "  5"
        ]
    }
    `,s=await Ji(n,{model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json"}});try{return JSON.parse(s.text||"{}")}catch(l){return console.error("  :",l),{originalCore:e,keywords:[],twists:[]}}},pT=async e=>{const t=gn(),n=`
    []
        , **   '/ (Shorts) '** .

    [  : "  "]
    - **  .**     .
    - ** (Amplify).**    , **          .** (        .)
    - ****:  "     ?", "    ?"  .

    [  :    ]
    - **, , ,  **   .
    -     .  ** ** .

    [ : ", "]
    1. ** (Amplify)**:     10   .
       - : " ."
       - : "   ,    ." (  )
    2. ** (Cut)**:   ,     .

    [ : "  (3  )"]
    - **[NARRATION]**:  '~' , ** (Oral Storytelling)   ** .
      - ** **: **~, ~, ~, ~, ~, ~.**
      - ** **: **~(), ~ (), ~?(), ~( ).**
    - **[]**:       . ( /,  / )

    [ (1 /  400~500)]
    1. **(Hook)**:      .
    2. **(Deepening)**:      ** (  )**  .
    3. **(Cliffhanger)**: "!"     ,    .
    4. ****: "    ?     ." ( )

    [   (Strictly Forbidden)]
    - **    **: ", ", " ?", " "    ** **.
    - ** **:   .
    - **  **: " "  ,  **(Scene) .**
    
    [  :      (Zero Tolerance for Spoilers)]
    - ** **:    **' (Key Evidence)', ' ', '  '**     .
    - **[ -  ]**: "   !   !" (  -    )
    - **[ -  ]**: "...?  ...?" (   -     )
    - ****:   , **     **,   **'' ''** .
      - (X) []    '  '  . (  )
      - (O) []       .     . ( )

    [ : "  (3  )"]
    - **[NARRATION]**:  '~' , ** (Oral Storytelling)   ** .
      - ** **: **~, ~, ~, ~, ~, ~.**
      - ** **: **~(), ~ (), ~?(), ~( ).**
    - **[]**:       . ( /,  / )

    [ (3  /  500~700)]
    1. ** (0~5)**:       .
    2. ** (Conflict)**:     .
    3. ** (Crisis)**:    .
    4. ** (Turning Point)**:   .
    5. ** (Cliffhanger - )**: 
       -   ,     ** **  .
       - **[]**:    ,       .
    6. ****: "   ,        ." ( )

    [ ]
    [NARRATION]:      .
    []: ()  ...    !
    [NARRATION]:   .     .
    []: ...  ...
    [NARRATION]:  .    ,    ...  ?
    []: ( ) !  !
    ... () ...
    []: ,     ?       .
    [NARRATION]:         ?
    [NARRATION]:    ,        .

    [  ]
    ${e.slice(0,2e4)} 
    `;return(await t.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{systemInstruction:Wi}})).text||"   "};var hT={};const Df="https://www.googleapis.com/youtube/v3",mT=async(e="",t="1week")=>{const n=localStorage.getItem(Ae.storagePrefix+"youtube_api_key")||hT.YOUTUBE_API_KEY;if(!n)throw new Error("NO_API_KEY");try{const i=`${e} ${["-","-"].join(" ")}`,o=new Date;t==="15days"?o.setDate(o.getDate()-15):t==="3days"?o.setDate(o.getDate()-3):o.setDate(o.getDate()-7);const s=o.toISOString(),l=`${Df}/search?part=snippet&q=${encodeURIComponent(i)}&type=video&videoDuration=long&order=viewCount&publishedAfter=${s}&maxResults=50&key=${n}`;console.log("YouTube API Request:",l);const a=await fetch(l);if(!a.ok){const I=await a.json();throw console.error("YouTube API Error Details:",I),new Error("YOUTUBE_API_ERROR")}const f=(await a.json()).items||[];if(f.length===0)return[];const p=f.map(I=>I.id.videoId).join(","),h=`${Df}/videos?part=statistics&id=${p}&key=${n}`,x=await(await fetch(h)).json(),y={};x.items&&x.items.forEach(I=>{y[I.id]=I.statistics.viewCount});const C=f.map(I=>{const A=parseInt(y[I.id.videoId]||"0"),M=A>=1e4?`${(A/1e4).toFixed(1)}`:`${A.toLocaleString()}`;return{title:I.snippet.title.replace(/&quot;/g,'"').replace(/&#39;/g,"'"),material:I.snippet.title,thumbnailDesc:I.snippet.thumbnails.medium.url,reason:`${I.snippet.channelTitle} | ${I.snippet.description.slice(0,30)}...`,viewCount:M,videoId:I.id.videoId,channelId:I.snippet.channelId,rawViewCount:A}});C.sort((I,A)=>A.rawViewCount-I.rawViewCount);const g=3e4,v=C.filter(I=>I.rawViewCount>=g),S=new Set,T=v.filter(I=>I.channelId?S.has(I.channelId)?!1:(S.add(I.channelId),!0):!0);return[{genre:` "${e}"  `,items:T}]}catch(r){throw console.error("YouTube API Fetch Error:",r),r}},gT=({isOpen:e,onClose:t,trendItem:n,onConfirm:r})=>{const[i,o]=ae.useState(!1),[s,l]=ae.useState(null),[a,c]=ae.useState(""),[f,p]=ae.useState("all"),[h,m]=ae.useState({all:null,character:null,material:null});ae.useEffect(()=>{e&&n&&(c(n.material),l(null),m({all:null,character:null,material:null}),p("all"))},[e,n]);const x=async(T,I)=>{o(!0);try{const A=await fT(T,I);l(A),m(M=>({...M,[I]:A}))}catch(A){console.error(A)}finally{o(!1)}},y=T=>{c(T)},C=()=>{n&&x(n.title,f)},g=T=>{p(T),h[T]?l(h[T]):n&&x(n.title,T)},v=()=>{if(!s||s.twists.length===0)return;const T=s.twists.join(`
`);navigator.clipboard.writeText(T).then(()=>{alert("5    !")}).catch(I=>{console.error("Failed to copy text: ",I)})},S=()=>{r(a),t()};return!e||!n?null:Av.createPortal(E.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh"},children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl p-6 shadow-2xl relative flex flex-col max-h-[90vh]",children:[E.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-500 hover:text-white transition-colors",children:""}),E.jsx("h2",{className:"text-xl font-bold text-white mb-1 font-serif",children:"   & "}),E.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"    , AI     ."}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 mb-6",children:[E.jsx("span",{className:"text-xs text-indigo-400 font-bold block mb-1",children:" "}),E.jsx("p",{className:"text-slate-200 text-sm font-medium line-clamp-2",children:n.title})]}),E.jsxs("div",{className:"flex gap-2 mb-4 bg-slate-800/50 p-2 rounded-lg",children:[E.jsx("button",{onClick:()=>g("all"),className:`flex-1 py-2 text-xs font-bold rounded transition-colors ${f==="all"?"bg-indigo-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:" "}),E.jsx("button",{onClick:()=>g("character"),className:`flex-1 py-2 text-xs font-bold rounded transition-colors ${f==="character"?"bg-indigo-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:"  ( )"}),E.jsx("button",{onClick:()=>g("material"),className:`flex-1 py-2 text-xs font-bold rounded transition-colors ${f==="material"?"bg-indigo-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:"  ( )"})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar mb-6 space-y-6",children:i?E.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-slate-500 gap-3",children:[E.jsx("div",{className:"w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"}),E.jsx("p",{className:"text-sm animate-pulse",children:"AI    ..."})]}):s?E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-3 flex items-center gap-2",children:["   (Core)",E.jsx("span",{className:"text-[10px] font-normal text-slate-500 bg-slate-800 px-1.5 py-0.5 rounded",children:" "}),E.jsxs("div",{className:"flex gap-2 ml-auto",children:[E.jsx("button",{onClick:C,className:"text-xs bg-slate-700 hover:bg-slate-600 text-slate-300 px-2 py-1 rounded border border-slate-500/30 transition-colors",title:"   ",children:"  "}),E.jsx("button",{onClick:v,className:"text-xs bg-indigo-900/50 hover:bg-indigo-800 text-indigo-300 px-2 py-1 rounded border border-indigo-500/30 transition-colors",children:"  "})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsx("button",{onClick:()=>y(s.originalCore),className:"px-3 py-1.5 bg-indigo-900/30 text-indigo-200 border border-indigo-500/30 rounded-lg text-sm hover:bg-indigo-800 transition-colors",children:s.originalCore}),s.keywords.map((T,I)=>E.jsx("button",{onClick:()=>y(T),className:"px-3 py-1.5 bg-slate-800 text-slate-300 border border-slate-700 rounded-lg text-sm hover:bg-slate-700 transition-colors",children:T},I))]})]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"text-sm font-bold text-amber-400 mb-3 flex items-center gap-2",children:["    (Twist)",E.jsx("span",{className:"text-[10px] font-normal text-slate-500 bg-slate-800 px-1.5 py-0.5 rounded",children:" "})]}),E.jsx("div",{className:"flex flex-col gap-2",children:s.twists.map((T,I)=>E.jsxs("button",{onClick:()=>y(T),className:"text-left px-4 py-3 bg-slate-800/50 hover:bg-amber-900/20 text-slate-300 hover:text-amber-200 border border-slate-700 hover:border-amber-500/50 rounded-xl text-sm transition-all",children:[" ",T]},I))})]})]}):E.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-slate-500 gap-4",children:[E.jsx("p",{className:"text-lg font-bold text-slate-400",children:" ?"}),E.jsxs("p",{className:"text-sm",children:[" ",E.jsx("span",{className:"text-indigo-400 font-bold",children:"' '"}),", ",E.jsx("span",{className:"text-indigo-400 font-bold",children:"' '"}),", ",E.jsx("span",{className:"text-indigo-400 font-bold",children:"' '"}),"  ."]})]})}),E.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-700",children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-2",children:"   (  )"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:a,onChange:T=>c(T.target.value),className:"flex-1 bg-slate-950 border border-slate-600 rounded-lg px-4 py-3 text-white focus:border-indigo-500 outline-none",placeholder:"   ."}),E.jsx(st,{onClick:S,disabled:!a.trim(),children:""})]})]})]})}),document.body)},sr=({label:e,value:t,onChange:n,examples:r,placeholder:i,onRemoveExample:o,onRefine:s})=>{const[l,a]=ae.useState(""),c=h=>{if(h.includes("+")){const m=h.split("+").map(y=>y.trim()),x=[...t];m.forEach(y=>{y&&!x.includes(y)&&x.push(y)}),n(x)}else{const m=h.trim();m&&!t.includes(m)&&n([...t,m])}a("")},f=h=>{n(t.filter(m=>m!==h))},p=h=>{h.key==="Enter"&&(h.preventDefault(),c(l))};return E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"block text-lg font-bold text-amber-500 font-serif",children:e}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.map(h=>E.jsxs("div",{className:"relative group",children:[E.jsxs("button",{type:"button",onClick:()=>c(h),className:`text-xs px-2 py-1 border rounded transition-colors ${h.includes("+")?"bg-indigo-900/40 text-indigo-200 border-indigo-500/50":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700 hover:text-slate-200"}`,children:["+ ",h]}),h.includes("+")&&o&&E.jsx("button",{onClick:m=>{m.stopPropagation(),o(h)},className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 text-white rounded-full flex items-center justify-center text-[8px] opacity-0 group-hover:opacity-100 transition-opacity",title:" ",children:""})]},h))}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:l,onChange:h=>a(h.target.value),onKeyDown:p,placeholder:i,className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-4 py-2 text-white outline-none focus:border-amber-500 text-sm"}),E.jsx("button",{type:"button",onClick:()=>c(l),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:""})]}),E.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[40px] bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[t.length===0&&E.jsx("span",{className:"text-slate-500 text-sm",children:"  ."}),t.map(h=>E.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-indigo-900/40 text-indigo-200 border border-indigo-500/30 rounded-full text-sm font-bold animate-fade-in",children:[h,s&&E.jsx("button",{type:"button",onClick:()=>s(h),className:"w-4 h-4 flex items-center justify-center rounded-full hover:bg-indigo-800 text-amber-400 hover:text-amber-200 ml-1",title:"  (AI)",children:""}),E.jsx("button",{type:"button",onClick:()=>f(h),className:"w-4 h-4 flex items-center justify-center rounded-full hover:bg-indigo-800 text-indigo-400 hover:text-white ml-1",children:""})]},h))]})]})},yT=({onSubmit:e,isLoading:t,initialData:n})=>{const[r,i]=ae.useState((n==null?void 0:n.region)||"standard"),[o,s]=ae.useState((n==null?void 0:n.config)||{genres:[],locations:[],materials:[],twists:[],doubleTwists:[],episodeCount:"6  (1 )",characters:[]}),[l,a]=ae.useState((n==null?void 0:n.originalText)||""),[c,f]=ae.useState(!1),[p,h]=ae.useState([]),[m,x]=ae.useState(0),[y,C]=ae.useState(""),[g,v]=ae.useState(!1),[S,T]=ae.useState(null),[I,A]=ae.useState(null),M=["","/","/","/","/","","",""],[U,D]=ae.useState([]);ae.useEffect(()=>{var k;const F=localStorage.getItem(Ae.storagePrefix+"custom_genre_presets");F&&D(JSON.parse(F));const L=localStorage.getItem(Ae.storagePrefix+"saved_closing_ment");L&&!((k=n==null?void 0:n.config)!=null&&k.closingMent)&&s(z=>({...z,closingMent:L}))},[]);const O=async F=>{let L="1week",k=y;(F==="1week"||F==="15days"||F==="3days")&&(L=F),f(!0),h([]);try{try{const V=await mT(k,L);h(V),x(0);return}catch(V){V.message==="NO_API_KEY"?console.log("YouTube API Key . Gemini Fallback ."):V.message==="YOUTUBE_API_ERROR"?(console.warn("YouTube API     . Gemini Fallback ."),alert("YouTube API       AI   .")):console.error("YouTube API Error:",V)}const z=await dT("1month");h(z),x(0)}catch{alert("     .")}finally{f(!1)}},K=F=>{T(F),A(null),v(!0)},N=F=>{T({title:F,material:F}),A(F),v(!0)},H=F=>{s(I?L=>({...L,materials:L.materials.map(k=>k===I?F:k)}):L=>({...L,materials:[...L.materials,F]})),A(null)},w=()=>{v(!1),A(null),T(null)},B=F=>{if(F.preventDefault(),!(o.genres.length===0&&o.locations.length===0&&!window.confirm("  . AI   ?"))){if(o.genres.length>1){const L=o.genres.join("+");if(!U.includes(L)&&!M.includes(L)){const k=[...U,L];D(k),localStorage.setItem(Ae.storagePrefix+"custom_genre_presets",JSON.stringify(k))}}o.closingMent?localStorage.setItem(Ae.storagePrefix+"saved_closing_ment",o.closingMent):localStorage.removeItem(Ae.storagePrefix+"saved_closing_ment"),e({region:r,config:o,originalText:l})}},Z=F=>{if(window.confirm(`'${F}'   ?`)){const L=U.filter(k=>k!==F);D(L),localStorage.setItem(Ae.storagePrefix+"custom_genre_presets",JSON.stringify(L))}},J=(F,L)=>{s(k=>({...k,[F]:L}))};return E.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8 animate-fade-in pb-20",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h1",{className:"text-4xl md:text-5xl font-bold font-serif text-amber-100 mb-4 tracking-wide leading-tight",children:"   2.0"}),E.jsx("p",{className:"text-slate-400 font-serif text-lg",children:"   .    ."})]}),E.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/40 to-slate-900 p-6 rounded-2xl border border-indigo-500/30 mb-8 shadow-lg",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4",children:[E.jsxs("h3",{className:"text-xl font-bold text-indigo-300 font-serif flex items-center gap-2",children:["     (Trend Finder)",E.jsx("span",{className:"text-xs font-normal text-slate-400 bg-slate-800 px-2 py-1 rounded-full",children:"YouTube "})]}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full md:w-auto items-center",children:[E.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[E.jsx("input",{type:"text",value:y,onChange:F=>C(F.target.value),onKeyDown:F=>F.key==="Enter"&&O(),placeholder:" (: )",className:"flex-1 md:w-40 bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-white text-sm outline-none focus:border-indigo-500"}),E.jsx("button",{type:"button",onClick:()=>O(),disabled:c,className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-lg transition-colors disabled:opacity-50 whitespace-nowrap",children:c?"...":""})]}),E.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[E.jsx("button",{type:"button",onClick:()=>O("3days"),disabled:c,className:"flex-1 md:flex-none px-3 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 text-xs font-bold rounded-lg border border-slate-600 transition-colors disabled:opacity-50 whitespace-nowrap",children:" 3"}),E.jsx("button",{type:"button",onClick:()=>O("1week"),disabled:c,className:"flex-1 md:flex-none px-3 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 text-xs font-bold rounded-lg border border-slate-600 transition-colors disabled:opacity-50 whitespace-nowrap",children:" 1"}),E.jsx("button",{type:"button",onClick:()=>O("15days"),disabled:c,className:"flex-1 md:flex-none px-3 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 text-xs font-bold rounded-lg border border-slate-600 transition-colors disabled:opacity-50 whitespace-nowrap",children:" 15"})]})]})]}),p.length>0&&E.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto hide-scrollbar pb-2",children:p.map((F,L)=>E.jsx("button",{onClick:()=>x(L),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-colors border ${m===L?"bg-amber-600 text-white border-amber-500":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700"}`,children:F.genre},L))}),p.length>0&&p[m]&&E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 animate-fade-in",children:p[m].items.map((F,L)=>E.jsxs("div",{onClick:()=>K(F),className:"bg-slate-900 p-4 rounded-xl border border-slate-700 hover:border-amber-500 hover:bg-slate-800 cursor-pointer transition-all group relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-amber-500 opacity-0 group-hover:opacity-100 transition-opacity"}),F.viewCount&&E.jsxs("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm",children:[" ",F.viewCount]}),E.jsx("h4",{className:"text-slate-200 font-bold text-sm mb-2 line-clamp-2 leading-snug group-hover:text-amber-300 pr-8",children:F.title}),E.jsx("p",{className:"text-xs text-slate-400 mb-3 line-clamp-2",children:F.reason}),E.jsxs("div",{className:"bg-black/30 p-2 rounded text-[10px] text-slate-500 border border-slate-800 flex gap-2",children:[E.jsx("span",{className:"shrink-0",children:""}),E.jsx("span",{className:"truncate",children:F.thumbnailDesc})]}),E.jsxs("div",{className:"mt-3 flex gap-2",children:[E.jsx("button",{type:"button",className:"flex-1 text-xs font-bold text-indigo-400 group-hover:text-indigo-300 py-1 border border-indigo-500/30 rounded hover:bg-indigo-900/30 transition-colors",children:"+  "}),E.jsx("a",{href:F.videoId?`https://www.youtube.com/watch?v=${F.videoId}`:`https://www.youtube.com/results?search_query=${encodeURIComponent(` ${F.title}`)}`,target:"_blank",rel:"noreferrer",onClick:k=>k.stopPropagation(),className:"px-2 py-1 text-xs font-bold text-red-400 border border-red-500/30 rounded hover:bg-red-900/30 transition-colors flex items-center justify-center",title:" ",children:""})]})]},L))}),!c&&p.length===0&&E.jsx("div",{className:"text-center py-4 text-slate-500 text-sm",children:"     . (Gemini )"})]}),E.jsxs("form",{onSubmit:B,className:"bg-slate-900 p-6 md:p-8 rounded-3xl border border-slate-700 shadow-2xl space-y-10",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("h3",{className:"text-2xl font-bold text-slate-200 font-serif border-b border-slate-700 pb-2",children:"1. () "}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{val:"standard",label:" ()"},{val:"jeolla",label:" ()"},{val:"chungcheong",label:" ()"},{val:"gyeongsang",label:" ()"},{val:"gangwon",label:" ()"},{val:"jeju",label:" ()"}].map(F=>E.jsx("button",{type:"button",onClick:()=>i(F.val),className:`p-3 rounded-xl border transition-all font-serif ${r===F.val?"border-amber-500 bg-amber-900/40 text-amber-100 shadow-[0_0_10px_rgba(245,158,11,0.2)]":"border-slate-700 bg-slate-800 text-slate-400 hover:border-slate-500"}`,children:F.label},F.val))})]}),E.jsxs("div",{className:"space-y-8",children:[E.jsx("h3",{className:"text-2xl font-bold text-slate-200 font-serif border-b border-slate-700 pb-2",children:"2.   "}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsx(sr,{label:" ",placeholder:" ",value:o.genres,onChange:F=>J("genres",F),examples:[...M,...U],onRemoveExample:Z}),E.jsx(sr,{label:"  ",placeholder:" ",value:o.locations,onChange:F=>J("locations",F),examples:[" ","  "," "," "," ",""]}),E.jsx(sr,{label:"  ",placeholder:" ",value:o.materials,onChange:F=>J("materials",F),examples:["   "," ","   ","  "," ","   "],onRefine:N}),E.jsx(sr,{label:"  ",placeholder:" ",value:o.characters,onChange:F=>J("characters",F),examples:["","","","","",""]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4 border-t border-slate-800",children:[E.jsx(sr,{label:"   (Part 4)",placeholder:":   , , ",value:o.twists,onChange:F=>J("twists",F),examples:["  "," ","  "," "," "]}),E.jsx(sr,{label:"    (Part 5~6)",placeholder:":   ,  ",value:o.doubleTwists,onChange:F=>J("doubleTwists",F),examples:["  ","  ","    ","  "]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-lg font-bold text-amber-500 font-serif mb-3",children:"    ( )"}),E.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:E.jsxs("div",{className:"flex-1 p-4 rounded-xl border bg-amber-900/40 text-amber-200 border-amber-500 shadow-lg shadow-amber-900/20 text-left",children:[E.jsx("div",{className:"font-bold font-serif mb-1",children:"6  (1 )"}),E.jsx("div",{className:"text-xs opacity-70",children:"-----  6 "})]})})]})]}),E.jsxs("div",{className:"space-y-4 border-t border-slate-700 pt-8",children:[E.jsx("h3",{className:"text-2xl font-bold text-slate-200 font-serif pb-2",children:"   ( )"}),E.jsx("p",{className:"text-sm text-slate-400 font-serif",children:"  ,       . ( )"}),E.jsx("textarea",{value:o.closingMent||"",onChange:F=>J("closingMent",F.target.value),className:"w-full h-24 bg-slate-800 border border-slate-600 rounded-xl p-4 text-slate-300 text-sm focus:ring-1 focus:ring-amber-500 outline-none resize-none font-serif leading-relaxed",placeholder:""})]}),E.jsxs("div",{className:"space-y-4 border-t border-slate-700 pt-8 opacity-70 hover:opacity-100 transition-opacity",children:[E.jsx("label",{className:"block text-xl font-bold text-slate-400 font-serif",children:"()   "}),E.jsx("textarea",{value:l,onChange:F=>a(F.target.value),className:"w-full h-24 bg-slate-800 border border-slate-600 rounded-xl p-4 text-slate-300 text-sm focus:ring-1 focus:ring-amber-500 outline-none resize-none",placeholder:" ."})]}),E.jsx("div",{className:"pt-4",children:E.jsx(st,{type:"submit",isLoading:t,className:"w-full text-2xl px-8 py-6 rounded-2xl bg-gradient-to-r from-amber-700 to-orange-800 hover:from-amber-600 hover:to-orange-700 border-none shadow-amber-900/50 font-serif font-bold transform hover:scale-[1.01] transition-transform",children:"   "})})]}),E.jsx(gT,{isOpen:g,onClose:w,trendItem:S,onConfirm:H})]})},vT=({plan:e,onConfirm:t,onCancel:n,isLoading:r=!1,hasExistingScript:i,onReturnToScript:o})=>{const[s,l]=ae.useState(e.plan.title),[a,c]=ae.useState(e.plan.plotSummary),[f,p]=ae.useState(e.plan.characterDescriptions),[h,m]=ae.useState(""),[x,y]=ae.useState(""),C=()=>{if(!h.trim()||!x.trim())return;const v=new RegExp(h,"g");c(S=>S.replace(v,x)),p(S=>S.replace(v,x)),l(S=>S.replace(v,x)),alert(`'${h}'() '${x}'()  .`),m(""),y("")},g=v=>{t({...e.plan,title:s,plotSummary:a,characterDescriptions:f},v)};return E.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8 animate-fade-in pb-20 relative",children:[r&&E.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm",children:[E.jsx("div",{className:"text-amber-500 text-4xl mb-4 animate-bounce",children:""}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  ..."}),E.jsx("p",{className:"text-slate-400",children:"    .  ."})]}),E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-serif text-amber-100 mb-4 tracking-wide",children:"    "}),E.jsxs("p",{className:"text-slate-400 font-serif text-lg",children:["AI  .     .",E.jsx("br",{}),"     ."]})]}),E.jsxs("div",{className:"bg-slate-900 p-6 md:p-8 rounded-3xl border border-slate-700 shadow-2xl space-y-8",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"block text-lg font-bold text-amber-500 font-serif",children:""}),E.jsx("input",{type:"text",value:s,onChange:v=>l(v.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white text-lg font-bold outline-none focus:border-amber-500"})]}),E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-600",children:[E.jsx("label",{className:"block text-sm font-bold text-indigo-400 mb-2 font-serif",children:"    "}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-center",children:[E.jsx("input",{type:"text",placeholder:"   (: )",value:h,onChange:v=>m(v.target.value),className:"flex-1 bg-slate-900 border border-slate-700 rounded px-3 py-2 text-white text-sm outline-none focus:border-indigo-500"}),E.jsx("span",{className:"text-slate-500",children:""}),E.jsx("input",{type:"text",placeholder:"   (: )",value:x,onChange:v=>y(v.target.value),className:"flex-1 bg-slate-900 border border-slate-700 rounded px-3 py-2 text-white text-sm outline-none focus:border-indigo-500"}),E.jsx("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-bold rounded transition-colors whitespace-nowrap",children:" "})]}),E.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"* , ,        ."})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"block text-lg font-bold text-amber-500 font-serif",children:["  (6 )",E.jsx("span",{className:"ml-2 text-xs font-normal text-slate-400",children:"   ."})]}),E.jsx("textarea",{value:a,onChange:v=>c(v.target.value),className:"w-full h-96 bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-slate-200 leading-relaxed outline-none focus:border-amber-500 resize-none scrollbar-thin"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"block text-lg font-bold text-amber-500 font-serif",children:[" ",E.jsx("span",{className:"ml-2 text-xs font-normal text-slate-400",children:"    ."})]}),E.jsx("textarea",{value:f,onChange:v=>p(v.target.value),className:"w-full h-48 bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-slate-200 leading-relaxed outline-none focus:border-amber-500 resize-none scrollbar-thin"})]}),E.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-700 flex-wrap",children:[E.jsx("button",{onClick:n,className:"flex-1 px-6 py-4 rounded-xl bg-slate-800 text-slate-400 font-bold text-lg hover:bg-slate-700 transition-colors min-w-[150px]",children:" "}),i&&o&&E.jsx("button",{onClick:o,className:"flex-1 px-6 py-4 rounded-xl bg-slate-800 text-indigo-400 font-bold text-lg border-2 border-slate-700 hover:border-indigo-500 hover:text-indigo-500 transition-all min-w-[150px]",children:"  "}),E.jsx("button",{onClick:()=>g("step"),className:"flex-1 px-6 py-4 rounded-xl bg-slate-800 text-slate-200 font-bold text-lg border-2 border-slate-700 hover:border-amber-500 hover:text-amber-500 transition-all min-w-[150px]",children:" 1  "}),E.jsxs("button",{onClick:()=>g("batch"),className:"flex-[2] px-6 py-4 rounded-xl bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold text-lg shadow-lg hover:shadow-amber-500/20 hover:scale-[1.02] transition-all relative overflow-hidden group",children:[E.jsx("span",{className:"relative z-10",children:"     "}),E.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]})]})]})};function xT(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const _T=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ST=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wT={};function Lf(e,t){return(wT.jsx?ST:_T).test(e)}const CT=/[ \t\n\f\r]/g;function ET(e){return typeof e=="object"?e.type==="text"?Ff(e.value):!1:Ff(e)}function Ff(e){return e.replace(CT,"")===""}class Ki{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ki.prototype.normal={};Ki.prototype.property={};Ki.prototype.space=void 0;function mg(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ki(n,r,t)}function wa(e){return e.toLowerCase()}class vt{constructor(t,n){this.attribute=n,this.property=t}}vt.prototype.attribute="";vt.prototype.booleanish=!1;vt.prototype.boolean=!1;vt.prototype.commaOrSpaceSeparated=!1;vt.prototype.commaSeparated=!1;vt.prototype.defined=!1;vt.prototype.mustUseProperty=!1;vt.prototype.number=!1;vt.prototype.overloadedBoolean=!1;vt.prototype.property="";vt.prototype.spaceSeparated=!1;vt.prototype.space=void 0;let TT=0;const me=ir(),Ge=ir(),Ca=ir(),re=ir(),Ie=ir(),Pr=ir(),_t=ir();function ir(){return 2**++TT}const Ea=Object.freeze(Object.defineProperty({__proto__:null,boolean:me,booleanish:Ge,commaOrSpaceSeparated:_t,commaSeparated:Pr,number:re,overloadedBoolean:Ca,spaceSeparated:Ie},Symbol.toStringTag,{value:"Module"})),al=Object.keys(Ea);class Lu extends vt{constructor(t,n,r,i){let o=-1;if(super(t,n),Uf(this,"space",i),typeof r=="number")for(;++o<al.length;){const s=al[o];Uf(this,al[o],(r&Ea[s])===Ea[s])}}}Lu.prototype.defined=!0;function Uf(e,t,n){n&&(e[t]=n)}function $r(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Lu(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[wa(r)]=r,n[wa(o.attribute)]=r}return new Ki(t,n,e.space)}const gg=$r({properties:{ariaActiveDescendant:null,ariaAtomic:Ge,ariaAutoComplete:null,ariaBusy:Ge,ariaChecked:Ge,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:Ie,ariaCurrent:null,ariaDescribedBy:Ie,ariaDetails:null,ariaDisabled:Ge,ariaDropEffect:Ie,ariaErrorMessage:null,ariaExpanded:Ge,ariaFlowTo:Ie,ariaGrabbed:Ge,ariaHasPopup:null,ariaHidden:Ge,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ie,ariaLevel:re,ariaLive:null,ariaModal:Ge,ariaMultiLine:Ge,ariaMultiSelectable:Ge,ariaOrientation:null,ariaOwns:Ie,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:Ge,ariaReadOnly:Ge,ariaRelevant:null,ariaRequired:Ge,ariaRoleDescription:Ie,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:Ge,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function yg(e,t){return t in e?e[t]:t}function vg(e,t){return yg(e,t.toLowerCase())}const kT=$r({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pr,acceptCharset:Ie,accessKey:Ie,action:null,allow:null,allowFullScreen:me,allowPaymentRequest:me,allowUserMedia:me,alt:null,as:null,async:me,autoCapitalize:null,autoComplete:Ie,autoFocus:me,autoPlay:me,blocking:Ie,capture:null,charSet:null,checked:me,cite:null,className:Ie,cols:re,colSpan:null,content:null,contentEditable:Ge,controls:me,controlsList:Ie,coords:re|Pr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:me,defer:me,dir:null,dirName:null,disabled:me,download:Ca,draggable:Ge,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:me,formTarget:null,headers:Ie,height:re,hidden:Ca,high:re,href:null,hrefLang:null,htmlFor:Ie,httpEquiv:Ie,id:null,imageSizes:null,imageSrcSet:null,inert:me,inputMode:null,integrity:null,is:null,isMap:me,itemId:null,itemProp:Ie,itemRef:Ie,itemScope:me,itemType:Ie,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:me,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:me,muted:me,name:null,nonce:null,noModule:me,noValidate:me,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:me,optimum:re,pattern:null,ping:Ie,placeholder:null,playsInline:me,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:me,referrerPolicy:null,rel:Ie,required:me,reversed:me,rows:re,rowSpan:re,sandbox:Ie,scope:null,scoped:me,seamless:me,selected:me,shadowRootClonable:me,shadowRootDelegatesFocus:me,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:Ge,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:me,useMap:null,value:Ge,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ie,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:me,declare:me,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:me,noHref:me,noShade:me,noWrap:me,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:Ge,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:me,disableRemotePlayback:me,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:vg}),IT=$r({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_t,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:Ie,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:me,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pr,g2:Pr,glyphName:Pr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:_t,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ie,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_t,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_t,rev:_t,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_t,requiredFeatures:_t,requiredFonts:_t,requiredFormats:_t,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:_t,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_t,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_t,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:yg}),xg=$r({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_g=$r({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:vg}),Sg=$r({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),AT={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},NT=/[A-Z]/g,zf=/-[a-z]/g,PT=/^data[-\w.:]+$/i;function RT(e,t){const n=wa(t);let r=t,i=vt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&PT.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(zf,MT);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!zf.test(o)){let s=o.replace(NT,bT);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=Lu}return new i(r,t)}function bT(e){return"-"+e.toLowerCase()}function MT(e){return e.charAt(1).toUpperCase()}const DT=mg([gg,kT,xg,_g,Sg],"html"),Fu=mg([gg,IT,xg,_g,Sg],"svg");function LT(e){return e.join(" ").trim()}var Uu={},Bf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,FT=/\n/g,UT=/^\s*/,zT=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,BT=/^:\s*/,VT=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,OT=/^[;\s]*/,GT=/^\s+|\s+$/g,HT=`
`,Vf="/",Of="*",qn="",qT="comment",$T="declaration";function JT(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(x){var y=x.match(FT);y&&(n+=y.length);var C=x.lastIndexOf(HT);r=~C?x.length-C:r+x.length}function o(){var x={line:n,column:r};return function(y){return y.position=new s(x),c(),y}}function s(x){this.start=x,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(x){var y=new Error(t.source+":"+n+":"+r+": "+x);if(y.reason=x,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function a(x){var y=x.exec(e);if(y){var C=y[0];return i(C),e=e.slice(C.length),y}}function c(){a(UT)}function f(x){var y;for(x=x||[];y=p();)y!==!1&&x.push(y);return x}function p(){var x=o();if(!(Vf!=e.charAt(0)||Of!=e.charAt(1))){for(var y=2;qn!=e.charAt(y)&&(Of!=e.charAt(y)||Vf!=e.charAt(y+1));)++y;if(y+=2,qn===e.charAt(y-1))return l("End of comment missing");var C=e.slice(2,y-2);return r+=2,i(C),e=e.slice(y),r+=2,x({type:qT,comment:C})}}function h(){var x=o(),y=a(zT);if(y){if(p(),!a(BT))return l("property missing ':'");var C=a(VT),g=x({type:$T,property:Gf(y[0].replace(Bf,qn)),value:C?Gf(C[0].replace(Bf,qn)):qn});return a(OT),g}}function m(){var x=[];f(x);for(var y;y=h();)y!==!1&&(x.push(y),f(x));return x}return c(),m()}function Gf(e){return e?e.replace(GT,qn):qn}var WT=JT,KT=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.default=QT;const YT=KT(WT);function QT(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,YT.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:s,value:l}=o;i?t(s,l,o):l&&(n=n||{},n[s]=l)}),n}var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.camelCase=void 0;var ZT=/^--[a-zA-Z0-9_-]+$/,XT=/-([a-z])/g,jT=/^[^-]+$/,e1=/^-(webkit|moz|ms|o|khtml)-/,t1=/^-(ms)-/,n1=function(e){return!e||jT.test(e)||ZT.test(e)},r1=function(e,t){return t.toUpperCase()},Hf=function(e,t){return"".concat(t,"-")},i1=function(e,t){return t===void 0&&(t={}),n1(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(t1,Hf):e=e.replace(e1,Hf),e.replace(XT,r1))};bs.camelCase=i1;var o1=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s1=o1(Uu),l1=bs;function Ta(e,t){var n={};return!e||typeof e!="string"||(0,s1.default)(e,function(r,i){r&&i&&(n[(0,l1.camelCase)(r,t)]=i)}),n}Ta.default=Ta;var a1=Ta;const u1=Vi(a1),wg=Cg("end"),zu=Cg("start");function Cg(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function c1(e){const t=zu(e),n=wg(e);if(t&&n)return{start:t,end:n}}function xi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?qf(e.position):"start"in e||"end"in e?qf(e):"line"in e||"column"in e?ka(e):""}function ka(e){return $f(e&&e.line)+":"+$f(e&&e.column)}function qf(e){return ka(e&&e.start)+"-"+ka(e&&e.end)}function $f(e){return e&&typeof e=="number"?e:1}class rt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=xi(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}rt.prototype.file="";rt.prototype.name="";rt.prototype.reason="";rt.prototype.message="";rt.prototype.stack="";rt.prototype.column=void 0;rt.prototype.line=void 0;rt.prototype.ancestors=void 0;rt.prototype.cause=void 0;rt.prototype.fatal=void 0;rt.prototype.place=void 0;rt.prototype.ruleId=void 0;rt.prototype.source=void 0;const Bu={}.hasOwnProperty,d1=new Map,f1=/[A-Z]/g,p1=new Set(["table","tbody","thead","tfoot","tr"]),h1=new Set(["td","th"]),Eg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function m1(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=C1(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=w1(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Fu:DT,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Tg(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Tg(e,t,n){if(t.type==="element")return g1(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return y1(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return x1(e,t,n);if(t.type==="mdxjsEsm")return v1(e,t);if(t.type==="root")return _1(e,t,n);if(t.type==="text")return S1(e,t)}function g1(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Fu,e.schema=i),e.ancestors.push(t);const o=Ig(e,t.tagName,!1),s=E1(e,t);let l=Ou(e,t);return p1.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!ET(a):!0})),kg(e,s,o,t),Vu(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function y1(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Bi(e,t.position)}function v1(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Bi(e,t.position)}function x1(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Fu,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:Ig(e,t.name,!0),s=T1(e,t),l=Ou(e,t);return kg(e,s,o,t),Vu(s,l),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function _1(e,t,n){const r={};return Vu(r,Ou(e,t)),e.create(t,e.Fragment,r,n)}function S1(e,t){return t.value}function kg(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Vu(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function w1(e,t,n){return r;function r(i,o,s,l){const c=Array.isArray(s.children)?n:t;return l?c(o,s,l):c(o,s)}}function C1(e,t){return n;function n(r,i,o,s){const l=Array.isArray(o.children),a=zu(r);return t(i,o,s,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function E1(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Bu.call(t.properties,i)){const o=k1(e,i,t.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&h1.has(t.tagName)?r=l:n[s]=l}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function T1(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Bi(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,o=e.evaluater.evaluateExpression(l.expression)}else Bi(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Ou(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:d1;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const c=i.get(a)||0;s=a+"-"+c,i.set(a,c+1)}}const l=Tg(e,o,s);l!==void 0&&n.push(l)}return n}function k1(e,t,n){const r=RT(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xT(n):LT(n)),r.property==="style"){let i=typeof n=="object"?n:I1(e,String(n));return e.stylePropertyNameCase==="css"&&(i=A1(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?AT[r.property]||r.property:r.attribute,n]}}function I1(e,t){try{return u1(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new rt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Eg+"#cannot-parse-style-attribute",i}}function Ig(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const l=Lf(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=s}else r=Lf(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Bu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Bi(e)}function Bi(e,t){const n=new rt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Eg+"#cannot-handle-mdx-estrees-without-createevaluater",n}function A1(e){const t={};let n;for(n in e)Bu.call(e,n)&&(t[N1(n)]=e[n]);return t}function N1(e){let t=e.replace(f1,P1);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function P1(e){return"-"+e.toLowerCase()}const ul={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},R1={};function b1(e,t){const n=R1,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ag(e,r,i)}function Ag(e,t,n){if(M1(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jf(e.children,t,n)}return Array.isArray(e)?Jf(e,t,n):""}function Jf(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Ag(e[i],t,n);return r.join("")}function M1(e){return!!(e&&typeof e=="object")}const Wf=document.createElement("i");function Gu(e){const t="&"+e+";";Wf.innerHTML=t;const n=Wf.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function jt(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function Pt(e,t){return e.length>0?(jt(e,e.length,0,t),e):t}const Kf={}.hasOwnProperty;function D1(e){const t={};let n=-1;for(;++n<e.length;)L1(t,e[n]);return t}function L1(e,t){let n;for(n in t){const i=(Kf.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){Kf.call(i,s)||(i[s]=[]);const l=o[s];F1(i[s],Array.isArray(l)?l:l?[l]:[])}}}function F1(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);jt(e,0,0,r)}function Ng(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Rr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=On(/[A-Za-z]/),Ct=On(/[\dA-Za-z]/),U1=On(/[#-'*+\--9=?A-Z^-~]/);function Ia(e){return e!==null&&(e<32||e===127)}const Aa=On(/\d/),z1=On(/[\dA-Fa-f]/),B1=On(/[!-/:-@[-`{-~]/);function pe(e){return e!==null&&e<-2}function yt(e){return e!==null&&(e<0||e===32)}function Ce(e){return e===-2||e===-1||e===32}const V1=On(new RegExp("\\p{P}|\\p{S}","u")),O1=On(/\s/);function On(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Jr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&Ct(e.charCodeAt(n+1))&&Ct(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(s=String.fromCharCode(o,l),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Pe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(a){return Ce(a)?(e.enter(n),l(a)):t(a)}function l(a){return Ce(a)&&o++<i?(e.consume(a),l):(e.exit(n),t(a))}}const G1={tokenize:H1};function H1(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Pe(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),o(l)}function o(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return pe(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),s)}}const q1={tokenize:$1},Yf={tokenize:J1};function $1(e){const t=this,n=[];let r=0,i,o,s;return l;function l(S){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,a,c)(S)}return c(S)}function a(S){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const T=t.events.length;let I=T,A;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){A=t.events[I][1].end;break}g(r);let M=T;for(;M<t.events.length;)t.events[M][1].end={...A},M++;return jt(t.events,I+1,0,t.events.slice(T)),t.events.length=M,c(S)}return l(S)}function c(S){if(r===n.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return x(S);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Yf,f,p)(S)}function f(S){return i&&v(),g(r),h(S)}function p(S){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,x(S)}function h(S){return t.containerState={},e.attempt(Yf,m,x)(S)}function m(S){return r++,n.push([t.currentConstruct,t.containerState]),h(S)}function x(S){if(S===null){i&&v(),g(0),e.consume(S);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(S)}function y(S){if(S===null){C(e.exit("chunkFlow"),!0),g(0),e.consume(S);return}return pe(S)?(e.consume(S),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(S),y)}function C(S,T){const I=t.sliceStream(S);if(T&&I.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(I),t.parser.lazy[S.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<s&&(!i.events[A][1].end||i.events[A][1].end.offset>s))return;const M=t.events.length;let U=M,D,O;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){if(D){O=t.events[U][1].end;break}D=!0}for(g(r),A=M;A<t.events.length;)t.events[A][1].end={...O},A++;jt(t.events,U+1,0,t.events.slice(M)),t.events.length=A}}function g(S){let T=n.length;for(;T-- >S;){const I=n[T];t.containerState=I[1],I[0].exit.call(t,e)}n.length=S}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function J1(e,t,n){return Pe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qf(e){if(e===null||yt(e)||O1(e))return 1;if(V1(e))return 2}function Hu(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Na={name:"attention",resolveAll:W1,tokenize:K1};function W1(e,t){let n=-1,r,i,o,s,l,a,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},h={...e[n][1].start};Zf(p,-a),Zf(h,a),s={type:a>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},o={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Pt(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Pt(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),c=Pt(c,Hu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Pt(c,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=Pt(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,jt(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function K1(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Qf(r);let o;return s;function s(a){return o=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===o)return e.consume(a),l;const c=e.exit("attentionSequence"),f=Qf(a),p=!f||f===2&&i||n.includes(a),h=!i||i===2&&f||n.includes(r);return c._open=!!(o===42?p:p&&(i||!h)),c._close=!!(o===42?h:h&&(f||!p)),t(a)}}function Zf(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Y1={name:"autolink",tokenize:Q1};function Q1(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Qt(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Ct(m)?(r=1,l(m)):c(m)}function l(m){return m===58?(e.consume(m),r=0,a):(m===43||m===45||m===46||Ct(m))&&r++<32?(e.consume(m),l):(r=0,c(m))}function a(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Ia(m)?n(m):(e.consume(m),a)}function c(m){return m===64?(e.consume(m),f):U1(m)?(e.consume(m),c):n(m)}function f(m){return Ct(m)?p(m):n(m)}function p(m){return m===46?(e.consume(m),r=0,f):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Ct(m))&&r++<63){const x=m===45?h:p;return e.consume(m),x}return n(m)}}const Ms={partial:!0,tokenize:Z1};function Z1(e,t,n){return r;function r(o){return Ce(o)?Pe(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||pe(o)?t(o):n(o)}}const Pg={continuation:{tokenize:j1},exit:ek,name:"blockQuote",tokenize:X1};function X1(e,t,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Ce(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function j1(e,t,n){const r=this;return i;function i(s){return Ce(s)?Pe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(Pg,t,n)(s)}}function ek(e){e.exit("blockQuote")}const Rg={name:"characterEscape",tokenize:tk};function tk(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return B1(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const bg={name:"characterReference",tokenize:nk};function nk(e,t,n){const r=this;let i=0,o,s;return l;function l(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),a}function a(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),o=31,s=Ct,f(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=z1,f):(e.enter("characterReferenceValue"),o=7,s=Aa,f(p))}function f(p){if(p===59&&i){const h=e.exit("characterReferenceValue");return s===Ct&&!Gu(r.sliceSerialize(h))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(p)&&i++<o?(e.consume(p),f):n(p)}}const Xf={partial:!0,tokenize:ik},jf={concrete:!0,name:"codeFenced",tokenize:rk};function rk(e,t,n){const r=this,i={partial:!0,tokenize:I};let o=0,s=0,l;return a;function a(A){return c(A)}function c(A){const M=r.events[r.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,l=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(A)}function f(A){return A===l?(s++,e.consume(A),f):s<3?n(A):(e.exit("codeFencedFenceSequence"),Ce(A)?Pe(e,p,"whitespace")(A):p(A))}function p(A){return A===null||pe(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(Xf,y,T)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(A))}function h(A){return A===null||pe(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(A)):Ce(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pe(e,m,"whitespace")(A)):A===96&&A===l?n(A):(e.consume(A),h)}function m(A){return A===null||pe(A)?p(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(A))}function x(A){return A===null||pe(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(A)):A===96&&A===l?n(A):(e.consume(A),x)}function y(A){return e.attempt(i,T,C)(A)}function C(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),g}function g(A){return o>0&&Ce(A)?Pe(e,v,"linePrefix",o+1)(A):v(A)}function v(A){return A===null||pe(A)?e.check(Xf,y,T)(A):(e.enter("codeFlowValue"),S(A))}function S(A){return A===null||pe(A)?(e.exit("codeFlowValue"),v(A)):(e.consume(A),S)}function T(A){return e.exit("codeFenced"),t(A)}function I(A,M,U){let D=0;return O;function O(B){return A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),K}function K(B){return A.enter("codeFencedFence"),Ce(B)?Pe(A,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):N(B)}function N(B){return B===l?(A.enter("codeFencedFenceSequence"),H(B)):U(B)}function H(B){return B===l?(D++,A.consume(B),H):D>=s?(A.exit("codeFencedFenceSequence"),Ce(B)?Pe(A,w,"whitespace")(B):w(B)):U(B)}function w(B){return B===null||pe(B)?(A.exit("codeFencedFence"),M(B)):U(B)}}}function ik(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const cl={name:"codeIndented",tokenize:sk},ok={partial:!0,tokenize:lk};function sk(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Pe(e,o,"linePrefix",5)(c)}function o(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?a(c):pe(c)?e.attempt(ok,s,a)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||pe(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),l)}function a(c){return e.exit("codeIndented"),t(c)}}function lk(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):pe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Pe(e,o,"linePrefix",5)(s)}function o(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):pe(s)?i(s):n(s)}}const ak={name:"codeText",previous:ck,resolve:uk,tokenize:dk};function uk(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ck(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dk(e,t,n){let r=0,i,o;return s;function s(p){return e.enter("codeText"),e.enter("codeTextSequence"),l(p)}function l(p){return p===96?(e.consume(p),r++,l):(e.exit("codeTextSequence"),a(p))}function a(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),a):p===96?(o=e.enter("codeTextSequence"),i=0,f(p)):pe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||pe(p)?(e.exit("codeTextData"),a(p)):(e.consume(p),c)}function f(p){return p===96?(e.consume(p),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",c(p))}}class fk{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ri(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ri(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ri(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ri(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ri(this.left,n.reverse())}}}function ri(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Mg(e){const t={};let n=-1,r,i,o,s,l,a,c;const f=new fk(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,pk(f,n)),n=t[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=f.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,n),l.unshift(r),f.splice(i,n-i+1,l))}}return jt(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function pk(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,a=[],c={};let f,p,h=-1,m=n,x=0,y=0;const C=[y];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(f=r.sliceStream(m),m.next||f.push(null),p&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=m,m=m.next}for(m=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(y=h+1,C.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):C.pop(),h=C.length;h--;){const g=l.slice(C[h],C[h+1]),v=o.pop();a.push([v,v+g.length-1]),e.splice(v,2,g)}for(a.reverse(),h=-1;++h<a.length;)c[x+a[h][0]]=x+a[h][1],x+=a[h][1]-a[h][0]-1;return c}const hk={resolve:gk,tokenize:yk},mk={partial:!0,tokenize:vk};function gk(e){return Mg(e),e}function yk(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):pe(l)?e.check(mk,s,o)(l):(e.consume(l),i)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function vk(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Pe(e,o,"linePrefix")}function o(s){if(s===null||pe(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Dg(e,t,n,r,i,o,s,l,a){const c=a||Number.POSITIVE_INFINITY;let f=0;return p;function p(g){return g===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(g),e.exit(o),h):g===null||g===32||g===41||Ia(g)?n(g):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(g))}function h(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(l),h(g)):g===null||g===60||pe(g)?n(g):(e.consume(g),g===92?x:m)}function x(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!f&&(g===null||g===41||yt(g))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(g)):f<c&&g===40?(e.consume(g),f++,y):g===41?(e.consume(g),f--,y):g===null||g===32||g===40||Ia(g)?n(g):(e.consume(g),g===92?C:y)}function C(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function Lg(e,t,n,r,i,o){const s=this;let l=0,a;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),f}function f(m){return l>999||m===null||m===91||m===93&&!a||m===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):pe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===null||m===91||m===93||pe(m)||l++>999?(e.exit("chunkString"),f(m)):(e.consume(m),a||(a=!Ce(m)),m===92?h:p)}function h(m){return m===91||m===92||m===93?(e.consume(m),l++,p):p(m)}}function Fg(e,t,n,r,i,o){let s;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,a):n(h)}function a(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(o),c(h))}function c(h){return h===s?(e.exit(o),a(s)):h===null?n(h):pe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Pe(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===s||h===null||pe(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?p:f)}function p(h){return h===s||h===92?(e.consume(h),f):f(h)}}function _i(e,t){let n;return r;function r(i){return pe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ce(i)?Pe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const xk={name:"definition",tokenize:Sk},_k={partial:!0,tokenize:wk};function Sk(e,t,n){const r=this;let i;return o;function o(m){return e.enter("definition"),s(m)}function s(m){return Lg.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=Rr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a):n(m)}function a(m){return yt(m)?_i(e,c)(m):c(m)}function c(m){return Dg(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function f(m){return e.attempt(_k,p,p)(m)}function p(m){return Ce(m)?Pe(e,h,"whitespace")(m):h(m)}function h(m){return m===null||pe(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function wk(e,t,n){return r;function r(l){return yt(l)?_i(e,i)(l):n(l)}function i(l){return Fg(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return Ce(l)?Pe(e,s,"whitespace")(l):s(l)}function s(l){return l===null||pe(l)?t(l):n(l)}}const Ck={name:"hardBreakEscape",tokenize:Ek};function Ek(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return pe(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Tk={name:"headingAtx",resolve:kk,tokenize:Ik};function kk(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},jt(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Ik(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),o(f)}function o(f){return e.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(e.consume(f),s):f===null||yt(f)?(e.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(e.enter("atxHeadingSequence"),a(f)):f===null||pe(f)?(e.exit("atxHeading"),t(f)):Ce(f)?Pe(e,l,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function a(f){return f===35?(e.consume(f),a):(e.exit("atxHeadingSequence"),l(f))}function c(f){return f===null||f===35||yt(f)?(e.exit("atxHeadingText"),l(f)):(e.consume(f),c)}}const Ak=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ep=["pre","script","style","textarea"],Nk={concrete:!0,name:"htmlFlow",resolveTo:bk,tokenize:Mk},Pk={partial:!0,tokenize:Lk},Rk={partial:!0,tokenize:Dk};function bk(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Mk(e,t,n){const r=this;let i,o,s,l,a;return c;function c(R){return f(R)}function f(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),p}function p(R){return R===33?(e.consume(R),h):R===47?(e.consume(R),o=!0,y):R===63?(e.consume(R),i=3,r.interrupt?t:k):Qt(R)?(e.consume(R),s=String.fromCharCode(R),C):n(R)}function h(R){return R===45?(e.consume(R),i=2,m):R===91?(e.consume(R),i=5,l=0,x):Qt(R)?(e.consume(R),i=4,r.interrupt?t:k):n(R)}function m(R){return R===45?(e.consume(R),r.interrupt?t:k):n(R)}function x(R){const Q="CDATA[";return R===Q.charCodeAt(l++)?(e.consume(R),l===Q.length?r.interrupt?t:N:x):n(R)}function y(R){return Qt(R)?(e.consume(R),s=String.fromCharCode(R),C):n(R)}function C(R){if(R===null||R===47||R===62||yt(R)){const Q=R===47,j=s.toLowerCase();return!Q&&!o&&ep.includes(j)?(i=1,r.interrupt?t(R):N(R)):Ak.includes(s.toLowerCase())?(i=6,Q?(e.consume(R),g):r.interrupt?t(R):N(R)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):o?v(R):S(R))}return R===45||Ct(R)?(e.consume(R),s+=String.fromCharCode(R),C):n(R)}function g(R){return R===62?(e.consume(R),r.interrupt?t:N):n(R)}function v(R){return Ce(R)?(e.consume(R),v):O(R)}function S(R){return R===47?(e.consume(R),O):R===58||R===95||Qt(R)?(e.consume(R),T):Ce(R)?(e.consume(R),S):O(R)}function T(R){return R===45||R===46||R===58||R===95||Ct(R)?(e.consume(R),T):I(R)}function I(R){return R===61?(e.consume(R),A):Ce(R)?(e.consume(R),I):S(R)}function A(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),a=R,M):Ce(R)?(e.consume(R),A):U(R)}function M(R){return R===a?(e.consume(R),a=null,D):R===null||pe(R)?n(R):(e.consume(R),M)}function U(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||yt(R)?I(R):(e.consume(R),U)}function D(R){return R===47||R===62||Ce(R)?S(R):n(R)}function O(R){return R===62?(e.consume(R),K):n(R)}function K(R){return R===null||pe(R)?N(R):Ce(R)?(e.consume(R),K):n(R)}function N(R){return R===45&&i===2?(e.consume(R),Z):R===60&&i===1?(e.consume(R),J):R===62&&i===4?(e.consume(R),z):R===63&&i===3?(e.consume(R),k):R===93&&i===5?(e.consume(R),L):pe(R)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Pk,V,H)(R)):R===null||pe(R)?(e.exit("htmlFlowData"),H(R)):(e.consume(R),N)}function H(R){return e.check(Rk,w,V)(R)}function w(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),B}function B(R){return R===null||pe(R)?H(R):(e.enter("htmlFlowData"),N(R))}function Z(R){return R===45?(e.consume(R),k):N(R)}function J(R){return R===47?(e.consume(R),s="",F):N(R)}function F(R){if(R===62){const Q=s.toLowerCase();return ep.includes(Q)?(e.consume(R),z):N(R)}return Qt(R)&&s.length<8?(e.consume(R),s+=String.fromCharCode(R),F):N(R)}function L(R){return R===93?(e.consume(R),k):N(R)}function k(R){return R===62?(e.consume(R),z):R===45&&i===2?(e.consume(R),k):N(R)}function z(R){return R===null||pe(R)?(e.exit("htmlFlowData"),V(R)):(e.consume(R),z)}function V(R){return e.exit("htmlFlow"),t(R)}}function Dk(e,t,n){const r=this;return i;function i(s){return pe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Lk(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ms,t,n)}}const Fk={name:"htmlText",tokenize:Uk};function Uk(e,t,n){const r=this;let i,o,s;return l;function l(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),I):k===63?(e.consume(k),S):Qt(k)?(e.consume(k),U):n(k)}function c(k){return k===45?(e.consume(k),f):k===91?(e.consume(k),o=0,x):Qt(k)?(e.consume(k),v):n(k)}function f(k){return k===45?(e.consume(k),m):n(k)}function p(k){return k===null?n(k):k===45?(e.consume(k),h):pe(k)?(s=p,J(k)):(e.consume(k),p)}function h(k){return k===45?(e.consume(k),m):p(k)}function m(k){return k===62?Z(k):k===45?h(k):p(k)}function x(k){const z="CDATA[";return k===z.charCodeAt(o++)?(e.consume(k),o===z.length?y:x):n(k)}function y(k){return k===null?n(k):k===93?(e.consume(k),C):pe(k)?(s=y,J(k)):(e.consume(k),y)}function C(k){return k===93?(e.consume(k),g):y(k)}function g(k){return k===62?Z(k):k===93?(e.consume(k),g):y(k)}function v(k){return k===null||k===62?Z(k):pe(k)?(s=v,J(k)):(e.consume(k),v)}function S(k){return k===null?n(k):k===63?(e.consume(k),T):pe(k)?(s=S,J(k)):(e.consume(k),S)}function T(k){return k===62?Z(k):S(k)}function I(k){return Qt(k)?(e.consume(k),A):n(k)}function A(k){return k===45||Ct(k)?(e.consume(k),A):M(k)}function M(k){return pe(k)?(s=M,J(k)):Ce(k)?(e.consume(k),M):Z(k)}function U(k){return k===45||Ct(k)?(e.consume(k),U):k===47||k===62||yt(k)?D(k):n(k)}function D(k){return k===47?(e.consume(k),Z):k===58||k===95||Qt(k)?(e.consume(k),O):pe(k)?(s=D,J(k)):Ce(k)?(e.consume(k),D):Z(k)}function O(k){return k===45||k===46||k===58||k===95||Ct(k)?(e.consume(k),O):K(k)}function K(k){return k===61?(e.consume(k),N):pe(k)?(s=K,J(k)):Ce(k)?(e.consume(k),K):D(k)}function N(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,H):pe(k)?(s=N,J(k)):Ce(k)?(e.consume(k),N):(e.consume(k),w)}function H(k){return k===i?(e.consume(k),i=void 0,B):k===null?n(k):pe(k)?(s=H,J(k)):(e.consume(k),H)}function w(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||yt(k)?D(k):(e.consume(k),w)}function B(k){return k===47||k===62||yt(k)?D(k):n(k)}function Z(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function J(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),F}function F(k){return Ce(k)?Pe(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):L(k)}function L(k){return e.enter("htmlTextData"),s(k)}}const qu={name:"labelEnd",resolveAll:Ok,resolveTo:Gk,tokenize:Hk},zk={tokenize:qk},Bk={tokenize:$k},Vk={tokenize:Jk};function Ok(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&jt(e,0,e.length,n),e}function Gk(e,t){let n=e.length,r=0,i,o,s,l;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const a={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},f={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",a,t],["enter",c,t]],l=Pt(l,e.slice(o+1,o+r+3)),l=Pt(l,[["enter",f,t]]),l=Pt(l,Hu(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),l=Pt(l,[["exit",f,t],e[s-2],e[s-1],["exit",c,t]]),l=Pt(l,e.slice(s+1)),l=Pt(l,[["exit",a,t]]),jt(e,o,e.length,l),e}function Hk(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(h){return o?o._inactive?p(h):(s=r.parser.defined.includes(Rr(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(zk,f,s?f:p)(h):h===91?e.attempt(Bk,f,s?c:p)(h):s?f(h):p(h)}function c(h){return e.attempt(Vk,f,p)(h)}function f(h){return t(h)}function p(h){return o._balanced=!0,n(h)}}function qk(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return yt(p)?_i(e,o)(p):o(p)}function o(p){return p===41?f(p):Dg(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return yt(p)?_i(e,a)(p):f(p)}function l(p){return n(p)}function a(p){return p===34||p===39||p===40?Fg(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):f(p)}function c(p){return yt(p)?_i(e,f)(p):f(p)}function f(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function $k(e,t,n){const r=this;return i;function i(l){return Lg.call(r,e,o,s,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(Rr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function Jk(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const Wk={name:"labelStartImage",resolveAll:qu.resolveAll,tokenize:Kk};function Kk(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Yk={name:"labelStartLink",resolveAll:qu.resolveAll,tokenize:Qk};function Qk(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const dl={name:"lineEnding",tokenize:Zk};function Zk(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Pe(e,t,"linePrefix")}}const Do={name:"thematicBreak",tokenize:Xk};function Xk(e,t,n){let r=0,i;return o;function o(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,l(c)}function l(c){return c===i?(e.enter("thematicBreakSequence"),a(c)):r>=3&&(c===null||pe(c))?(e.exit("thematicBreak"),t(c)):n(c)}function a(c){return c===i?(e.consume(c),r++,a):(e.exit("thematicBreakSequence"),Ce(c)?Pe(e,l,"whitespace")(c):l(c))}}const dt={continuation:{tokenize:nI},exit:iI,name:"list",tokenize:tI},jk={partial:!0,tokenize:oI},eI={partial:!0,tokenize:rI};function tI(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Aa(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Do,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(m)}return n(m)}function a(m){return Aa(m)&&++s<10?(e.consume(m),a):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Ms,r.interrupt?n:f,e.attempt(jk,h,p))}function f(m){return r.containerState.initialBlankLine=!0,o++,h(m)}function p(m){return Ce(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function nI(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ms,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pe(e,t,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!Ce(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(eI,t,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pe(e,e.attempt(dt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function rI(e,t,n){const r=this;return Pe(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function iI(e){e.exit(this.containerState.type)}function oI(e,t,n){const r=this;return Pe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Ce(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const tp={name:"setextUnderline",resolveTo:sI,tokenize:lI};function sI(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function lI(e,t,n){const r=this;let i;return o;function o(c){let f=r.events.length,p;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){p=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),Ce(c)?Pe(e,a,"lineSuffix")(c):a(c))}function a(c){return c===null||pe(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const aI={tokenize:uI};function uI(e){const t=this,n=e.attempt(Ms,r,e.attempt(this.parser.constructs.flowInitial,i,Pe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(hk,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const cI={resolveAll:zg()},dI=Ug("string"),fI=Ug("text");function Ug(e){return{resolveAll:zg(e==="text"?pI:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,l);return s;function s(f){return c(f)?o(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),a}function a(f){return c(f)?(n.exit("data"),o(f)):(n.consume(f),a)}function c(f){if(f===null)return!0;const p=i[f];let h=-1;if(p)for(;++h<p.length;){const m=p[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function zg(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function pI(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,l=0,a;for(;o--;){const c=i[o];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(c===-2)a=!0,l++;else if(c!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const c={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const hI={42:dt,43:dt,45:dt,48:dt,49:dt,50:dt,51:dt,52:dt,53:dt,54:dt,55:dt,56:dt,57:dt,62:Pg},mI={91:xk},gI={[-2]:cl,[-1]:cl,32:cl},yI={35:Tk,42:Do,45:[tp,Do],60:Nk,61:tp,95:Do,96:jf,126:jf},vI={38:bg,92:Rg},xI={[-5]:dl,[-4]:dl,[-3]:dl,33:Wk,38:bg,42:Na,60:[Y1,Fk],91:Yk,92:[Ck,Rg],93:qu,95:Na,96:ak},_I={null:[Na,cI]},SI={null:[42,95]},wI={null:[]},CI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SI,contentInitial:mI,disable:wI,document:hI,flow:yI,flowInitial:gI,insideSpan:_I,string:vI,text:xI},Symbol.toStringTag,{value:"Module"}));function EI(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],l=[];const a={attempt:M(I),check:M(A),consume:v,enter:S,exit:T,interrupt:M(A,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:x,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:p};let f=t.tokenize.call(c,a);return t.resolveAll&&o.push(t),c;function p(K){return s=Pt(s,K),C(),s[s.length-1]!==null?[]:(U(t,0),c.events=Hu(o,c.events,c),c.events)}function h(K,N){return kI(m(K),N)}function m(K){return TI(s,K)}function x(){const{_bufferIndex:K,_index:N,line:H,column:w,offset:B}=r;return{_bufferIndex:K,_index:N,line:H,column:w,offset:B}}function y(K){i[K.line]=K.column,O()}function C(){let K;for(;r._index<s.length;){const N=s[r._index];if(typeof N=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<N.length;)g(N.charCodeAt(r._bufferIndex));else g(N)}}function g(K){f=f(K)}function v(K){pe(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,O()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=K}function S(K,N){const H=N||{};return H.type=K,H.start=x(),c.events.push(["enter",H,c]),l.push(H),H}function T(K){const N=l.pop();return N.end=x(),c.events.push(["exit",N,c]),N}function I(K,N){U(K,N.from)}function A(K,N){N.restore()}function M(K,N){return H;function H(w,B,Z){let J,F,L,k;return Array.isArray(w)?V(w):"tokenize"in w?V([w]):z(w);function z(de){return ve;function ve(he){const ge=he!==null&&de[he],ke=he!==null&&de.null,Te=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return V(Te)(he)}}function V(de){return J=de,F=0,de.length===0?Z:R(de[F])}function R(de){return ve;function ve(he){return k=D(),L=de,de.partial||(c.currentConstruct=de),de.name&&c.parser.constructs.disable.null.includes(de.name)?j():de.tokenize.call(N?Object.assign(Object.create(c),N):c,a,Q,j)(he)}}function Q(de){return K(L,k),B}function j(de){return k.restore(),++F<J.length?R(J[F]):Z}}}function U(K,N){K.resolveAll&&!o.includes(K)&&o.push(K),K.resolve&&jt(c.events,N,c.events.length-N,K.resolve(c.events.slice(N),c)),K.resolveTo&&(c.events=K.resolveTo(c.events,c))}function D(){const K=x(),N=c.previous,H=c.currentConstruct,w=c.events.length,B=Array.from(l);return{from:w,restore:Z};function Z(){r=K,c.previous=N,c.currentConstruct=H,c.events.length=w,l=B,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function TI(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function kI(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function II(e){const r={constructs:D1([CI,...(e||{}).extensions||[]]),content:i(G1),defined:[],document:i(q1),flow:i(aI),lazy:{},string:i(dI),text:i(fI)};return r;function i(o){return s;function s(l){return EI(r,o,l)}}}function AI(e){for(;!Mg(e););return e}const np=/[\0\t\n\r]/g;function NI(){let e=1,t="",n=!0,r;return i;function i(o,s,l){const a=[];let c,f,p,h,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(np.lastIndex=p,c=np.exec(o),h=c&&c.index!==void 0?c.index:o.length,m=o.charCodeAt(h),!c){t=o.slice(p);break}if(m===10&&p===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),p<h&&(a.push(o.slice(p,h)),e+=h-p),m){case 0:{a.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,a.push(-2);e++<f;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}p=h+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const PI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function RI(e){return e.replace(PI,bI)}function bI(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Ng(n.slice(o?2:1),o?16:10)}return Gu(n)||e}const Bg={}.hasOwnProperty;function MI(e,t,n){return typeof t!="string"&&(n=t,t=void 0),DI(n)(AI(II(n).document().write(NI()(e,t,!0))))}function DI(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(G),autolinkProtocol:D,autolinkEmail:D,atxHeading:o($),blockQuote:o(ke),characterEscape:D,characterReference:D,codeFenced:o(Te),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(Te,s),codeText:o(ct,s),codeTextData:D,data:D,codeFlowValue:D,definition:o(Ze),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(_),hardBreakEscape:o(W),hardBreakTrailing:o(W),htmlFlow:o(b,s),htmlFlowData:D,htmlText:o(b,s),htmlTextData:D,image:o(P),label:s,link:o(G),listItem:o(te),listItemValue:h,listOrdered:o(X,p),listUnordered:o(X),paragraph:o(Y),reference:R,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o($),strong:o(ie),thematicBreak:o(oe)},exit:{atxHeading:a(),atxHeadingSequence:I,autolink:a(),autolinkEmail:ge,autolinkProtocol:he,blockQuote:a(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:j,characterReferenceMarkerNumeric:j,characterReferenceValue:de,characterReference:ve,codeFenced:a(C),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:x,codeFlowValue:O,codeIndented:a(g),codeText:a(B),codeTextData:O,data:O,definition:a(),definitionDestinationString:T,definitionLabelString:v,definitionTitleString:S,emphasis:a(),hardBreakEscape:a(N),hardBreakTrailing:a(N),htmlFlow:a(H),htmlFlowData:O,htmlText:a(w),htmlTextData:O,image:a(J),label:L,labelText:F,lineEnding:K,link:a(Z),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Q,resourceDestinationString:k,resourceTitleString:z,resource:V,setextHeading:a(U),setextHeadingLineSequence:M,setextHeadingText:A,strong:a(),thematicBreak:a()}};Vg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(q){let ee={type:"root",children:[]};const se={stack:[ee],tokenStack:[],config:t,enter:l,exit:c,buffer:s,resume:f,data:n},fe=[];let xe=-1;for(;++xe<q.length;)if(q[xe][1].type==="listOrdered"||q[xe][1].type==="listUnordered")if(q[xe][0]==="enter")fe.push(xe);else{const Be=fe.pop();xe=i(q,Be,xe)}for(xe=-1;++xe<q.length;){const Be=t[q[xe][0]];Bg.call(Be,q[xe][1].type)&&Be[q[xe][1].type].call(Object.assign({sliceSerialize:q[xe][2].sliceSerialize},se),q[xe][1])}if(se.tokenStack.length>0){const Be=se.tokenStack[se.tokenStack.length-1];(Be[1]||rp).call(se,void 0,Be[0])}for(ee.position={start:vn(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:vn(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},xe=-1;++xe<t.transforms.length;)ee=t.transforms[xe](ee)||ee;return ee}function i(q,ee,se){let fe=ee-1,xe=-1,Be=!1,xt,we,$t,en;for(;++fe<=se;){const Le=q[fe];switch(Le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Le[0]==="enter"?xe++:xe--,en=void 0;break}case"lineEndingBlank":{Le[0]==="enter"&&(xt&&!en&&!xe&&!$t&&($t=fe),en=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:en=void 0}if(!xe&&Le[0]==="enter"&&Le[1].type==="listItemPrefix"||xe===-1&&Le[0]==="exit"&&(Le[1].type==="listUnordered"||Le[1].type==="listOrdered")){if(xt){let tn=fe;for(we=void 0;tn--;){const Ft=q[tn];if(Ft[1].type==="lineEnding"||Ft[1].type==="lineEndingBlank"){if(Ft[0]==="exit")continue;we&&(q[we][1].type="lineEndingBlank",Be=!0),Ft[1].type="lineEnding",we=tn}else if(!(Ft[1].type==="linePrefix"||Ft[1].type==="blockQuotePrefix"||Ft[1].type==="blockQuotePrefixWhitespace"||Ft[1].type==="blockQuoteMarker"||Ft[1].type==="listItemIndent"))break}$t&&(!we||$t<we)&&(xt._spread=!0),xt.end=Object.assign({},we?q[we][1].start:Le[1].end),q.splice(we||fe,0,["exit",xt,Le[2]]),fe++,se++}if(Le[1].type==="listItemPrefix"){const tn={type:"listItem",_spread:!1,start:Object.assign({},Le[1].start),end:void 0};xt=tn,q.splice(fe,0,["enter",tn,Le[2]]),fe++,se++,$t=void 0,en=!0}}}return q[ee][1]._spread=Be,se}function o(q,ee){return se;function se(fe){l.call(this,q(fe),fe),ee&&ee.call(this,fe)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(q,ee,se){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([ee,se||void 0]),q.position={start:vn(ee.start),end:void 0}}function a(q){return ee;function ee(se){q&&q.call(this,se),c.call(this,se)}}function c(q,ee){const se=this.stack.pop(),fe=this.tokenStack.pop();if(fe)fe[0].type!==q.type&&(ee?ee.call(this,q,fe[0]):(fe[1]||rp).call(this,q,fe[0]));else throw new Error("Cannot close `"+q.type+"` ("+xi({start:q.start,end:q.end})+"): its not open");se.position.end=vn(q.end)}function f(){return b1(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function m(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=q}function x(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=q}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q.replace(/(\r?\n|\r)$/g,"")}function v(q){const ee=this.resume(),se=this.stack[this.stack.length-1];se.label=ee,se.identifier=Rr(this.sliceSerialize(q)).toLowerCase()}function S(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.title=q}function T(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.url=q}function I(q){const ee=this.stack[this.stack.length-1];if(!ee.depth){const se=this.sliceSerialize(q).length;ee.depth=se}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function M(q){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function D(q){const se=this.stack[this.stack.length-1].children;let fe=se[se.length-1];(!fe||fe.type!=="text")&&(fe=ue(),fe.position={start:vn(q.start),end:void 0},se.push(fe)),this.stack.push(fe)}function O(q){const ee=this.stack.pop();ee.value+=this.sliceSerialize(q),ee.position.end=vn(q.end)}function K(q){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=ee.children[ee.children.length-1];se.position.end=vn(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(D.call(this,q),O.call(this,q))}function N(){this.data.atHardBreak=!0}function H(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q}function w(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q}function B(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.value=q}function Z(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ee,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function J(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ee,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function F(q){const ee=this.sliceSerialize(q),se=this.stack[this.stack.length-2];se.label=RI(ee),se.identifier=Rr(ee).toLowerCase()}function L(){const q=this.stack[this.stack.length-1],ee=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const fe=q.children;se.children=fe}else se.alt=ee}function k(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.url=q}function z(){const q=this.resume(),ee=this.stack[this.stack.length-1];ee.title=q}function V(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function Q(q){const ee=this.resume(),se=this.stack[this.stack.length-1];se.label=ee,se.identifier=Rr(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function j(q){this.data.characterReferenceType=q.type}function de(q){const ee=this.sliceSerialize(q),se=this.data.characterReferenceType;let fe;se?(fe=Ng(ee,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fe=Gu(ee);const xe=this.stack[this.stack.length-1];xe.value+=fe}function ve(q){const ee=this.stack.pop();ee.position.end=vn(q.end)}function he(q){O.call(this,q);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(q)}function ge(q){O.call(this,q);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(q)}function ke(){return{type:"blockquote",children:[]}}function Te(){return{type:"code",lang:null,meta:null,value:""}}function ct(){return{type:"inlineCode",value:""}}function Ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function b(){return{type:"html",value:""}}function P(){return{type:"image",title:null,url:"",alt:null}}function G(){return{type:"link",title:null,url:"",children:[]}}function X(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function te(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function Y(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function ue(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}function vn(e){return{line:e.line,column:e.column,offset:e.offset}}function Vg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Vg(e,r):LI(e,r)}}function LI(e,t){let n;for(n in t)if(Bg.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function rp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+xi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+xi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+xi({start:t.start,end:t.end})+") is still open")}function FI(e){const t=this;t.parser=n;function n(r){return MI(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function UI(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function zI(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function BI(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function VI(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OI(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GI(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Jr(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const c={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,c),e.applyData(t,c)}function HI(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qI(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Og(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function $I(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Og(e,t);const i={src:Jr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function JI(e,t){const n={src:Jr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function WI(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function KI(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Og(e,t);const i={href:Jr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function YI(e,t){const n={href:Jr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function QI(e,t,n){const r=e.all(t),i=n?ZI(n):Gg(t),o={},s=[];if(typeof t.checked=="boolean"){const f=r[0];let p;f&&f.type==="element"&&f.tagName==="p"?p=f:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&s.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?s.push(...f.children):s.push(f)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,c),e.applyData(t,c)}function ZI(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Gg(n[r])}return t}function Gg(e){const t=e.spread;return t??e.children.length>1}function XI(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function jI(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function tA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nA(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=zu(t.children[1]),a=wg(t.children[t.children.length-1]);l&&a&&(s.position={start:l,end:a}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function rA(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:t.children.length;let a=-1;const c=[];for(;++a<l;){const p=t.children[a],h={},m=s?s[a]:void 0;m&&(h.align=m);let x={type:"element",tagName:o,properties:h,children:[]};p&&(x.children=e.all(p),e.patch(p,x),x=e.applyData(p,x)),c.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,f),e.applyData(t,f)}function iA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ip=9,op=32;function oA(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(sp(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(sp(t.slice(i),i>0,!1)),o.join("")}function sp(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===ip||o===op;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===ip||o===op;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function sA(e,t){const n={type:"text",value:oA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lA(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const aA={blockquote:UI,break:zI,code:BI,delete:VI,emphasis:OI,footnoteReference:GI,heading:HI,html:qI,imageReference:$I,image:JI,inlineCode:WI,linkReference:KI,link:YI,listItem:QI,list:XI,paragraph:jI,root:eA,strong:tA,table:nA,tableCell:iA,tableRow:rA,text:sA,thematicBreak:lA,toml:mo,yaml:mo,definition:mo,footnoteDefinition:mo};function mo(){}const Hg=-1,Ds=0,Si=1,cs=2,$u=3,Ju=4,Wu=5,Ku=6,qg=7,$g=8,lp=typeof self=="object"?self:globalThis,uA=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case Ds:case Hg:return n(s,i);case Si:{const l=n([],i);for(const a of s)l.push(r(a));return l}case cs:{const l=n({},i);for(const[a,c]of s)l[r(a)]=r(c);return l}case $u:return n(new Date(s),i);case Ju:{const{source:l,flags:a}=s;return n(new RegExp(l,a),i)}case Wu:{const l=n(new Map,i);for(const[a,c]of s)l.set(r(a),r(c));return l}case Ku:{const l=n(new Set,i);for(const a of s)l.add(r(a));return l}case qg:{const{name:l,message:a}=s;return n(new lp[l](a),i)}case $g:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new lp[o](s),i)};return r},ap=e=>uA(new Map,e)(0),lr="",{toString:cA}={},{keys:dA}=Object,ii=e=>{const t=typeof e;if(t!=="object"||!e)return[Ds,t];const n=cA.call(e).slice(8,-1);switch(n){case"Array":return[Si,lr];case"Object":return[cs,lr];case"Date":return[$u,lr];case"RegExp":return[Ju,lr];case"Map":return[Wu,lr];case"Set":return[Ku,lr];case"DataView":return[Si,n]}return n.includes("Array")?[Si,n]:n.includes("Error")?[qg,n]:[cs,n]},go=([e,t])=>e===Ds&&(t==="function"||t==="symbol"),fA=(e,t,n,r)=>{const i=(s,l)=>{const a=r.push(s)-1;return n.set(l,a),a},o=s=>{if(n.has(s))return n.get(s);let[l,a]=ii(s);switch(l){case Ds:{let f=s;switch(a){case"bigint":l=$g,f=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);f=null;break;case"undefined":return i([Hg],s)}return i([l,f],s)}case Si:{if(a){let h=s;return a==="DataView"?h=new Uint8Array(s.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(s)),i([a,[...h]],s)}const f=[],p=i([l,f],s);for(const h of s)f.push(o(h));return p}case cs:{if(a)switch(a){case"BigInt":return i([a,s.toString()],s);case"Boolean":case"Number":case"String":return i([a,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const f=[],p=i([l,f],s);for(const h of dA(s))(e||!go(ii(s[h])))&&f.push([o(h),o(s[h])]);return p}case $u:return i([l,s.toISOString()],s);case Ju:{const{source:f,flags:p}=s;return i([l,{source:f,flags:p}],s)}case Wu:{const f=[],p=i([l,f],s);for(const[h,m]of s)(e||!(go(ii(h))||go(ii(m))))&&f.push([o(h),o(m)]);return p}case Ku:{const f=[],p=i([l,f],s);for(const h of s)(e||!go(ii(h)))&&f.push(o(h));return p}}const{message:c}=s;return i([l,{name:a,message:c}],s)};return o},up=(e,{json:t,lossy:n}={})=>{const r=[];return fA(!(t||n),!!t,new Map,r)(e),r},ds=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ap(up(e,t)):structuredClone(e):(e,t)=>ap(up(e,t));function pA(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function hA(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function mA(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pA,r=e.options.footnoteBackLabel||hA,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[a]);if(!c)continue;const f=e.all(c),p=String(c.identifier).toUpperCase(),h=Jr(p.toLowerCase());let m=0;const x=[],y=e.footnoteCounts.get(p);for(;y!==void 0&&++m<=y;){x.length>0&&x.push({type:"text",value:" "});let v=typeof n=="string"?n:n(a,m);typeof v=="string"&&(v={type:"text",value:v}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const C=f[f.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const v=C.children[C.children.length-1];v&&v.type==="text"?v.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...x)}else f.push(...x);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(c,g),l.push(g)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ds(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Jg=function(e){if(e==null)return xA;if(typeof e=="function")return Ls(e);if(typeof e=="object")return Array.isArray(e)?gA(e):yA(e);if(typeof e=="string")return vA(e);throw new Error("Expected function, string, or object as test")};function gA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Jg(e[n]);return Ls(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function yA(e){const t=e;return Ls(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function vA(e){return Ls(t);function t(n){return n&&n.type===e}}function Ls(e){return t;function t(n,r,i){return!!(_A(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xA(){return!0}function _A(e){return e!==null&&typeof e=="object"&&"type"in e}const Wg=[],SA=!0,cp=!1,wA="skip";function CA(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=Jg(i),s=r?-1:1;l(e,void 0,[])();function l(a,c,f){const p=a&&typeof a=="object"?a:{};if(typeof p.type=="string"){const m=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=Wg,x,y,C;if((!t||o(a,c,f[f.length-1]||void 0))&&(m=EA(n(a,f)),m[0]===cp))return m;if("children"in a&&a.children){const g=a;if(g.children&&m[0]!==wA)for(y=(r?g.children.length:-1)+s,C=f.concat(g);y>-1&&y<g.children.length;){const v=g.children[y];if(x=l(v,y,C)(),x[0]===cp)return x;y=typeof x[1]=="number"?x[1]:y+s}}return m}}}function EA(e){return Array.isArray(e)?e:typeof e=="number"?[SA,e]:e==null?Wg:[e]}function Kg(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),CA(e,o,l,i);function l(a,c){const f=c[c.length-1],p=f?f.children.indexOf(a):void 0;return s(a,p,f)}}const Pa={}.hasOwnProperty,TA={};function kA(e,t){const n=t||TA,r=new Map,i=new Map,o=new Map,s={...aA,...n.handlers},l={all:c,applyData:AA,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:a,options:n,patch:IA,wrap:PA};return Kg(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const p=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();p.has(h)||p.set(h,f)}}),l;function a(f,p){const h=f.type,m=l.handlers[h];if(Pa.call(l.handlers,h)&&m)return m(l,f,p);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in f){const{children:y,...C}=f,g=ds(C);return g.children=l.all(f),g}return ds(f)}return(l.options.unknownHandler||NA)(l,f,p)}function c(f){const p=[];if("children"in f){const h=f.children;let m=-1;for(;++m<h.length;){const x=l.one(h[m],f);if(x){if(m&&h[m-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=dp(x.value)),!Array.isArray(x)&&x.type==="element")){const y=x.children[0];y&&y.type==="text"&&(y.value=dp(y.value))}Array.isArray(x)?p.push(...x):p.push(x)}}}return p}}function IA(e,t){e.position&&(t.position=c1(e))}function AA(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,ds(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function NA(e,t){const n=t.data||{},r="value"in t&&!(Pa.call(n,"hProperties")||Pa.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function PA(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function dp(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function fp(e,t){const n=kA(e,t),r=n.one(e,void 0),i=mA(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function RA(e,t){return e&&"run"in e?async function(n,r){const i=fp(n,{file:r,...t});await e.run(i,r)}:function(n,r){return fp(n,{file:r,...e||t})}}function pp(e){if(e)throw e}var Lo=Object.prototype.hasOwnProperty,Yg=Object.prototype.toString,hp=Object.defineProperty,mp=Object.getOwnPropertyDescriptor,gp=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Yg.call(t)==="[object Array]"},yp=function(t){if(!t||Yg.call(t)!=="[object Object]")return!1;var n=Lo.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Lo.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Lo.call(t,i)},vp=function(t,n){hp&&n.name==="__proto__"?hp(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},xp=function(t,n){if(n==="__proto__")if(Lo.call(t,n)){if(mp)return mp(t,n).value}else return;return t[n]},bA=function e(){var t,n,r,i,o,s,l=arguments[0],a=1,c=arguments.length,f=!1;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<c;++a)if(t=arguments[a],t!=null)for(n in t)r=xp(l,n),i=xp(t,n),l!==i&&(f&&i&&(yp(i)||(o=gp(i)))?(o?(o=!1,s=r&&gp(r)?r:[]):s=r&&yp(r)?r:{},vp(l,{name:n,newValue:e(f,s,i)})):typeof i<"u"&&vp(l,{name:n,newValue:i}));return l};const fl=Vi(bA);function Ra(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function MA(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(a,...c){const f=e[++o];let p=-1;if(a){s(a);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,f?DA(f,l)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function DA(e,t){let n;return r;function r(...s){const l=e.length>s.length;let a;l&&s.push(i);try{a=e.apply(this,s)}catch(c){const f=c;if(l&&n)throw f;return i(f)}l||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(s,...l){n||(n=!0,t(s,...l))}function o(s){i(null,s)}}const Kt={basename:LA,dirname:FA,extname:UA,join:zA,sep:"/"};function LA(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Yi(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function FA(e){if(Yi(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function UA(e){Yi(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function zA(...e){let t=-1,n;for(;++t<e.length;)Yi(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":BA(n)}function BA(e){Yi(e);const t=e.codePointAt(0)===47;let n=VA(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function VA(e,t){let n="",r=0,i=-1,o=0,s=-1,l,a;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else l===46&&o>-1?o++:o=-1}return n}function Yi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const OA={cwd:GA};function GA(){return"/"}function ba(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function HA(e){if(typeof e=="string")e=new URL(e);else if(!ba(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return qA(e)}function qA(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const pl=["history","path","basename","stem","extname","dirname"];class Qg{constructor(t){let n;t?ba(t)?n={path:t}:typeof t=="string"||$A(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":OA.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<pl.length;){const o=pl[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)pl.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Kt.basename(this.path):void 0}set basename(t){ml(t,"basename"),hl(t,"basename"),this.path=Kt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Kt.dirname(this.path):void 0}set dirname(t){_p(this.basename,"dirname"),this.path=Kt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Kt.extname(this.path):void 0}set extname(t){if(hl(t,"extname"),_p(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ba(t)&&(t=HA(t)),ml(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Kt.basename(this.path,this.extname):void 0}set stem(t){ml(t,"stem"),hl(t,"stem"),this.path=Kt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new rt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function hl(e,t){if(e&&e.includes(Kt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Kt.sep+"`")}function ml(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _p(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $A(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JA=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},WA={}.hasOwnProperty;class Yu extends JA{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=MA()}copy(){const t=new Yu;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(fl(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(vl("data",this.frozen),this.namespace[t]=n,this):WA.call(this.namespace,t)&&this.namespace[t]||void 0:t?(vl("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=yo(t),r=this.parser||this.Parser;return gl("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),gl("process",this.parser||this.Parser),yl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const l=yo(t),a=r.parse(l);r.run(a,l,function(f,p,h){if(f||!p||!h)return c(f);const m=p,x=r.stringify(m,h);QA(x)?h.value=x:h.result=x,c(f,h)});function c(f,p){f||!p?s(f):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),gl("processSync",this.parser||this.Parser),yl("processSync",this.compiler||this.Compiler),this.process(t,i),wp("processSync","process",n),r;function i(o,s){n=!0,pp(o),r=s}}run(t,n,r){Sp(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,l){const a=yo(n);i.run(t,a,c);function c(f,p,h){const m=p||t;f?l(f):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),wp("runSync","run",r),i;function o(s,l){pp(s),i=l,r=!0}}stringify(t,n){this.freeze();const r=yo(n),i=this.compiler||this.Compiler;return yl("stringify",i),Sp(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(vl("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(c){if(typeof c=="function")a(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...p]=c;a(f,p)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(i.settings=fl(!0,i.settings,c.settings))}function l(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const p=c[f];o(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function a(c,f){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===c){h=p;break}if(h===-1)r.push([c,...f]);else if(f.length>0){let[m,...x]=f;const y=r[h][1];Ra(y)&&Ra(m)&&(m=fl(!0,y,m)),r[h]=[c,m,...x]}}}}const KA=new Yu().freeze();function gl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function yl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function vl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Sp(e){if(!Ra(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function wp(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yo(e){return YA(e)?e:new Qg(e)}function YA(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function QA(e){return typeof e=="string"||ZA(e)}function ZA(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const XA="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Cp=[],Ep={allowDangerousHtml:!0},jA=/^(https?|ircs?|mailto|xmpp)$/i,eN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tN(e){const t=nN(e),n=rN(e);return iN(t.runSync(t.parse(n),n),e)}function nN(e){const t=e.rehypePlugins||Cp,n=e.remarkPlugins||Cp,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Ep}:Ep;return KA().use(FI).use(n).use(RA,r).use(t)}function rN(e){const t=e.children||"",n=new Qg;return typeof t=="string"&&(n.value=t),n}function iN(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,a=t.urlTransform||oN;for(const f of eN)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+XA+f.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Kg(e,c),m1(e,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function c(f,p,h){if(f.type==="raw"&&h&&typeof p=="number")return s?h.children.splice(p,1):h.children[p]={type:"text",value:f.value},p;if(f.type==="element"){let m;for(m in ul)if(Object.hasOwn(ul,m)&&Object.hasOwn(f.properties,m)){const x=f.properties[m],y=ul[m];(y===null||y.includes(f.tagName))&&(f.properties[m]=a(String(x||""),m,f))}}if(f.type==="element"){let m=n?!n.includes(f.tagName):o?o.includes(f.tagName):!1;if(!m&&r&&typeof p=="number"&&(m=!r(f,p,h)),m&&h&&typeof p=="number")return l&&f.children?h.children.splice(p,1,...f.children):h.children.splice(p,1),p}}}function oN(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||jA.test(e.slice(0,t))?e:""}function vo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zg={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(c,f){if(!i[c]){if(!r[c]){var p=typeof vo=="function"&&vo;if(!f&&p)return p(c,!0);if(l)return l(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var m=i[c]={exports:{}};r[c][0].call(m.exports,function(x){var y=r[c][1][x];return s(y||x)},m,m.exports,n,r,i,o)}return i[c].exports}for(var l=typeof vo=="function"&&vo,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(a){for(var c,f,p,h,m,x,y,C=[],g=0,v=a.length,S=v,T=o.getTypeOf(a)!=="string";g<a.length;)S=v-g,p=T?(c=a[g++],f=g<v?a[g++]:0,g<v?a[g++]:0):(c=a.charCodeAt(g++),f=g<v?a.charCodeAt(g++):0,g<v?a.charCodeAt(g++):0),h=c>>2,m=(3&c)<<4|f>>4,x=1<S?(15&f)<<2|p>>6:64,y=2<S?63&p:64,C.push(l.charAt(h)+l.charAt(m)+l.charAt(x)+l.charAt(y));return C.join("")},i.decode=function(a){var c,f,p,h,m,x,y=0,C=0,g="data:";if(a.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,S=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===l.charAt(64)&&S--,a.charAt(a.length-2)===l.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|S):new Array(0|S);y<a.length;)c=l.indexOf(a.charAt(y++))<<2|(h=l.indexOf(a.charAt(y++)))>>4,f=(15&h)<<4|(m=l.indexOf(a.charAt(y++)))>>2,p=(3&m)<<6|(x=l.indexOf(a.charAt(y++))),v[C++]=c,m!==64&&(v[C++]=f),x!==64&&(v[C++]=p);return v}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),a=n("./stream/DataLengthProbe");function c(f,p,h,m,x){this.compressedSize=f,this.uncompressedSize=p,this.crc32=h,this.compression=m,this.compressedContent=x}c.prototype={getContentWorker:function(){var f=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(f,p,h){return f.pipe(new l).pipe(new a("uncompressedSize")).pipe(p.compressWorker(h)).pipe(new a("compressedSize")).withStreamInfo("compression",p)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=function(){for(var l,a=[],c=0;c<256;c++){l=c;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;a[c]=l}return a}();r.exports=function(l,a){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(c,f,p,h){var m=s,x=h+p;c^=-1;for(var y=h;y<x;y++)c=c>>>8^m[255&(c^f[y])];return-1^c}(0|a,l,l.length,0):function(c,f,p,h){var m=s,x=h+p;c^=-1;for(var y=h;y<x;y++)c=c>>>8^m[255&(c^f.charCodeAt(y))];return-1^c}(0|a,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),l=n("./utils"),a=n("./stream/GenericWorker"),c=o?"uint8array":"array";function f(p,h){a.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=h,this.meta={}}i.magic="\b\0",l.inherits(f,a),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(c,p.data),!1)},f.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(h){p.push({data:h,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(m,x){var y,C="";for(y=0;y<x;y++)C+=String.fromCharCode(255&m),m>>>=8;return C}function s(m,x,y,C,g,v){var S,T,I=m.file,A=m.compression,M=v!==c.utf8encode,U=l.transformTo("string",v(I.name)),D=l.transformTo("string",c.utf8encode(I.name)),O=I.comment,K=l.transformTo("string",v(O)),N=l.transformTo("string",c.utf8encode(O)),H=D.length!==I.name.length,w=N.length!==O.length,B="",Z="",J="",F=I.dir,L=I.date,k={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(k.crc32=m.crc32,k.compressedSize=m.compressedSize,k.uncompressedSize=m.uncompressedSize);var z=0;x&&(z|=8),M||!H&&!w||(z|=2048);var V=0,R=0;F&&(V|=16),g==="UNIX"?(R=798,V|=function(j,de){var ve=j;return j||(ve=de?16893:33204),(65535&ve)<<16}(I.unixPermissions,F)):(R=20,V|=function(j){return 63&(j||0)}(I.dosPermissions)),S=L.getUTCHours(),S<<=6,S|=L.getUTCMinutes(),S<<=5,S|=L.getUTCSeconds()/2,T=L.getUTCFullYear()-1980,T<<=4,T|=L.getUTCMonth()+1,T<<=5,T|=L.getUTCDate(),H&&(Z=o(1,1)+o(f(U),4)+D,B+="up"+o(Z.length,2)+Z),w&&(J=o(1,1)+o(f(K),4)+N,B+="uc"+o(J.length,2)+J);var Q="";return Q+=`
\0`,Q+=o(z,2),Q+=A.magic,Q+=o(S,2),Q+=o(T,2),Q+=o(k.crc32,4),Q+=o(k.compressedSize,4),Q+=o(k.uncompressedSize,4),Q+=o(U.length,2),Q+=o(B.length,2),{fileRecord:p.LOCAL_FILE_HEADER+Q+U+B,dirRecord:p.CENTRAL_FILE_HEADER+o(R,2)+Q+o(K.length,2)+"\0\0\0\0"+o(V,4)+o(C,4)+U+B+K}}var l=n("../utils"),a=n("../stream/GenericWorker"),c=n("../utf8"),f=n("../crc32"),p=n("../signature");function h(m,x,y,C){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=C,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(h,a),h.prototype.push=function(m){var x=m.meta.percent||0,y=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,a.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-C-1))/y:100}}))},h.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var y=s(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,y=s(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(C){return p.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-m,C=function(g,v,S,T,I){var A=l.transformTo("string",I(T));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(g,2)+o(g,2)+o(v,4)+o(S,4)+o(A.length,2)+A}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(y){x.processChunk(y)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(y){x.error(y)}),this},h.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(m){var x=this._sources;if(!a.prototype.error.call(this,m))return!1;for(var y=0;y<x.length;y++)try{x[y].error(m)}catch{}return!0},h.prototype.lock=function(){a.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(l,a,c){var f=new s(a.streamFiles,c,a.platform,a.encodeFileName),p=0;try{l.forEach(function(h,m){p++;var x=function(v,S){var T=v||S,I=o[T];if(!I)throw new Error(T+" is not a valid compression method !");return I}(m.options.compression,a.compression),y=m.options.compressionOptions||a.compressionOptions||{},C=m.dir,g=m.date;m._compressWorker(x,y).withStreamInfo("file",{name:h,dir:C,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(h){f.error(h)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,l){return new o().loadAsync(s,l)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),l=n("./utf8"),a=n("./zipEntries"),c=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function p(h){return new s.Promise(function(m,x){var y=h.decompressed.getContentWorker().pipe(new c);y.on("error",function(C){x(C)}).on("end",function(){y.streamInfo.crc32!==h.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(h,m){var x=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,m.optimizedBinaryString,m.base64).then(function(y){var C=new a(m);return C.load(y),C}).then(function(y){var C=[s.Promise.resolve(y)],g=y.files;if(m.checkCRC32)for(var v=0;v<g.length;v++)C.push(p(g[v]));return s.Promise.all(C)}).then(function(y){for(var C=y.shift(),g=C.files,v=0;v<g.length;v++){var S=g[v],T=S.fileNameStr,I=o.resolve(S.fileNameStr);x.file(I,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:m.createFolders}),S.dir||(x.file(I).unsafeOriginalName=T)}return C.zipComment.length&&(x.comment=C.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function l(a,c){s.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(l,s),l.prototype._bindStream=function(a){var c=this;(this._stream=a).pause(),a.on("data",function(f){c.push({data:f,meta:{percent:0}})}).on("error",function(f){c.isPaused?this.generatedError=f:c.error(f)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(l,a,c){o.call(this,a),this._helper=l;var f=this;l.on("data",function(p,h){f.push(p)||f._helper.pause(),c&&c(h)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(I,A,M){var U,D=l.getTypeOf(A),O=l.extend(M||{},f);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(I=g(I)),O.createFolders&&(U=C(I))&&v.call(this,U,!0);var K=D==="string"&&O.binary===!1&&O.base64===!1;M&&M.binary!==void 0||(O.binary=!K),(A instanceof p&&A.uncompressedSize===0||O.dir||!A||A.length===0)&&(O.base64=!1,O.binary=!0,A="",O.compression="STORE",D="string");var N=null;N=A instanceof p||A instanceof a?A:x.isNode&&x.isStream(A)?new y(I,A):l.prepareContent(I,A,O.binary,O.optimizedBinaryString,O.base64);var H=new h(I,N,O);this.files[I]=H}var s=n("./utf8"),l=n("./utils"),a=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),f=n("./defaults"),p=n("./compressedObject"),h=n("./zipObject"),m=n("./generate"),x=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),C=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var A=I.lastIndexOf("/");return 0<A?I.substring(0,A):""},g=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},v=function(I,A){return A=A!==void 0?A:f.createFolders,I=g(I),this.files[I]||o.call(this,I,null,{dir:!0,createFolders:A}),this.files[I]};function S(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var A,M,U;for(A in this.files)U=this.files[A],(M=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&I(M,U)},filter:function(I){var A=[];return this.forEach(function(M,U){I(M,U)&&A.push(U)}),A},file:function(I,A,M){if(arguments.length!==1)return I=this.root+I,o.call(this,I,A,M),this;if(S(I)){var U=I;return this.filter(function(O,K){return!K.dir&&U.test(O)})}var D=this.files[this.root+I];return D&&!D.dir?D:null},folder:function(I){if(!I)return this;if(S(I))return this.filter(function(D,O){return O.dir&&I.test(D)});var A=this.root+I,M=v.call(this,A),U=this.clone();return U.root=M.name,U},remove:function(I){I=this.root+I;var A=this.files[I];if(A||(I.slice(-1)!=="/"&&(I+="/"),A=this.files[I]),A&&!A.dir)delete this.files[I];else for(var M=this.filter(function(D,O){return O.name.slice(0,I.length)===I}),U=0;U<M.length;U++)delete this.files[M[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var A,M={};try{if((M=l.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");l.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var U=M.comment||this.comment||"";A=m.generateWorker(this,M,U)}catch(D){(A=new a("error")).error(D)}return new c(A,M.type||"string",M.mimeType)},generateAsync:function(I,A){return this.generateInternalStream(I).accumulate(A)},generateNodeStream:function(I,A){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(A)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(l){o.call(this,l);for(var a=0;a<this.data.length;a++)l[a]=255&l[a]}n("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var a=l.charCodeAt(0),c=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===a&&this.data[h+1]===c&&this.data[h+2]===f&&this.data[h+3]===p)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var a=l.charCodeAt(0),c=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),h=this.readData(4);return a===h[0]&&c===h[1]&&f===h[2]&&p===h[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var a,c=0;for(this.checkOffset(l),a=this.index+l-1;a>=this.index;a--)c=(c<<8)+this.byteAt(a);return this.index+=l,c},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(l){o.call(this,l)}n("../utils").inherits(s,o),s.prototype.readData=function(l){this.checkOffset(l);var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(l){o.call(this,l)}n("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(l){o.call(this,l)}n("../utils").inherits(s,o),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),l=n("./ArrayReader"),a=n("./StringReader"),c=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(p){var h=o.getTypeOf(p);return o.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new c(p):s.uint8array?new f(o.transformTo("uint8array",p)):new l(o.transformTo("array",p)):new a(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function l(a){o.call(this,"ConvertWorker to "+a),this.destType=a}s.inherits(l,o),l.prototype.processChunk=function(a){this.push({data:s.transformTo(this.destType,a.data),meta:a.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,o),l.prototype.processChunk=function(a){this.streamInfo.crc32=s(a.data,this.streamInfo.crc32||0),this.push(a)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function l(a){s.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}o.inherits(l,s),l.prototype.processChunk=function(a){if(a){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+a.data.length}s.prototype.processChunk.call(this,a)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function l(a){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=o.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}o.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,c);break;case"uint8array":a=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":a=this.data.slice(this.index,c)}return this.index=c,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var a=0;a<this._listeners[s].length;a++)this._listeners[s][a].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(a){l.processChunk(a)}),s.on("end",function(){l.end()}),s.on("error",function(a){l.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),l=n("./GenericWorker"),a=n("../base64"),c=n("../support"),f=n("../external"),p=null;if(c.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(x,y){return new f.Promise(function(C,g){var v=[],S=x._internalType,T=x._outputType,I=x._mimeType;x.on("data",function(A,M){v.push(A),y&&y(M)}).on("error",function(A){v=[],g(A)}).on("end",function(){try{var A=function(M,U,D){switch(M){case"blob":return o.newBlob(o.transformTo("arraybuffer",U),D);case"base64":return a.encode(U);default:return o.transformTo(M,U)}}(T,function(M,U){var D,O=0,K=null,N=0;for(D=0;D<U.length;D++)N+=U[D].length;switch(M){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(K=new Uint8Array(N),D=0;D<U.length;D++)K.set(U[D],O),O+=U[D].length;return K;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+M+"'")}}(S,v),I);C(A)}catch(M){g(M)}v=[]}).resume()})}function m(x,y,C){var g=y;switch(y){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=y,this._mimeType=C,o.checkSupport(g),this._worker=x.pipe(new s(g)),x.lock()}catch(v){this._worker=new l("error"),this._worker.error(v)}}m.prototype={accumulate:function(x){return h(this,x)},on:function(x,y){var C=this;return x==="data"?this._worker.on(x,function(g){y.call(C,g.data,g.meta)}):this._worker.on(x,function(){o.delay(y,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),l=n("./nodejsUtils"),a=n("./stream/GenericWorker"),c=new Array(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;c[254]=c[254]=1;function p(){a.call(this,"utf-8 decode"),this.leftOver=null}function h(){a.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var y,C,g,v,S,T=x.length,I=0;for(v=0;v<T;v++)(64512&(C=x.charCodeAt(v)))==55296&&v+1<T&&(64512&(g=x.charCodeAt(v+1)))==56320&&(C=65536+(C-55296<<10)+(g-56320),v++),I+=C<128?1:C<2048?2:C<65536?3:4;for(y=s.uint8array?new Uint8Array(I):new Array(I),v=S=0;S<I;v++)(64512&(C=x.charCodeAt(v)))==55296&&v+1<T&&(64512&(g=x.charCodeAt(v+1)))==56320&&(C=65536+(C-55296<<10)+(g-56320),v++),C<128?y[S++]=C:(C<2048?y[S++]=192|C>>>6:(C<65536?y[S++]=224|C>>>12:(y[S++]=240|C>>>18,y[S++]=128|C>>>12&63),y[S++]=128|C>>>6&63),y[S++]=128|63&C);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):function(x){var y,C,g,v,S=x.length,T=new Array(2*S);for(y=C=0;y<S;)if((g=x[y++])<128)T[C++]=g;else if(4<(v=c[g]))T[C++]=65533,y+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&y<S;)g=g<<6|63&x[y++],v--;1<v?T[C++]=65533:g<65536?T[C++]=g:(g-=65536,T[C++]=55296|g>>10&1023,T[C++]=56320|1023&g)}return T.length!==C&&(T.subarray?T=T.subarray(0,C):T.length=C),o.applyFromCharCode(T)}(m=o.transformTo(s.uint8array?"uint8array":"array",m))},o.inherits(p,a),p.prototype.processChunk=function(m){var x=o.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var C=function(v,S){var T;for((S=S||v.length)>v.length&&(S=v.length),T=S-1;0<=T&&(192&v[T])==128;)T--;return T<0||T===0?S:T+c[v[T]]>S?T:S}(x),g=x;C!==x.length&&(s.uint8array?(g=x.subarray(0,C),this.leftOver=x.subarray(C,x.length)):(g=x.slice(0,C),this.leftOver=x.slice(C,x.length))),this.push({data:i.utf8decode(g),meta:m.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,o.inherits(h,a),h.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),l=n("./nodejsUtils"),a=n("./external");function c(y){return y}function f(y,C){for(var g=0;g<y.length;++g)C[g]=255&y.charCodeAt(g);return C}n("setimmediate"),i.newBlob=function(y,C){i.checkSupport("blob");try{return new Blob([y],{type:C})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(y),g.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(y,C,g){var v=[],S=0,T=y.length;if(T<=g)return String.fromCharCode.apply(null,y);for(;S<T;)C==="array"||C==="nodebuffer"?v.push(String.fromCharCode.apply(null,y.slice(S,Math.min(S+g,T)))):v.push(String.fromCharCode.apply(null,y.subarray(S,Math.min(S+g,T)))),S+=g;return v.join("")},stringifyByChar:function(y){for(var C="",g=0;g<y.length;g++)C+=String.fromCharCode(y[g]);return C},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function h(y){var C=65536,g=i.getTypeOf(y),v=!0;if(g==="uint8array"?v=p.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=p.applyCanBeUsed.nodebuffer),v)for(;1<C;)try{return p.stringifyByChunk(y,g,C)}catch{C=Math.floor(C/2)}return p.stringifyByChar(y)}function m(y,C){for(var g=0;g<y.length;g++)C[g]=y[g];return C}i.applyFromCharCode=h;var x={};x.string={string:c,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,l.allocBuffer(y.length))}},x.array={string:h,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return h(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:h,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:h,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,C){if(C=C||"",!y)return C;i.checkSupport(y);var g=i.getTypeOf(C);return x[g][y](C)},i.resolve=function(y){for(var C=y.split("/"),g=[],v=0;v<C.length;v++){var S=C[v];S==="."||S===""&&v!==0&&v!==C.length-1||(S===".."?g.pop():g.push(S))}return g.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var C,g,v="";for(g=0;g<(y||"").length;g++)v+="\\x"+((C=y.charCodeAt(g))<16?"0":"")+C.toString(16).toUpperCase();return v},i.delay=function(y,C,g){setImmediate(function(){y.apply(g||null,C||[])})},i.inherits=function(y,C){function g(){}g.prototype=C.prototype,y.prototype=new g},i.extend=function(){var y,C,g={};for(y=0;y<arguments.length;y++)for(C in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],C)&&g[C]===void 0&&(g[C]=arguments[y][C]);return g},i.prepareContent=function(y,C,g,v,S){return a.Promise.resolve(C).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new a.Promise(function(I,A){var M=new FileReader;M.onload=function(U){I(U.target.result)},M.onerror=function(U){A(U.target.error)},M.readAsArrayBuffer(T)}):T}).then(function(T){var I=i.getTypeOf(T);return I?(I==="arraybuffer"?T=i.transformTo("uint8array",T):I==="string"&&(S?T=s.decode(T):g&&v!==!0&&(T=function(A){return f(A,o.uint8array?new Uint8Array(A.length):new Array(A.length))}(T))),T):a.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),l=n("./signature"),a=n("./zipEntry"),c=n("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(p)+")")}},isSignature:function(p,h){var m=this.reader.index;this.reader.setIndex(p);var x=this.reader.readString(4)===h;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",m=s.transformTo(h,p);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,h,m,x=this.zip64EndOfCentralSize-44;0<x;)p=this.reader.readInt(2),h=this.reader.readInt(4),m=this.reader.readData(h),this.zip64ExtensibleData[p]={id:p,length:h,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,h;for(p=0;p<this.files.length;p++)h=this.files[p],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var h=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=h-m;if(0<x)this.isSignature(h,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(p){this.reader=o(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),l=n("./compressedObject"),a=n("./crc32"),c=n("./utf8"),f=n("./compressions"),p=n("./support");function h(m,x){this.options=m,this.loadOptions=x}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(C){for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)&&f[g].magic===C)return f[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,y,C,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)x=m.readInt(2),y=m.readInt(2),C=m.readData(y),this.extraFields[x]={id:x,length:y,value:C};m.setIndex(g)},handleUTF8:function(){var m=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var g=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=o(m.value);return x.readInt(1)!==1||a(this.fileName)!==x.readInt(4)?null:c.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=o(m.value);return x.readInt(1)!==1||a(this.fileComment)!==x.readInt(4)?null:c.utf8decode(x.readData(m.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(x,y,C){this.name=x,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=y,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var s=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),a=n("./utf8"),c=n("./compressedObject"),f=n("./stream/GenericWorker");o.prototype={internalStream:function(x){var y=null,C="string";try{if(!x)throw new Error("No output type specified.");var g=(C=x.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),y=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(y=y.pipe(new a.Utf8EncodeWorker)),!v&&g&&(y=y.pipe(new a.Utf8DecodeWorker))}catch(S){(y=new f("error")).error(S)}return new s(y,C,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof c&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new a.Utf8EncodeWorker)),c.createWorkerFrom(C,x,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<p.length;m++)o.prototype[p[m]]=h;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,l,a=o.MutationObserver||o.WebKitMutationObserver;if(a){var c=0,f=new a(x),p=o.document.createTextNode("");f.observe(p,{characterData:!0}),s=function(){p.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var h=new o.MessageChannel;h.port1.onmessage=x,s=function(){h.port2.postMessage(0)}}var m=[];function x(){var y,C;l=!0;for(var g=m.length;g;){for(C=m,m=[],y=-1;++y<g;)C[y]();g=m.length}l=!1}r.exports=function(y){m.push(y)!==1||l||s()}}).call(this,typeof Cn<"u"?Cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var l={},a=["REJECTED"],c=["FULFILLED"],f=["PENDING"];function p(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,g!==s&&y(this,g)}function h(g,v,S){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function m(g,v,S){o(function(){var T;try{T=v(S)}catch(I){return l.reject(g,I)}T===g?l.reject(g,new TypeError("Cannot resolve promise with itself")):l.resolve(g,T)})}function x(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function y(g,v){var S=!1;function T(M){S||(S=!0,l.reject(g,M))}function I(M){S||(S=!0,l.resolve(g,M))}var A=C(function(){v(I,T)});A.status==="error"&&T(A.value)}function C(g,v){var S={};try{S.value=g(v),S.status="success"}catch(T){S.status="error",S.value=T}return S}(r.exports=p).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(S){return v.resolve(g()).then(function(){return S})},function(S){return v.resolve(g()).then(function(){throw S})})},p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,v){if(typeof g!="function"&&this.state===c||typeof v!="function"&&this.state===a)return this;var S=new this.constructor(s);return this.state!==f?m(S,this.state===c?g:v,this.outcome):this.queue.push(new h(S,g,v)),S},h.prototype.callFulfilled=function(g){l.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){l.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},l.resolve=function(g,v){var S=C(x,v);if(S.status==="error")return l.reject(g,S.value);var T=S.value;if(T)y(g,T);else{g.state=c,g.outcome=v;for(var I=-1,A=g.queue.length;++I<A;)g.queue[I].callFulfilled(v)}return g},l.reject=function(g,v){g.state=a,g.outcome=v;for(var S=-1,T=g.queue.length;++S<T;)g.queue[S].callRejected(v);return g},p.resolve=function(g){return g instanceof this?g:l.resolve(new this(s),g)},p.reject=function(g){var v=new this(s);return l.reject(v,g)},p.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,T=!1;if(!S)return this.resolve([]);for(var I=new Array(S),A=0,M=-1,U=new this(s);++M<S;)D(g[M],M);return U;function D(O,K){v.resolve(O).then(function(N){I[K]=N,++A!==S||T||(T=!0,l.resolve(U,I))},function(N){T||(T=!0,l.reject(U,N))})}},p.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,T=!1;if(!S)return this.resolve([]);for(var I=-1,A=new this(s);++I<S;)M=g[I],v.resolve(M).then(function(U){T||(T=!0,l.resolve(A,U))},function(U){T||(T=!0,l.reject(A,U))});var M;return A}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),l=n("./utils/strings"),a=n("./zlib/messages"),c=n("./zlib/zstream"),f=Object.prototype.toString,p=0,h=-1,m=0,x=8;function y(g){if(!(this instanceof y))return new y(g);this.options=s.assign({level:h,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var S=o.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(S!==p)throw new Error(a[S]);if(v.header&&o.deflateSetHeader(this.strm,v.header),v.dictionary){var T;if(T=typeof v.dictionary=="string"?l.string2buf(v.dictionary):f.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(S=o.deflateSetDictionary(this.strm,T))!==p)throw new Error(a[S]);this._dict_set=!0}}function C(g,v){var S=new y(v);if(S.push(g,!0),S.err)throw S.msg||a[S.err];return S.result}y.prototype.push=function(g,v){var S,T,I=this.strm,A=this.options.chunkSize;if(this.ended)return!1;T=v===~~v?v:v===!0?4:0,typeof g=="string"?I.input=l.string2buf(g):f.call(g)==="[object ArrayBuffer]"?I.input=new Uint8Array(g):I.input=g,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(A),I.next_out=0,I.avail_out=A),(S=o.deflate(I,T))!==1&&S!==p)return this.onEnd(S),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(I.output,I.next_out))):this.onData(s.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&S!==1);return T===4?(S=o.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p):T!==2||(this.onEnd(p),!(I.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=y,i.deflate=C,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,C(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,C(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),l=n("./utils/strings"),a=n("./zlib/constants"),c=n("./zlib/messages"),f=n("./zlib/zstream"),p=n("./zlib/gzheader"),h=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||y&&y.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&!(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,C.windowBits);if(g!==a.Z_OK)throw new Error(c[g]);this.header=new p,o.inflateGetHeader(this.strm,this.header)}function x(y,C){var g=new m(C);if(g.push(y,!0),g.err)throw g.msg||c[g.err];return g.result}m.prototype.push=function(y,C){var g,v,S,T,I,A,M=this.strm,U=this.options.chunkSize,D=this.options.dictionary,O=!1;if(this.ended)return!1;v=C===~~C?C:C===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof y=="string"?M.input=l.binstring2buf(y):h.call(y)==="[object ArrayBuffer]"?M.input=new Uint8Array(y):M.input=y,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(U),M.next_out=0,M.avail_out=U),(g=o.inflate(M,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&D&&(A=typeof D=="string"?l.string2buf(D):h.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,g=o.inflateSetDictionary(this.strm,A)),g===a.Z_BUF_ERROR&&O===!0&&(g=a.Z_OK,O=!1),g!==a.Z_STREAM_END&&g!==a.Z_OK)return this.onEnd(g),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&g!==a.Z_STREAM_END&&(M.avail_in!==0||v!==a.Z_FINISH&&v!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=l.utf8border(M.output,M.next_out),T=M.next_out-S,I=l.buf2string(M.output,S),M.next_out=T,M.avail_out=U-T,T&&s.arraySet(M.output,M.output,S,T,0),this.onData(I)):this.onData(s.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(O=!0)}while((0<M.avail_in||M.avail_out===0)&&g!==a.Z_STREAM_END);return g===a.Z_STREAM_END&&(v=a.Z_FINISH),v===a.Z_FINISH?(g=o.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===a.Z_OK):v!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(M.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(y,C){return(C=C||{}).raw=!0,x(y,C)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(a[p]=f[p])}}return a},i.shrinkBuf=function(a,c){return a.length===c?a:a.subarray?a.subarray(0,c):(a.length=c,a)};var s={arraySet:function(a,c,f,p,h){if(c.subarray&&a.subarray)a.set(c.subarray(f,f+p),h);else for(var m=0;m<p;m++)a[h+m]=c[f+m]},flattenChunks:function(a){var c,f,p,h,m,x;for(c=p=0,f=a.length;c<f;c++)p+=a[c].length;for(x=new Uint8Array(p),c=h=0,f=a.length;c<f;c++)m=a[c],x.set(m,h),h+=m.length;return x}},l={arraySet:function(a,c,f,p,h){for(var m=0;m<p;m++)a[h+m]=c[f+m]},flattenChunks:function(a){return[].concat.apply([],a)}};i.setTyped=function(a){a?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var a=new o.Buf8(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function f(p,h){if(h<65537&&(p.subarray&&l||!p.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(p,h));for(var m="",x=0;x<h;x++)m+=String.fromCharCode(p[x]);return m}a[254]=a[254]=1,i.string2buf=function(p){var h,m,x,y,C,g=p.length,v=0;for(y=0;y<g;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<g&&(64512&(x=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),v+=m<128?1:m<2048?2:m<65536?3:4;for(h=new o.Buf8(v),y=C=0;C<v;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<g&&(64512&(x=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),m<128?h[C++]=m:(m<2048?h[C++]=192|m>>>6:(m<65536?h[C++]=224|m>>>12:(h[C++]=240|m>>>18,h[C++]=128|m>>>12&63),h[C++]=128|m>>>6&63),h[C++]=128|63&m);return h},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var h=new o.Buf8(p.length),m=0,x=h.length;m<x;m++)h[m]=p.charCodeAt(m);return h},i.buf2string=function(p,h){var m,x,y,C,g=h||p.length,v=new Array(2*g);for(m=x=0;m<g;)if((y=p[m++])<128)v[x++]=y;else if(4<(C=a[y]))v[x++]=65533,m+=C-1;else{for(y&=C===2?31:C===3?15:7;1<C&&m<g;)y=y<<6|63&p[m++],C--;1<C?v[x++]=65533:y<65536?v[x++]=y:(y-=65536,v[x++]=55296|y>>10&1023,v[x++]=56320|1023&y)}return f(v,x)},i.utf8border=function(p,h){var m;for((h=h||p.length)>p.length&&(h=p.length),m=h-1;0<=m&&(192&p[m])==128;)m--;return m<0||m===0?h:m+a[p[m]]>h?m:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,l,a){for(var c=65535&o|0,f=o>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;f=f+(c=c+s[a++]|0)|0,--p;);c%=65521,f%=65521}return c|f<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var s,l=[],a=0;a<256;a++){s=a;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;l[a]=s}return l}();r.exports=function(s,l,a,c){var f=o,p=c+a;s^=-1;for(var h=c;h<p;h++)s=s>>>8^f[255&(s^l[h])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),l=n("./trees"),a=n("./adler32"),c=n("./crc32"),f=n("./messages"),p=0,h=4,m=0,x=-2,y=-1,C=4,g=2,v=8,S=9,T=286,I=30,A=19,M=2*T+1,U=15,D=3,O=258,K=O+D+1,N=42,H=113,w=1,B=2,Z=3,J=4;function F(_,$){return _.msg=f[$],$}function L(_){return(_<<1)-(4<_?9:0)}function k(_){for(var $=_.length;0<=--$;)_[$]=0}function z(_){var $=_.state,W=$.pending;W>_.avail_out&&(W=_.avail_out),W!==0&&(s.arraySet(_.output,$.pending_buf,$.pending_out,W,_.next_out),_.next_out+=W,$.pending_out+=W,_.total_out+=W,_.avail_out-=W,$.pending-=W,$.pending===0&&($.pending_out=0))}function V(_,$){l._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,$),_.block_start=_.strstart,z(_.strm)}function R(_,$){_.pending_buf[_.pending++]=$}function Q(_,$){_.pending_buf[_.pending++]=$>>>8&255,_.pending_buf[_.pending++]=255&$}function j(_,$){var W,b,P=_.max_chain_length,G=_.strstart,X=_.prev_length,te=_.nice_match,Y=_.strstart>_.w_size-K?_.strstart-(_.w_size-K):0,ie=_.window,ue=_.w_mask,oe=_.prev,q=_.strstart+O,ee=ie[G+X-1],se=ie[G+X];_.prev_length>=_.good_match&&(P>>=2),te>_.lookahead&&(te=_.lookahead);do if(ie[(W=$)+X]===se&&ie[W+X-1]===ee&&ie[W]===ie[G]&&ie[++W]===ie[G+1]){G+=2,W++;do;while(ie[++G]===ie[++W]&&ie[++G]===ie[++W]&&ie[++G]===ie[++W]&&ie[++G]===ie[++W]&&ie[++G]===ie[++W]&&ie[++G]===ie[++W]&&ie[++G]===ie[++W]&&ie[++G]===ie[++W]&&G<q);if(b=O-(q-G),G=q-O,X<b){if(_.match_start=$,te<=(X=b))break;ee=ie[G+X-1],se=ie[G+X]}}while(($=oe[$&ue])>Y&&--P!=0);return X<=_.lookahead?X:_.lookahead}function de(_){var $,W,b,P,G,X,te,Y,ie,ue,oe=_.w_size;do{if(P=_.window_size-_.lookahead-_.strstart,_.strstart>=oe+(oe-K)){for(s.arraySet(_.window,_.window,oe,oe,0),_.match_start-=oe,_.strstart-=oe,_.block_start-=oe,$=W=_.hash_size;b=_.head[--$],_.head[$]=oe<=b?b-oe:0,--W;);for($=W=oe;b=_.prev[--$],_.prev[$]=oe<=b?b-oe:0,--W;);P+=oe}if(_.strm.avail_in===0)break;if(X=_.strm,te=_.window,Y=_.strstart+_.lookahead,ie=P,ue=void 0,ue=X.avail_in,ie<ue&&(ue=ie),W=ue===0?0:(X.avail_in-=ue,s.arraySet(te,X.input,X.next_in,ue,Y),X.state.wrap===1?X.adler=a(X.adler,te,ue,Y):X.state.wrap===2&&(X.adler=c(X.adler,te,ue,Y)),X.next_in+=ue,X.total_in+=ue,ue),_.lookahead+=W,_.lookahead+_.insert>=D)for(G=_.strstart-_.insert,_.ins_h=_.window[G],_.ins_h=(_.ins_h<<_.hash_shift^_.window[G+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[G+D-1])&_.hash_mask,_.prev[G&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=G,G++,_.insert--,!(_.lookahead+_.insert<D)););}while(_.lookahead<K&&_.strm.avail_in!==0)}function ve(_,$){for(var W,b;;){if(_.lookahead<K){if(de(_),_.lookahead<K&&$===p)return w;if(_.lookahead===0)break}if(W=0,_.lookahead>=D&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,W=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),W!==0&&_.strstart-W<=_.w_size-K&&(_.match_length=j(_,W)),_.match_length>=D)if(b=l._tr_tally(_,_.strstart-_.match_start,_.match_length-D),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=D){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,W=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else b=l._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(b&&(V(_,!1),_.strm.avail_out===0))return w}return _.insert=_.strstart<D-1?_.strstart:D-1,$===h?(V(_,!0),_.strm.avail_out===0?Z:J):_.last_lit&&(V(_,!1),_.strm.avail_out===0)?w:B}function he(_,$){for(var W,b,P;;){if(_.lookahead<K){if(de(_),_.lookahead<K&&$===p)return w;if(_.lookahead===0)break}if(W=0,_.lookahead>=D&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,W=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=D-1,W!==0&&_.prev_length<_.max_lazy_match&&_.strstart-W<=_.w_size-K&&(_.match_length=j(_,W),_.match_length<=5&&(_.strategy===1||_.match_length===D&&4096<_.strstart-_.match_start)&&(_.match_length=D-1)),_.prev_length>=D&&_.match_length<=_.prev_length){for(P=_.strstart+_.lookahead-D,b=l._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-D),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=P&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+D-1])&_.hash_mask,W=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=D-1,_.strstart++,b&&(V(_,!1),_.strm.avail_out===0))return w}else if(_.match_available){if((b=l._tr_tally(_,0,_.window[_.strstart-1]))&&V(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return w}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(b=l._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<D-1?_.strstart:D-1,$===h?(V(_,!0),_.strm.avail_out===0?Z:J):_.last_lit&&(V(_,!1),_.strm.avail_out===0)?w:B}function ge(_,$,W,b,P){this.good_length=_,this.max_lazy=$,this.nice_length=W,this.max_chain=b,this.func=P}function ke(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*M),this.dyn_dtree=new s.Buf16(2*(2*I+1)),this.bl_tree=new s.Buf16(2*(2*A+1)),k(this.dyn_ltree),k(this.dyn_dtree),k(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(U+1),this.heap=new s.Buf16(2*T+1),k(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),k(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Te(_){var $;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=g,($=_.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?N:H,_.adler=$.wrap===2?0:1,$.last_flush=p,l._tr_init($),m):F(_,x)}function ct(_){var $=Te(_);return $===m&&function(W){W.window_size=2*W.w_size,k(W.head),W.max_lazy_match=o[W.level].max_lazy,W.good_match=o[W.level].good_length,W.nice_match=o[W.level].nice_length,W.max_chain_length=o[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=D-1,W.match_available=0,W.ins_h=0}(_.state),$}function Ze(_,$,W,b,P,G){if(!_)return x;var X=1;if($===y&&($=6),b<0?(X=0,b=-b):15<b&&(X=2,b-=16),P<1||S<P||W!==v||b<8||15<b||$<0||9<$||G<0||C<G)return F(_,x);b===8&&(b=9);var te=new ke;return(_.state=te).strm=_,te.wrap=X,te.gzhead=null,te.w_bits=b,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=P+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+D-1)/D),te.window=new s.Buf8(2*te.w_size),te.head=new s.Buf16(te.hash_size),te.prev=new s.Buf16(te.w_size),te.lit_bufsize=1<<P+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new s.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=$,te.strategy=G,te.method=W,ct(_)}o=[new ge(0,0,0,0,function(_,$){var W=65535;for(W>_.pending_buf_size-5&&(W=_.pending_buf_size-5);;){if(_.lookahead<=1){if(de(_),_.lookahead===0&&$===p)return w;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var b=_.block_start+W;if((_.strstart===0||_.strstart>=b)&&(_.lookahead=_.strstart-b,_.strstart=b,V(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-K&&(V(_,!1),_.strm.avail_out===0))return w}return _.insert=0,$===h?(V(_,!0),_.strm.avail_out===0?Z:J):(_.strstart>_.block_start&&(V(_,!1),_.strm.avail_out),w)}),new ge(4,4,8,4,ve),new ge(4,5,16,8,ve),new ge(4,6,32,32,ve),new ge(4,4,16,16,he),new ge(8,16,32,32,he),new ge(8,16,128,128,he),new ge(8,32,128,256,he),new ge(32,128,258,1024,he),new ge(32,258,258,4096,he)],i.deflateInit=function(_,$){return Ze(_,$,v,15,8,0)},i.deflateInit2=Ze,i.deflateReset=ct,i.deflateResetKeep=Te,i.deflateSetHeader=function(_,$){return _&&_.state?_.state.wrap!==2?x:(_.state.gzhead=$,m):x},i.deflate=function(_,$){var W,b,P,G;if(!_||!_.state||5<$||$<0)return _?F(_,x):x;if(b=_.state,!_.output||!_.input&&_.avail_in!==0||b.status===666&&$!==h)return F(_,_.avail_out===0?-5:x);if(b.strm=_,W=b.last_flush,b.last_flush=$,b.status===N)if(b.wrap===2)_.adler=0,R(b,31),R(b,139),R(b,8),b.gzhead?(R(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),R(b,255&b.gzhead.time),R(b,b.gzhead.time>>8&255),R(b,b.gzhead.time>>16&255),R(b,b.gzhead.time>>24&255),R(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),R(b,255&b.gzhead.os),b.gzhead.extra&&b.gzhead.extra.length&&(R(b,255&b.gzhead.extra.length),R(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(_.adler=c(_.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69):(R(b,0),R(b,0),R(b,0),R(b,0),R(b,0),R(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),R(b,3),b.status=H);else{var X=v+(b.w_bits-8<<4)<<8;X|=(2<=b.strategy||b.level<2?0:b.level<6?1:b.level===6?2:3)<<6,b.strstart!==0&&(X|=32),X+=31-X%31,b.status=H,Q(b,X),b.strstart!==0&&(Q(b,_.adler>>>16),Q(b,65535&_.adler)),_.adler=1}if(b.status===69)if(b.gzhead.extra){for(P=b.pending;b.gzindex<(65535&b.gzhead.extra.length)&&(b.pending!==b.pending_buf_size||(b.gzhead.hcrc&&b.pending>P&&(_.adler=c(_.adler,b.pending_buf,b.pending-P,P)),z(_),P=b.pending,b.pending!==b.pending_buf_size));)R(b,255&b.gzhead.extra[b.gzindex]),b.gzindex++;b.gzhead.hcrc&&b.pending>P&&(_.adler=c(_.adler,b.pending_buf,b.pending-P,P)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=73)}else b.status=73;if(b.status===73)if(b.gzhead.name){P=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>P&&(_.adler=c(_.adler,b.pending_buf,b.pending-P,P)),z(_),P=b.pending,b.pending===b.pending_buf_size)){G=1;break}G=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0,R(b,G)}while(G!==0);b.gzhead.hcrc&&b.pending>P&&(_.adler=c(_.adler,b.pending_buf,b.pending-P,P)),G===0&&(b.gzindex=0,b.status=91)}else b.status=91;if(b.status===91)if(b.gzhead.comment){P=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>P&&(_.adler=c(_.adler,b.pending_buf,b.pending-P,P)),z(_),P=b.pending,b.pending===b.pending_buf_size)){G=1;break}G=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0,R(b,G)}while(G!==0);b.gzhead.hcrc&&b.pending>P&&(_.adler=c(_.adler,b.pending_buf,b.pending-P,P)),G===0&&(b.status=103)}else b.status=103;if(b.status===103&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&z(_),b.pending+2<=b.pending_buf_size&&(R(b,255&_.adler),R(b,_.adler>>8&255),_.adler=0,b.status=H)):b.status=H),b.pending!==0){if(z(_),_.avail_out===0)return b.last_flush=-1,m}else if(_.avail_in===0&&L($)<=L(W)&&$!==h)return F(_,-5);if(b.status===666&&_.avail_in!==0)return F(_,-5);if(_.avail_in!==0||b.lookahead!==0||$!==p&&b.status!==666){var te=b.strategy===2?function(Y,ie){for(var ue;;){if(Y.lookahead===0&&(de(Y),Y.lookahead===0)){if(ie===p)return w;break}if(Y.match_length=0,ue=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++,ue&&(V(Y,!1),Y.strm.avail_out===0))return w}return Y.insert=0,ie===h?(V(Y,!0),Y.strm.avail_out===0?Z:J):Y.last_lit&&(V(Y,!1),Y.strm.avail_out===0)?w:B}(b,$):b.strategy===3?function(Y,ie){for(var ue,oe,q,ee,se=Y.window;;){if(Y.lookahead<=O){if(de(Y),Y.lookahead<=O&&ie===p)return w;if(Y.lookahead===0)break}if(Y.match_length=0,Y.lookahead>=D&&0<Y.strstart&&(oe=se[q=Y.strstart-1])===se[++q]&&oe===se[++q]&&oe===se[++q]){ee=Y.strstart+O;do;while(oe===se[++q]&&oe===se[++q]&&oe===se[++q]&&oe===se[++q]&&oe===se[++q]&&oe===se[++q]&&oe===se[++q]&&oe===se[++q]&&q<ee);Y.match_length=O-(ee-q),Y.match_length>Y.lookahead&&(Y.match_length=Y.lookahead)}if(Y.match_length>=D?(ue=l._tr_tally(Y,1,Y.match_length-D),Y.lookahead-=Y.match_length,Y.strstart+=Y.match_length,Y.match_length=0):(ue=l._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++),ue&&(V(Y,!1),Y.strm.avail_out===0))return w}return Y.insert=0,ie===h?(V(Y,!0),Y.strm.avail_out===0?Z:J):Y.last_lit&&(V(Y,!1),Y.strm.avail_out===0)?w:B}(b,$):o[b.level].func(b,$);if(te!==Z&&te!==J||(b.status=666),te===w||te===Z)return _.avail_out===0&&(b.last_flush=-1),m;if(te===B&&($===1?l._tr_align(b):$!==5&&(l._tr_stored_block(b,0,0,!1),$===3&&(k(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),z(_),_.avail_out===0))return b.last_flush=-1,m}return $!==h?m:b.wrap<=0?1:(b.wrap===2?(R(b,255&_.adler),R(b,_.adler>>8&255),R(b,_.adler>>16&255),R(b,_.adler>>24&255),R(b,255&_.total_in),R(b,_.total_in>>8&255),R(b,_.total_in>>16&255),R(b,_.total_in>>24&255)):(Q(b,_.adler>>>16),Q(b,65535&_.adler)),z(_),0<b.wrap&&(b.wrap=-b.wrap),b.pending!==0?m:1)},i.deflateEnd=function(_){var $;return _&&_.state?($=_.state.status)!==N&&$!==69&&$!==73&&$!==91&&$!==103&&$!==H&&$!==666?F(_,x):(_.state=null,$===H?F(_,-3):m):x},i.deflateSetDictionary=function(_,$){var W,b,P,G,X,te,Y,ie,ue=$.length;if(!_||!_.state||(G=(W=_.state).wrap)===2||G===1&&W.status!==N||W.lookahead)return x;for(G===1&&(_.adler=a(_.adler,$,ue,0)),W.wrap=0,ue>=W.w_size&&(G===0&&(k(W.head),W.strstart=0,W.block_start=0,W.insert=0),ie=new s.Buf8(W.w_size),s.arraySet(ie,$,ue-W.w_size,W.w_size,0),$=ie,ue=W.w_size),X=_.avail_in,te=_.next_in,Y=_.input,_.avail_in=ue,_.next_in=0,_.input=$,de(W);W.lookahead>=D;){for(b=W.strstart,P=W.lookahead-(D-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[b+D-1])&W.hash_mask,W.prev[b&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=b,b++,--P;);W.strstart=b,W.lookahead=D-1,de(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=D-1,W.match_available=0,_.next_in=te,_.input=Y,_.avail_in=X,W.wrap=G,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var l,a,c,f,p,h,m,x,y,C,g,v,S,T,I,A,M,U,D,O,K,N,H,w,B;l=o.state,a=o.next_in,w=o.input,c=a+(o.avail_in-5),f=o.next_out,B=o.output,p=f-(s-o.avail_out),h=f+(o.avail_out-257),m=l.dmax,x=l.wsize,y=l.whave,C=l.wnext,g=l.window,v=l.hold,S=l.bits,T=l.lencode,I=l.distcode,A=(1<<l.lenbits)-1,M=(1<<l.distbits)-1;e:do{S<15&&(v+=w[a++]<<S,S+=8,v+=w[a++]<<S,S+=8),U=T[v&A];t:for(;;){if(v>>>=D=U>>>24,S-=D,(D=U>>>16&255)===0)B[f++]=65535&U;else{if(!(16&D)){if(!(64&D)){U=T[(65535&U)+(v&(1<<D)-1)];continue t}if(32&D){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}O=65535&U,(D&=15)&&(S<D&&(v+=w[a++]<<S,S+=8),O+=v&(1<<D)-1,v>>>=D,S-=D),S<15&&(v+=w[a++]<<S,S+=8,v+=w[a++]<<S,S+=8),U=I[v&M];n:for(;;){if(v>>>=D=U>>>24,S-=D,!(16&(D=U>>>16&255))){if(!(64&D)){U=I[(65535&U)+(v&(1<<D)-1)];continue n}o.msg="invalid distance code",l.mode=30;break e}if(K=65535&U,S<(D&=15)&&(v+=w[a++]<<S,(S+=8)<D&&(v+=w[a++]<<S,S+=8)),m<(K+=v&(1<<D)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(v>>>=D,S-=D,(D=f-p)<K){if(y<(D=K-D)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(H=g,(N=0)===C){if(N+=x-D,D<O){for(O-=D;B[f++]=g[N++],--D;);N=f-K,H=B}}else if(C<D){if(N+=x+C-D,(D-=C)<O){for(O-=D;B[f++]=g[N++],--D;);if(N=0,C<O){for(O-=D=C;B[f++]=g[N++],--D;);N=f-K,H=B}}}else if(N+=C-D,D<O){for(O-=D;B[f++]=g[N++],--D;);N=f-K,H=B}for(;2<O;)B[f++]=H[N++],B[f++]=H[N++],B[f++]=H[N++],O-=3;O&&(B[f++]=H[N++],1<O&&(B[f++]=H[N++]))}else{for(N=f-K;B[f++]=B[N++],B[f++]=B[N++],B[f++]=B[N++],2<(O-=3););O&&(B[f++]=B[N++],1<O&&(B[f++]=B[N++]))}break}}break}}while(a<c&&f<h);a-=O=S>>3,v&=(1<<(S-=O<<3))-1,o.next_in=a,o.next_out=f,o.avail_in=a<c?c-a+5:5-(a-c),o.avail_out=f<h?h-f+257:257-(f-h),l.hold=v,l.bits=S}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),l=n("./crc32"),a=n("./inffast"),c=n("./inftrees"),f=1,p=2,h=0,m=-2,x=1,y=852,C=592;function g(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(N){var H;return N&&N.state?(H=N.state,N.total_in=N.total_out=H.total=0,N.msg="",H.wrap&&(N.adler=1&H.wrap),H.mode=x,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new o.Buf32(y),H.distcode=H.distdyn=new o.Buf32(C),H.sane=1,H.back=-1,h):m}function T(N){var H;return N&&N.state?((H=N.state).wsize=0,H.whave=0,H.wnext=0,S(N)):m}function I(N,H){var w,B;return N&&N.state?(B=N.state,H<0?(w=0,H=-H):(w=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?m:(B.window!==null&&B.wbits!==H&&(B.window=null),B.wrap=w,B.wbits=H,T(N))):m}function A(N,H){var w,B;return N?(B=new v,(N.state=B).window=null,(w=I(N,H))!==h&&(N.state=null),w):m}var M,U,D=!0;function O(N){if(D){var H;for(M=new o.Buf32(512),U=new o.Buf32(32),H=0;H<144;)N.lens[H++]=8;for(;H<256;)N.lens[H++]=9;for(;H<280;)N.lens[H++]=7;for(;H<288;)N.lens[H++]=8;for(c(f,N.lens,0,288,M,0,N.work,{bits:9}),H=0;H<32;)N.lens[H++]=5;c(p,N.lens,0,32,U,0,N.work,{bits:5}),D=!1}N.lencode=M,N.lenbits=9,N.distcode=U,N.distbits=5}function K(N,H,w,B){var Z,J=N.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new o.Buf8(J.wsize)),B>=J.wsize?(o.arraySet(J.window,H,w-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(B<(Z=J.wsize-J.wnext)&&(Z=B),o.arraySet(J.window,H,w-B,Z,J.wnext),(B-=Z)?(o.arraySet(J.window,H,w-B,B,0),J.wnext=B,J.whave=J.wsize):(J.wnext+=Z,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=Z))),0}i.inflateReset=T,i.inflateReset2=I,i.inflateResetKeep=S,i.inflateInit=function(N){return A(N,15)},i.inflateInit2=A,i.inflate=function(N,H){var w,B,Z,J,F,L,k,z,V,R,Q,j,de,ve,he,ge,ke,Te,ct,Ze,_,$,W,b,P=0,G=new o.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return m;(w=N.state).mode===12&&(w.mode=13),F=N.next_out,Z=N.output,k=N.avail_out,J=N.next_in,B=N.input,L=N.avail_in,z=w.hold,V=w.bits,R=L,Q=k,$=h;e:for(;;)switch(w.mode){case x:if(w.wrap===0){w.mode=13;break}for(;V<16;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(2&w.wrap&&z===35615){G[w.check=0]=255&z,G[1]=z>>>8&255,w.check=l(w.check,G,2,0),V=z=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&z)<<8)+(z>>8))%31){N.msg="incorrect header check",w.mode=30;break}if((15&z)!=8){N.msg="unknown compression method",w.mode=30;break}if(V-=4,_=8+(15&(z>>>=4)),w.wbits===0)w.wbits=_;else if(_>w.wbits){N.msg="invalid window size",w.mode=30;break}w.dmax=1<<_,N.adler=w.check=1,w.mode=512&z?10:12,V=z=0;break;case 2:for(;V<16;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(w.flags=z,(255&w.flags)!=8){N.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){N.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=z>>8&1),512&w.flags&&(G[0]=255&z,G[1]=z>>>8&255,w.check=l(w.check,G,2,0)),V=z=0,w.mode=3;case 3:for(;V<32;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}w.head&&(w.head.time=z),512&w.flags&&(G[0]=255&z,G[1]=z>>>8&255,G[2]=z>>>16&255,G[3]=z>>>24&255,w.check=l(w.check,G,4,0)),V=z=0,w.mode=4;case 4:for(;V<16;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}w.head&&(w.head.xflags=255&z,w.head.os=z>>8),512&w.flags&&(G[0]=255&z,G[1]=z>>>8&255,w.check=l(w.check,G,2,0)),V=z=0,w.mode=5;case 5:if(1024&w.flags){for(;V<16;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}w.length=z,w.head&&(w.head.extra_len=z),512&w.flags&&(G[0]=255&z,G[1]=z>>>8&255,w.check=l(w.check,G,2,0)),V=z=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(L<(j=w.length)&&(j=L),j&&(w.head&&(_=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),o.arraySet(w.head.extra,B,J,j,_)),512&w.flags&&(w.check=l(w.check,B,j,J)),L-=j,J+=j,w.length-=j),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(L===0)break e;for(j=0;_=B[J+j++],w.head&&_&&w.length<65536&&(w.head.name+=String.fromCharCode(_)),_&&j<L;);if(512&w.flags&&(w.check=l(w.check,B,j,J)),L-=j,J+=j,_)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(L===0)break e;for(j=0;_=B[J+j++],w.head&&_&&w.length<65536&&(w.head.comment+=String.fromCharCode(_)),_&&j<L;);if(512&w.flags&&(w.check=l(w.check,B,j,J)),L-=j,J+=j,_)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;V<16;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(z!==(65535&w.check)){N.msg="header crc mismatch",w.mode=30;break}V=z=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),N.adler=w.check=0,w.mode=12;break;case 10:for(;V<32;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}N.adler=w.check=g(z),V=z=0,w.mode=11;case 11:if(w.havedict===0)return N.next_out=F,N.avail_out=k,N.next_in=J,N.avail_in=L,w.hold=z,w.bits=V,2;N.adler=w.check=1,w.mode=12;case 12:if(H===5||H===6)break e;case 13:if(w.last){z>>>=7&V,V-=7&V,w.mode=27;break}for(;V<3;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}switch(w.last=1&z,V-=1,3&(z>>>=1)){case 0:w.mode=14;break;case 1:if(O(w),w.mode=20,H!==6)break;z>>>=2,V-=2;break e;case 2:w.mode=17;break;case 3:N.msg="invalid block type",w.mode=30}z>>>=2,V-=2;break;case 14:for(z>>>=7&V,V-=7&V;V<32;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if((65535&z)!=(z>>>16^65535)){N.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&z,V=z=0,w.mode=15,H===6)break e;case 15:w.mode=16;case 16:if(j=w.length){if(L<j&&(j=L),k<j&&(j=k),j===0)break e;o.arraySet(Z,B,J,j,F),L-=j,J+=j,k-=j,F+=j,w.length-=j;break}w.mode=12;break;case 17:for(;V<14;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(w.nlen=257+(31&z),z>>>=5,V-=5,w.ndist=1+(31&z),z>>>=5,V-=5,w.ncode=4+(15&z),z>>>=4,V-=4,286<w.nlen||30<w.ndist){N.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;V<3;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}w.lens[X[w.have++]]=7&z,z>>>=3,V-=3}for(;w.have<19;)w.lens[X[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,W={bits:w.lenbits},$=c(0,w.lens,0,19,w.lencode,0,w.work,W),w.lenbits=W.bits,$){N.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;ge=(P=w.lencode[z&(1<<w.lenbits)-1])>>>16&255,ke=65535&P,!((he=P>>>24)<=V);){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(ke<16)z>>>=he,V-=he,w.lens[w.have++]=ke;else{if(ke===16){for(b=he+2;V<b;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(z>>>=he,V-=he,w.have===0){N.msg="invalid bit length repeat",w.mode=30;break}_=w.lens[w.have-1],j=3+(3&z),z>>>=2,V-=2}else if(ke===17){for(b=he+3;V<b;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}V-=he,_=0,j=3+(7&(z>>>=he)),z>>>=3,V-=3}else{for(b=he+7;V<b;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}V-=he,_=0,j=11+(127&(z>>>=he)),z>>>=7,V-=7}if(w.have+j>w.nlen+w.ndist){N.msg="invalid bit length repeat",w.mode=30;break}for(;j--;)w.lens[w.have++]=_}}if(w.mode===30)break;if(w.lens[256]===0){N.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,W={bits:w.lenbits},$=c(f,w.lens,0,w.nlen,w.lencode,0,w.work,W),w.lenbits=W.bits,$){N.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,W={bits:w.distbits},$=c(p,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,W),w.distbits=W.bits,$){N.msg="invalid distances set",w.mode=30;break}if(w.mode=20,H===6)break e;case 20:w.mode=21;case 21:if(6<=L&&258<=k){N.next_out=F,N.avail_out=k,N.next_in=J,N.avail_in=L,w.hold=z,w.bits=V,a(N,Q),F=N.next_out,Z=N.output,k=N.avail_out,J=N.next_in,B=N.input,L=N.avail_in,z=w.hold,V=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;ge=(P=w.lencode[z&(1<<w.lenbits)-1])>>>16&255,ke=65535&P,!((he=P>>>24)<=V);){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(ge&&!(240&ge)){for(Te=he,ct=ge,Ze=ke;ge=(P=w.lencode[Ze+((z&(1<<Te+ct)-1)>>Te)])>>>16&255,ke=65535&P,!(Te+(he=P>>>24)<=V);){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}z>>>=Te,V-=Te,w.back+=Te}if(z>>>=he,V-=he,w.back+=he,w.length=ke,ge===0){w.mode=26;break}if(32&ge){w.back=-1,w.mode=12;break}if(64&ge){N.msg="invalid literal/length code",w.mode=30;break}w.extra=15&ge,w.mode=22;case 22:if(w.extra){for(b=w.extra;V<b;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}w.length+=z&(1<<w.extra)-1,z>>>=w.extra,V-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;ge=(P=w.distcode[z&(1<<w.distbits)-1])>>>16&255,ke=65535&P,!((he=P>>>24)<=V);){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(!(240&ge)){for(Te=he,ct=ge,Ze=ke;ge=(P=w.distcode[Ze+((z&(1<<Te+ct)-1)>>Te)])>>>16&255,ke=65535&P,!(Te+(he=P>>>24)<=V);){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}z>>>=Te,V-=Te,w.back+=Te}if(z>>>=he,V-=he,w.back+=he,64&ge){N.msg="invalid distance code",w.mode=30;break}w.offset=ke,w.extra=15&ge,w.mode=24;case 24:if(w.extra){for(b=w.extra;V<b;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}w.offset+=z&(1<<w.extra)-1,z>>>=w.extra,V-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){N.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(k===0)break e;if(j=Q-k,w.offset>j){if((j=w.offset-j)>w.whave&&w.sane){N.msg="invalid distance too far back",w.mode=30;break}de=j>w.wnext?(j-=w.wnext,w.wsize-j):w.wnext-j,j>w.length&&(j=w.length),ve=w.window}else ve=Z,de=F-w.offset,j=w.length;for(k<j&&(j=k),k-=j,w.length-=j;Z[F++]=ve[de++],--j;);w.length===0&&(w.mode=21);break;case 26:if(k===0)break e;Z[F++]=w.length,k--,w.mode=21;break;case 27:if(w.wrap){for(;V<32;){if(L===0)break e;L--,z|=B[J++]<<V,V+=8}if(Q-=k,N.total_out+=Q,w.total+=Q,Q&&(N.adler=w.check=w.flags?l(w.check,Z,Q,F-Q):s(w.check,Z,Q,F-Q)),Q=k,(w.flags?z:g(z))!==w.check){N.msg="incorrect data check",w.mode=30;break}V=z=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;V<32;){if(L===0)break e;L--,z+=B[J++]<<V,V+=8}if(z!==(4294967295&w.total)){N.msg="incorrect length check",w.mode=30;break}V=z=0}w.mode=29;case 29:$=1;break e;case 30:$=-3;break e;case 31:return-4;case 32:default:return m}return N.next_out=F,N.avail_out=k,N.next_in=J,N.avail_in=L,w.hold=z,w.bits=V,(w.wsize||Q!==N.avail_out&&w.mode<30&&(w.mode<27||H!==4))&&K(N,N.output,N.next_out,Q-N.avail_out)?(w.mode=31,-4):(R-=N.avail_in,Q-=N.avail_out,N.total_in+=R,N.total_out+=Q,w.total+=Q,w.wrap&&Q&&(N.adler=w.check=w.flags?l(w.check,Z,Q,N.next_out-Q):s(w.check,Z,Q,N.next_out-Q)),N.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(R==0&&Q===0||H===4)&&$===h&&($=-5),$)},i.inflateEnd=function(N){if(!N||!N.state)return m;var H=N.state;return H.window&&(H.window=null),N.state=null,h},i.inflateGetHeader=function(N,H){var w;return N&&N.state&&2&(w=N.state).wrap?((w.head=H).done=!1,h):m},i.inflateSetDictionary=function(N,H){var w,B=H.length;return N&&N.state?(w=N.state).wrap!==0&&w.mode!==11?m:w.mode===11&&s(1,H,B,0)!==w.check?-3:K(N,H,B,B)?(w.mode=31,-4):(w.havedict=1,h):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,p,h,m,x,y,C,g){var v,S,T,I,A,M,U,D,O,K=g.bits,N=0,H=0,w=0,B=0,Z=0,J=0,F=0,L=0,k=0,z=0,V=null,R=0,Q=new o.Buf16(16),j=new o.Buf16(16),de=null,ve=0;for(N=0;N<=15;N++)Q[N]=0;for(H=0;H<m;H++)Q[p[h+H]]++;for(Z=K,B=15;1<=B&&Q[B]===0;B--);if(B<Z&&(Z=B),B===0)return x[y++]=20971520,x[y++]=20971520,g.bits=1,0;for(w=1;w<B&&Q[w]===0;w++);for(Z<w&&(Z=w),N=L=1;N<=15;N++)if(L<<=1,(L-=Q[N])<0)return-1;if(0<L&&(f===0||B!==1))return-1;for(j[1]=0,N=1;N<15;N++)j[N+1]=j[N]+Q[N];for(H=0;H<m;H++)p[h+H]!==0&&(C[j[p[h+H]]++]=H);if(M=f===0?(V=de=C,19):f===1?(V=s,R-=257,de=l,ve-=257,256):(V=a,de=c,-1),N=w,A=y,F=H=z=0,T=-1,I=(k=1<<(J=Z))-1,f===1&&852<k||f===2&&592<k)return 1;for(;;){for(U=N-F,O=C[H]<M?(D=0,C[H]):C[H]>M?(D=de[ve+C[H]],V[R+C[H]]):(D=96,0),v=1<<N-F,w=S=1<<J;x[A+(z>>F)+(S-=v)]=U<<24|D<<16|O|0,S!==0;);for(v=1<<N-1;z&v;)v>>=1;if(v!==0?(z&=v-1,z+=v):z=0,H++,--Q[N]==0){if(N===B)break;N=p[h+C[H]]}if(Z<N&&(z&I)!==T){for(F===0&&(F=Z),A+=w,L=1<<(J=N-F);J+F<B&&!((L-=Q[J+F])<=0);)J++,L<<=1;if(k+=1<<J,f===1&&852<k||f===2&&592<k)return 1;x[T=z&I]=Z<<24|J<<16|A-y|0}}return z!==0&&(x[A+z]=N-F<<24|64<<16|0),g.bits=Z,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,l=1;function a(P){for(var G=P.length;0<=--G;)P[G]=0}var c=0,f=29,p=256,h=p+1+f,m=30,x=19,y=2*h+1,C=15,g=16,v=7,S=256,T=16,I=17,A=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(h+2));a(K);var N=new Array(2*m);a(N);var H=new Array(512);a(H);var w=new Array(256);a(w);var B=new Array(f);a(B);var Z,J,F,L=new Array(m);function k(P,G,X,te,Y){this.static_tree=P,this.extra_bits=G,this.extra_base=X,this.elems=te,this.max_length=Y,this.has_stree=P&&P.length}function z(P,G){this.dyn_tree=P,this.max_code=0,this.stat_desc=G}function V(P){return P<256?H[P]:H[256+(P>>>7)]}function R(P,G){P.pending_buf[P.pending++]=255&G,P.pending_buf[P.pending++]=G>>>8&255}function Q(P,G,X){P.bi_valid>g-X?(P.bi_buf|=G<<P.bi_valid&65535,R(P,P.bi_buf),P.bi_buf=G>>g-P.bi_valid,P.bi_valid+=X-g):(P.bi_buf|=G<<P.bi_valid&65535,P.bi_valid+=X)}function j(P,G,X){Q(P,X[2*G],X[2*G+1])}function de(P,G){for(var X=0;X|=1&P,P>>>=1,X<<=1,0<--G;);return X>>>1}function ve(P,G,X){var te,Y,ie=new Array(C+1),ue=0;for(te=1;te<=C;te++)ie[te]=ue=ue+X[te-1]<<1;for(Y=0;Y<=G;Y++){var oe=P[2*Y+1];oe!==0&&(P[2*Y]=de(ie[oe]++,oe))}}function he(P){var G;for(G=0;G<h;G++)P.dyn_ltree[2*G]=0;for(G=0;G<m;G++)P.dyn_dtree[2*G]=0;for(G=0;G<x;G++)P.bl_tree[2*G]=0;P.dyn_ltree[2*S]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function ge(P){8<P.bi_valid?R(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function ke(P,G,X,te){var Y=2*G,ie=2*X;return P[Y]<P[ie]||P[Y]===P[ie]&&te[G]<=te[X]}function Te(P,G,X){for(var te=P.heap[X],Y=X<<1;Y<=P.heap_len&&(Y<P.heap_len&&ke(G,P.heap[Y+1],P.heap[Y],P.depth)&&Y++,!ke(G,te,P.heap[Y],P.depth));)P.heap[X]=P.heap[Y],X=Y,Y<<=1;P.heap[X]=te}function ct(P,G,X){var te,Y,ie,ue,oe=0;if(P.last_lit!==0)for(;te=P.pending_buf[P.d_buf+2*oe]<<8|P.pending_buf[P.d_buf+2*oe+1],Y=P.pending_buf[P.l_buf+oe],oe++,te===0?j(P,Y,G):(j(P,(ie=w[Y])+p+1,G),(ue=M[ie])!==0&&Q(P,Y-=B[ie],ue),j(P,ie=V(--te),X),(ue=U[ie])!==0&&Q(P,te-=L[ie],ue)),oe<P.last_lit;);j(P,S,G)}function Ze(P,G){var X,te,Y,ie=G.dyn_tree,ue=G.stat_desc.static_tree,oe=G.stat_desc.has_stree,q=G.stat_desc.elems,ee=-1;for(P.heap_len=0,P.heap_max=y,X=0;X<q;X++)ie[2*X]!==0?(P.heap[++P.heap_len]=ee=X,P.depth[X]=0):ie[2*X+1]=0;for(;P.heap_len<2;)ie[2*(Y=P.heap[++P.heap_len]=ee<2?++ee:0)]=1,P.depth[Y]=0,P.opt_len--,oe&&(P.static_len-=ue[2*Y+1]);for(G.max_code=ee,X=P.heap_len>>1;1<=X;X--)Te(P,ie,X);for(Y=q;X=P.heap[1],P.heap[1]=P.heap[P.heap_len--],Te(P,ie,1),te=P.heap[1],P.heap[--P.heap_max]=X,P.heap[--P.heap_max]=te,ie[2*Y]=ie[2*X]+ie[2*te],P.depth[Y]=(P.depth[X]>=P.depth[te]?P.depth[X]:P.depth[te])+1,ie[2*X+1]=ie[2*te+1]=Y,P.heap[1]=Y++,Te(P,ie,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(se,fe){var xe,Be,xt,we,$t,en,Le=fe.dyn_tree,tn=fe.max_code,Ft=fe.stat_desc.static_tree,ey=fe.stat_desc.has_stree,ty=fe.stat_desc.extra_bits,Qu=fe.stat_desc.extra_base,Wr=fe.stat_desc.max_length,Qi=0;for(we=0;we<=C;we++)se.bl_count[we]=0;for(Le[2*se.heap[se.heap_max]+1]=0,xe=se.heap_max+1;xe<y;xe++)Wr<(we=Le[2*Le[2*(Be=se.heap[xe])+1]+1]+1)&&(we=Wr,Qi++),Le[2*Be+1]=we,tn<Be||(se.bl_count[we]++,$t=0,Qu<=Be&&($t=ty[Be-Qu]),en=Le[2*Be],se.opt_len+=en*(we+$t),ey&&(se.static_len+=en*(Ft[2*Be+1]+$t)));if(Qi!==0){do{for(we=Wr-1;se.bl_count[we]===0;)we--;se.bl_count[we]--,se.bl_count[we+1]+=2,se.bl_count[Wr]--,Qi-=2}while(0<Qi);for(we=Wr;we!==0;we--)for(Be=se.bl_count[we];Be!==0;)tn<(xt=se.heap[--xe])||(Le[2*xt+1]!==we&&(se.opt_len+=(we-Le[2*xt+1])*Le[2*xt],Le[2*xt+1]=we),Be--)}}(P,G),ve(ie,ee,P.bl_count)}function _(P,G,X){var te,Y,ie=-1,ue=G[1],oe=0,q=7,ee=4;for(ue===0&&(q=138,ee=3),G[2*(X+1)+1]=65535,te=0;te<=X;te++)Y=ue,ue=G[2*(te+1)+1],++oe<q&&Y===ue||(oe<ee?P.bl_tree[2*Y]+=oe:Y!==0?(Y!==ie&&P.bl_tree[2*Y]++,P.bl_tree[2*T]++):oe<=10?P.bl_tree[2*I]++:P.bl_tree[2*A]++,ie=Y,ee=(oe=0)===ue?(q=138,3):Y===ue?(q=6,3):(q=7,4))}function $(P,G,X){var te,Y,ie=-1,ue=G[1],oe=0,q=7,ee=4;for(ue===0&&(q=138,ee=3),te=0;te<=X;te++)if(Y=ue,ue=G[2*(te+1)+1],!(++oe<q&&Y===ue)){if(oe<ee)for(;j(P,Y,P.bl_tree),--oe!=0;);else Y!==0?(Y!==ie&&(j(P,Y,P.bl_tree),oe--),j(P,T,P.bl_tree),Q(P,oe-3,2)):oe<=10?(j(P,I,P.bl_tree),Q(P,oe-3,3)):(j(P,A,P.bl_tree),Q(P,oe-11,7));ie=Y,ee=(oe=0)===ue?(q=138,3):Y===ue?(q=6,3):(q=7,4)}}a(L);var W=!1;function b(P,G,X,te){Q(P,(c<<1)+(te?1:0),3),function(Y,ie,ue,oe){ge(Y),R(Y,ue),R(Y,~ue),o.arraySet(Y.pending_buf,Y.window,ie,ue,Y.pending),Y.pending+=ue}(P,G,X)}i._tr_init=function(P){W||(function(){var G,X,te,Y,ie,ue=new Array(C+1);for(Y=te=0;Y<f-1;Y++)for(B[Y]=te,G=0;G<1<<M[Y];G++)w[te++]=Y;for(w[te-1]=Y,Y=ie=0;Y<16;Y++)for(L[Y]=ie,G=0;G<1<<U[Y];G++)H[ie++]=Y;for(ie>>=7;Y<m;Y++)for(L[Y]=ie<<7,G=0;G<1<<U[Y]-7;G++)H[256+ie++]=Y;for(X=0;X<=C;X++)ue[X]=0;for(G=0;G<=143;)K[2*G+1]=8,G++,ue[8]++;for(;G<=255;)K[2*G+1]=9,G++,ue[9]++;for(;G<=279;)K[2*G+1]=7,G++,ue[7]++;for(;G<=287;)K[2*G+1]=8,G++,ue[8]++;for(ve(K,h+1,ue),G=0;G<m;G++)N[2*G+1]=5,N[2*G]=de(G,5);Z=new k(K,M,p+1,h,C),J=new k(N,U,0,m,C),F=new k(new Array(0),D,0,x,v)}(),W=!0),P.l_desc=new z(P.dyn_ltree,Z),P.d_desc=new z(P.dyn_dtree,J),P.bl_desc=new z(P.bl_tree,F),P.bi_buf=0,P.bi_valid=0,he(P)},i._tr_stored_block=b,i._tr_flush_block=function(P,G,X,te){var Y,ie,ue=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(oe){var q,ee=4093624447;for(q=0;q<=31;q++,ee>>>=1)if(1&ee&&oe.dyn_ltree[2*q]!==0)return s;if(oe.dyn_ltree[18]!==0||oe.dyn_ltree[20]!==0||oe.dyn_ltree[26]!==0)return l;for(q=32;q<p;q++)if(oe.dyn_ltree[2*q]!==0)return l;return s}(P)),Ze(P,P.l_desc),Ze(P,P.d_desc),ue=function(oe){var q;for(_(oe,oe.dyn_ltree,oe.l_desc.max_code),_(oe,oe.dyn_dtree,oe.d_desc.max_code),Ze(oe,oe.bl_desc),q=x-1;3<=q&&oe.bl_tree[2*O[q]+1]===0;q--);return oe.opt_len+=3*(q+1)+5+5+4,q}(P),Y=P.opt_len+3+7>>>3,(ie=P.static_len+3+7>>>3)<=Y&&(Y=ie)):Y=ie=X+5,X+4<=Y&&G!==-1?b(P,G,X,te):P.strategy===4||ie===Y?(Q(P,2+(te?1:0),3),ct(P,K,N)):(Q(P,4+(te?1:0),3),function(oe,q,ee,se){var fe;for(Q(oe,q-257,5),Q(oe,ee-1,5),Q(oe,se-4,4),fe=0;fe<se;fe++)Q(oe,oe.bl_tree[2*O[fe]+1],3);$(oe,oe.dyn_ltree,q-1),$(oe,oe.dyn_dtree,ee-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,ue+1),ct(P,P.dyn_ltree,P.dyn_dtree)),he(P),te&&ge(P)},i._tr_tally=function(P,G,X){return P.pending_buf[P.d_buf+2*P.last_lit]=G>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&G,P.pending_buf[P.l_buf+P.last_lit]=255&X,P.last_lit++,G===0?P.dyn_ltree[2*X]++:(P.matches++,G--,P.dyn_ltree[2*(w[X]+p+1)]++,P.dyn_dtree[2*V(G)]++),P.last_lit===P.lit_bufsize-1},i._tr_align=function(P){Q(P,2,3),j(P,S,K),function(G){G.bi_valid===16?(R(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,l){if(!s.setImmediate){var a,c,f,p,h=1,m={},x=!1,y=s.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(s);C=C&&C.setTimeout?C:s,a={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){v(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,I=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=I,T}}()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(T){s.postMessage(p+T,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(T){v(T.data)},function(T){f.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(T){var I=y.createElement("script");I.onreadystatechange=function(){v(T),I.onreadystatechange=null,c.removeChild(I),I=null},c.appendChild(I)}):function(T){setTimeout(v,0,T)},C.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var I=new Array(arguments.length-1),A=0;A<I.length;A++)I[A]=arguments[A+1];var M={callback:T,args:I};return m[h]=M,a(h),h++},C.clearImmediate=g}function g(T){delete m[T]}function v(T){if(x)setTimeout(v,0,T);else{var I=m[T];if(I){x=!0;try{(function(A){var M=A.callback,U=A.args;switch(U.length){case 0:M();break;case 1:M(U[0]);break;case 2:M(U[0],U[1]);break;case 3:M(U[0],U[1],U[2]);break;default:M.apply(l,U)}})(I)}finally{g(T),x=!1}}}}function S(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(p)===0&&v(+T.data.slice(p.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Cn<"u"?Cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Zg);var sN=Zg.exports;const Tp=Vi(sN),lN=({result:e,onReset:t,onReturnToPlanning:n,onGenerateNext:r,onChapterUpdate:i,onGenerateGuide:o,isGeneratingNext:s,onAddGlobalInstruction:l,onUpdateGenres:a})=>{const[c,f]=ae.useState(1),[p,h]=ae.useState([]),[m,x]=ae.useState(""),[y,C]=ae.useState(!1),[g,v]=ae.useState(!1),[S,T]=ae.useState(!0),[I,A]=ae.useState(!1),[M,U]=ae.useState(!1),[D,O]=ae.useState(!1),[K,N]=ae.useState(null),H=ae.useRef(null),w=999,B=888,Z=e.chapters.find(_=>_.number===c)||e.chapters[0],J=e.chapters.findIndex(_=>_.number===c),F=e.chapters.find(_=>_.number===c+1),L=Z.number===e.chapters.length,[k,z]=ae.useState([]);ae.useEffect(()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)},[p,S]),ae.useEffect(()=>{h([]),v(!1),z([])},[c]);const V=async _=>{if(_.preventDefault(),!m.trim())return;z(W=>[...W,Z.content]);const $={role:"user",text:m};h(W=>[...W,$]),x(""),C(!0);try{const W=await aT(Z.content,m),b={role:"model",text:" .  . (       .)"};h(P=>[...P,b]),i(J,W),l(m)}catch{h(b=>[...b,{role:"model",text:" ."}])}finally{C(!1)}},R=()=>{if(k.length===0)return;const _=k[k.length-1];i(J,_),z($=>$.slice(0,-1)),h($=>[...$,{role:"model",text:"   ."}])},Q=_=>_.replace(/^\[SCENE.*?\]\s*$/gm,"").replace(/^\[.*?\]:?\s*/gm,"").replace(/\(.*?\)/g,"").replace(/\[.*?\]/g,"").replace(/^[^:\n]{1,20}:\s*/gm,"").replace(/\n\s*\n/g,`
`).trim(),j=_=>{let $=Z.content,W="";_==="clean"&&($=Q($),W="_");const b=new Blob([$],{type:"text/plain;charset=utf-8"}),P=URL.createObjectURL(b),G=document.createElement("a");G.href=P;const X=e.title.replace(/[^a-zA-Z0-9-]/g,"_");G.download=`Chapter${Z.number}_${X}${W}.txt`,G.click(),URL.revokeObjectURL(P)},de=async()=>{if(Z.content){U(!0);try{const _=await uT(Z.content);i(J,_),alert("  !")}catch{alert("  .")}finally{U(!1)}}},ve=_=>{i(J,_.target.value)},he=async()=>{const _=new Tp;_.file(".txt",`: ${e.title}

[   ]
${e.analysis}`),e.chapters.forEach($=>{if($.status==="completed"){const W=`${$.number}_${$.title.replace(/[^a-zA-Z0-9-]/g,"_")}.txt`;_.file(W,$.content)}});try{const $=e.chapters.length,W=await _.generateAsync({type:"blob"}),b=URL.createObjectURL(W),P=document.createElement("a");P.href=b,P.download=`[${$}]_${e.title.replace(/[^a-zA-Z0-9-]/g,"_")}_.zip`,P.click(),URL.revokeObjectURL(b)}catch($){console.error("ZIP  :",$),alert("     .")}},ge=async()=>{const _=new Tp;_.file(".txt",`: ${e.title}

[   ]
${e.analysis}`),e.chapters.forEach($=>{if($.status==="completed"){const W=`${$.number}_${$.title.replace(/[^a-zA-Z0-9-]/g,"_")}_.txt`,b=Q($.content);_.file(W,b)}});try{const $=e.chapters.length,W=await _.generateAsync({type:"blob"}),b=URL.createObjectURL(W),P=document.createElement("a");P.href=b,P.download=`[${$}]_${e.title.replace(/[^a-zA-Z0-9-]/g,"_")}_.zip`,P.click(),URL.revokeObjectURL(b)}catch($){console.error("ZIP  :",$),alert("     .")}},ke=async()=>{A(!0),await o(),A(!1)},Te=()=>{F&&F.status==="completed"?f(F.number):F&&F.status==="pending"?r(J+1).then(()=>{f(F.number)}):F||r(J+1).then(()=>{f(Z.number+1)})},ct=async()=>{if(f(B),!K){O(!0);try{const _=e.chapters.map(W=>W.content).join(`

`),$=await pT(_);N($)}catch(_){console.error(_),alert("   ")}finally{O(!1)}}},Ze=_=>{if(!K)return;let $=K,W="";_==="clean"&&($=Q($),W="_");const b=new Blob([$],{type:"text/plain;charset=utf-8"}),P=URL.createObjectURL(b),G=document.createElement("a");G.href=P;const X=e.title.replace(/[^a-zA-Z0-9-]/g,"_");G.download=`Shorts_Script_${X}${W}.txt`,G.click(),URL.revokeObjectURL(P)};return E.jsxs("div",{className:"h-screen flex flex-col md:flex-row overflow-hidden bg-slate-900",children:[E.jsxs("div",{className:"bg-slate-950 p-4 md:p-6 border-b md:border-b-0 md:border-r border-slate-800 flex flex-col w-full md:w-80 shrink-0 z-30 overflow-y-auto hide-scrollbar md:pt-16",children:[E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-1 gap-2 mb-6",children:[E.jsx(st,{variant:"secondary",onClick:n,className:"text-xs md:text-sm font-serif py-3",children:"  "}),E.jsx(st,{variant:"danger",onClick:t,className:"text-xs md:text-sm font-serif py-3",children:"  "}),E.jsx(st,{variant:"primary",onClick:he,className:"col-span-2 md:col-span-1 py-3 text-sm font-serif bg-indigo-700",children:"   (.txt)"}),E.jsx(st,{variant:"primary",onClick:ge,className:"col-span-2 md:col-span-1 py-3 text-sm font-serif bg-emerald-700",children:"   "})]}),E.jsx("div",{className:"h-px bg-slate-800 mb-6"}),E.jsxs("div",{className:"w-full",children:[E.jsx("h2",{className:"text-lg font-bold text-amber-500 font-serif mb-4 truncate",children:e.title}),E.jsxs("div",{className:"flex overflow-x-auto md:flex-col gap-2 w-full pb-2 md:pb-0 hide-scrollbar",children:[E.jsx("button",{onClick:()=>f(0),className:`flex-shrink-0 text-left px-4 py-3 rounded-lg text-sm font-bold font-serif transition-colors border ${c===0?"bg-amber-900/40 text-amber-200 border-amber-600":"bg-slate-900 text-slate-400 border-slate-800"}`,children:"  "}),E.jsx("div",{className:"h-px bg-slate-800 my-2 hidden md:block"}),e.chapters.map(_=>{let $=c===_.number?"bg-amber-900/60 text-amber-100 border-amber-500":"bg-slate-900 text-slate-300 border-slate-700";return _.status==="generating"&&($="bg-amber-900/20 text-amber-400 border-amber-500 animate-pulse"),E.jsxs("button",{onClick:()=>f(_.number),className:`flex-shrink-0 text-left px-4 py-3 rounded-lg text-sm font-bold font-serif transition-colors border flex justify-between items-center ${$}`,children:[E.jsxs("span",{className:"truncate mr-2",children:[_.number,". ",_.title]}),E.jsx("span",{className:"text-xs",children:_.status==="completed"?"":_.status==="generating"?"":""})]},_.number)}),E.jsx("div",{className:"h-px bg-slate-800 my-2 hidden md:block"}),E.jsx("button",{onClick:()=>f(w),className:`flex-shrink-0 text-left px-4 py-3 rounded-lg text-sm font-bold font-serif transition-colors border ${c===w?"bg-indigo-900/60 text-indigo-200 border-indigo-500":"bg-slate-900 text-slate-400 border-slate-800"}`,children:" / "}),E.jsx("button",{onClick:ct,className:`flex-shrink-0 text-left px-4 py-3 rounded-lg text-sm font-bold font-serif transition-colors border ${c===B?"bg-rose-900/60 text-rose-200 border-rose-500":"bg-slate-900 text-slate-400 border-slate-800"}`,children:" () "})]})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative bg-[#1a1c23]",children:[E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-12 custom-scrollbar pb-40 pt-20",children:[c===0&&E.jsxs("div",{className:"max-w-3xl mx-auto animate-fade-in",children:[E.jsxs("h3",{className:"text-2xl font-bold text-amber-500 font-serif mb-6 border-b border-slate-700 pb-4",children:["[] ",e.title]}),e.genres&&e.genres.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:e.genres.map(_=>E.jsxs("span",{className:"px-3 py-1 bg-indigo-900/50 text-indigo-200 text-sm font-bold border border-indigo-500/30 rounded-full flex items-center gap-2 group",children:["#",_,a&&E.jsx("button",{onClick:()=>a(e.genres.filter($=>$!==_)),className:"w-4 h-4 flex items-center justify-center rounded-full bg-indigo-800 text-indigo-400 hover:bg-red-500 hover:text-white transition-colors opacity-0 group-hover:opacity-100",title:" ",children:""})]},_))}),E.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-slate-700 text-slate-300 leading-8 font-serif whitespace-pre-wrap",children:[E.jsx("h4",{className:"text-indigo-400 font-bold mb-2",children:" "}),e.analysis]}),e.characterDescriptions&&E.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-slate-700 text-slate-300 leading-8 font-serif whitespace-pre-wrap mt-6",children:[E.jsx("h4",{className:"text-indigo-400 font-bold mb-2",children:" "}),e.characterDescriptions]})]}),c===w&&E.jsxs("div",{className:"max-w-5xl mx-auto animate-fade-in",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-indigo-400 font-serif",children:"  "}),E.jsx(st,{onClick:ke,isLoading:I,children:e.productionGuide?" ":""})]}),e.productionGuide&&E.jsxs("div",{className:"grid gap-8",children:[E.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:e.productionGuide.thumbnails.map((_,$)=>E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-600",children:[E.jsx("div",{className:"h-40 bg-black flex items-center justify-center p-2 mb-3 text-center",children:E.jsx("p",{className:"text-yellow-400 font-black text-xl whitespace-pre-line leading-tight",style:{textShadow:"2px 2px 0 #000"},children:_.text})}),E.jsx("p",{className:"text-xs text-slate-400",children:_.imagePrompt})]},$))}),E.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.productionGuide.introSequence.map((_,$)=>E.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-600",children:[E.jsxs("span",{className:"bg-indigo-600 text-white text-xs px-2 py-1 rounded",children:["CUT ",_.cutNumber||$+1]}),E.jsx("p",{className:"mt-2 text-sm text-slate-300",children:_.imagePrompt}),E.jsxs("p",{className:"mt-2 text-sm text-green-400 italic",children:['"',_.narration,'"']})]},$))})]})]}),c===B&&E.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[E.jsx("h3",{className:"text-2xl font-bold text-rose-500 font-serif mb-6 border-b border-slate-700 pb-4",children:" () "}),D?E.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mb-6"}),E.jsx("p",{className:"text-xl text-rose-500 font-serif animate-pulse",children:"      ..."})]}):K?E.jsxs("div",{className:"bg-slate-800 p-8 rounded-xl border border-slate-700",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400 bg-slate-900 px-2 py-1 rounded",children:"1  (Shorts)"}),E.jsxs("div",{className:"flex bg-slate-900 rounded border border-slate-700 p-1 gap-1",children:[E.jsx("button",{onClick:()=>Ze("basic"),className:"text-xs px-2 py-1 bg-slate-700 text-slate-200 rounded hover:bg-slate-600",title:",  ",children:" "}),E.jsx("button",{onClick:()=>Ze("clean"),className:"text-xs px-2 py-1 bg-green-900/50 text-green-300 rounded hover:bg-green-800",title:"   ",children:" "})]})]}),E.jsx("div",{className:"prose prose-invert prose-lg max-w-none font-serif text-slate-200 leading-9 whitespace-pre-wrap",children:K})]}):E.jsx("div",{className:"text-center py-20 text-slate-500",children:"  .  ."})]}),c>0&&c!==w&&c!==B&&E.jsx("div",{className:"max-w-4xl mx-auto animate-fade-in",children:Z.status==="generating"?E.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[E.jsx("div",{className:"w-16 h-16 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-6"}),E.jsxs("p",{className:"text-2xl text-amber-500 font-serif animate-pulse",children:[Z.title,"  ..."]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex justify-between items-end border-b border-slate-700 pb-4 mb-8",children:[E.jsxs("div",{children:[E.jsxs("span",{className:"text-amber-600 font-bold text-sm tracking-wider",children:["CHAPTER ",Z.number]}),E.jsx("h1",{className:"text-3xl font-bold text-slate-100 font-serif mt-1",children:Z.title})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("div",{className:"flex bg-slate-800 rounded border border-slate-700 p-1 gap-1",children:[E.jsx("button",{onClick:()=>j("basic"),className:"text-xs px-2 py-1 bg-slate-700 text-slate-200 rounded hover:bg-slate-600",title:",  ",children:" "}),E.jsx("button",{onClick:()=>j("clean"),className:"text-xs px-2 py-1 bg-green-900/50 text-green-300 rounded hover:bg-green-800",title:"   ",children:" "})]}),E.jsx("button",{onClick:de,disabled:M,className:"text-xs md:text-sm px-3 py-1 bg-indigo-900/30 text-indigo-300 border border-indigo-700 rounded hover:bg-indigo-900",children:M?"...":"  "}),E.jsx("button",{onClick:()=>v(!g),className:"text-xs md:text-sm px-3 py-1 bg-slate-800 text-slate-400 border border-slate-700 rounded hover:text-white",children:g?"":""})]})]}),g?E.jsx("textarea",{value:Z.content,onChange:ve,className:"w-full h-[60vh] bg-slate-800 text-slate-200 p-6 rounded-lg font-serif text-lg leading-9 outline-none border border-slate-700 resize-none custom-scrollbar"}):E.jsx("div",{className:"prose prose-invert prose-lg max-w-none font-serif text-slate-200 leading-9 min-h-[50vh]",children:E.jsx(tN,{children:Z.content})}),E.jsxs("div",{className:"mt-12 py-8 border-t border-slate-800 flex justify-center flex-col items-center gap-4",children:[L&&Z.status==="completed"&&E.jsxs("div",{className:"p-4 bg-amber-900/20 border border-amber-600/50 rounded-xl text-center mb-4",children:[E.jsx("h3",{className:"text-lg font-bold text-amber-400 font-serif",children:" ."}),E.jsx("p",{className:"text-slate-400 text-xs",children:"          ."})]}),E.jsx(st,{onClick:Te,disabled:s,className:"bg-green-700 hover:bg-green-600 text-white px-8 py-3 text-lg font-serif",children:(F==null?void 0:F.status)==="completed"?"   ":L?"   ( ) ":"   "})]})]})})]}),c>0&&c!==w&&c!==B&&Z.status==="completed"&&E.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-xl border-t border-slate-700 transition-all duration-300 z-20 ${S?"h-auto":"h-14"}`,children:[E.jsx("button",{onClick:()=>T(!S),className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-slate-800 text-slate-300 px-4 py-1 rounded-t-lg border border-slate-700 text-xs font-bold hover:bg-slate-700 shadow-xl",children:S?"  ":" AI   "}),S&&E.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[p.length>0?E.jsx("div",{className:"mb-4 max-h-40 overflow-y-auto custom-scrollbar space-y-4 p-4 border border-slate-700 rounded-lg bg-slate-950",ref:H,children:p.map((_,$)=>E.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-2 text-sm ${_.role==="user"?"bg-amber-700 text-white":"bg-slate-800 text-slate-200"}`,children:_.text})},$))}):E.jsxs("div",{className:"mb-4 p-4 border border-slate-700 rounded-lg bg-slate-950/50 text-center text-slate-500 text-sm",children:["    . ",E.jsx("br",{}),'"   "    .']}),E.jsxs("form",{onSubmit:V,className:"flex gap-3",children:[k.length>0&&E.jsx("button",{type:"button",onClick:R,className:"bg-slate-700 hover:bg-slate-600 text-slate-300 px-3 rounded-lg text-xl",title:" ",children:""}),E.jsx("input",{type:"text",value:m,onChange:_=>x(_.target.value),placeholder:":      ",className:"flex-1 bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white outline-none focus:border-amber-500",disabled:y}),E.jsx(st,{type:"submit",isLoading:y,children:""})]})]})]})]})]})},kp={users:[]},Xg=async()=>{try{const e=await fetch(`${Ae.remoteJsonUrl}?t=${Date.now()}`);if(!e.ok)throw new Error("Failed to fetch user database");const t=await e.json();return Array.isArray(t.approvedNicknames)?kp:t}catch(e){return console.error("Error fetching user DB:",e),kp}},aN=async(e,t)=>{if(t===Ae.masterKey)return{success:!0};const r=(await Xg()).users.find(i=>i.nickname===e);return r?r.accessCode!==t?{success:!1,message:"   ."}:{success:!0}:{success:!1,message:"  .  ."}},uN=({onLogin:e})=>{const[t,n]=ae.useState(""),[r,i]=ae.useState(""),[o,s]=ae.useState(""),[l,a]=ae.useState(!1),c=async f=>{f.preventDefault(),s(""),a(!0);try{if(r===Ae.masterKey){setTimeout(()=>{const h={nickname:t||"",isAuthenticated:!0,loginTime:Date.now(),isAdmin:!0,accessCode:Ae.masterKey};localStorage.setItem(Ae.storagePrefix+"auth_user",JSON.stringify(h)),e(h)},800);return}const p=await aN(t.trim(),r.trim());if(p.success){const h={nickname:t.trim(),isAuthenticated:!0,loginTime:Date.now(),accessCode:r.trim()};localStorage.setItem(Ae.storagePrefix+"auth_user",JSON.stringify(h)),Ae.loggingWebhookUrl,e(h)}else s(p.message||" .")}catch{s("    .")}finally{a(!1)}};return E.jsx("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-700 rounded-3xl p-8 shadow-2xl relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-amber-700 to-amber-500"}),E.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-amber-500/10 rounded-full blur-3xl"}),E.jsxs("div",{className:"text-center mb-10 relative z-10",children:[E.jsx("h1",{className:"text-3xl font-bold text-amber-500 font-serif mb-2",children:Ae.siteTitle}),E.jsx("p",{className:"text-slate-400 text-sm",children:"    ."})]}),E.jsxs("form",{onSubmit:c,className:"space-y-6 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-slate-300 text-sm font-bold mb-2 ml-1",children:""}),E.jsx("input",{type:"text",value:t,onChange:f=>n(f.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-xl px-4 py-3 text-white outline-none focus:border-amber-500 transition-colors",placeholder:": ",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-slate-300 text-sm font-bold mb-2 ml-1",children:"  "}),E.jsx("input",{type:"password",value:r,onChange:f=>i(f.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-xl px-4 py-3 text-white outline-none focus:border-amber-500 transition-colors font-mono",placeholder:"   ",required:!0})]}),o&&E.jsx("div",{className:"p-3 bg-red-900/30 border border-red-800 rounded-lg text-red-400 text-sm text-center animate-pulse",children:o}),E.jsx(st,{type:"submit",isLoading:l,className:"w-full py-4 text-lg font-bold bg-amber-700 hover:bg-amber-600 shadow-lg shadow-amber-900/40",children:" "}),E.jsxs("p",{className:"text-center text-slate-600 text-xs mt-4",children:["   : ",Ae.adminContact]})]})]})})},cN=({isOpen:e,onClose:t,user:n})=>{const[r,i]=ae.useState(""),[o,s]=ae.useState(""),[l,a]=ae.useState(!1),[c,f]=ae.useState(!1),[p,h]=ae.useState(!1),[m,x]=ae.useState({users:[]}),[y,C]=ae.useState(""),[g,v]=ae.useState(""),[S,T]=ae.useState("api"),I=ae.useRef(null);ae.useEffect(()=>{if(e){const B=localStorage.getItem(Ae.storagePrefix+"gemini_api_key"),Z=localStorage.getItem(Ae.storagePrefix+"youtube_api_key");B?(i(B),a(!0)):a(!1),Z&&s(Z),n!=null&&n.isAdmin&&(T("users"),Xg().then(J=>{J.users&&x(J)}))}},[e,n]);const A=()=>{if(!r.trim()){alert("API Key .");return}localStorage.setItem(Ae.storagePrefix+"gemini_api_key",r.trim()),o.trim()?localStorage.setItem(Ae.storagePrefix+"youtube_api_key",o.trim()):localStorage.removeItem(Ae.storagePrefix+"youtube_api_key"),a(!0),alert(" .")},M=()=>{window.confirm(" API Key   ?")&&(localStorage.removeItem(Ae.storagePrefix+"gemini_api_key"),localStorage.removeItem(Ae.storagePrefix+"youtube_api_key"),i(""),s(""),a(!1),alert("."))},U=B=>{var F;const Z=(F=B.target.files)==null?void 0:F[0];if(!Z)return;const J=new FileReader;J.onload=L=>{var k;try{const z=(k=L.target)==null?void 0:k.result,V=JSON.parse(z);Array.isArray(V.users)?(x(V),alert(` !  ${V.users.length}  .`)):alert(" users.json  . (users  )")}catch{alert("JSON   .   .")}},J.readAsText(Z),B.target.value=""},D=()=>Math.random().toString(36).substring(2,10),O=()=>{if(!y.trim()){alert(" .");return}if(m.users.some(F=>F.nickname===y.trim())){if(!window.confirm(`'${y}'   . ? (  )`))return;x(F=>({...F,users:F.users.filter(L=>L.nickname!==y.trim())}))}const B=new Date().toISOString().split("T")[0],Z=D(),J={nickname:y.trim(),accessCode:Z,joinedDate:B,lastRenewedDate:B,memo:g.trim()};x(F=>({...F,users:[J,...F.users]})),C(""),v("")},K=B=>{window.confirm(`${B}  ?  .`)&&x(Z=>({...Z,users:Z.users.filter(J=>J.nickname!==B)}))},N=B=>{if(!window.confirm(`${B}      ?`))return;const Z=new Date().toISOString().split("T")[0];x(J=>({...J,users:J.users.map(F=>F.nickname===B?{...F,lastRenewedDate:Z}:F)}))},H=()=>{const B=JSON.stringify(m,null,2),Z=new Blob([B],{type:"application/json"}),J=URL.createObjectURL(Z),F=document.createElement("a");F.href=J,F.download="users.json",document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(J),alert(`users.json  .

[ ]
    ()   / .`)},w=B=>{if(!B)return 0;const Z=new Date,J=new Date(B),F=Math.abs(Z.getTime()-J.getTime());return Math.ceil(F/(1e3*60*60*24))};return e?E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl p-6 shadow-2xl relative max-h-[90vh] overflow-y-auto custom-scrollbar flex flex-col",children:[E.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-500 hover:text-white transition-colors",children:""}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:" "}),E.jsxs("div",{className:"flex border-b border-slate-700 mb-6",children:[E.jsx("button",{onClick:()=>T("api"),className:`px-4 py-2 font-bold transition-colors ${S==="api"?"text-indigo-400 border-b-2 border-indigo-400":"text-slate-500 hover:text-slate-300"}`,children:"API  "}),(n==null?void 0:n.isAdmin)&&E.jsx("button",{onClick:()=>T("users"),className:`px-4 py-2 font-bold transition-colors ${S==="users"?"text-amber-400 border-b-2 border-amber-400":"text-slate-500 hover:text-slate-300"}`,children:"   (1 1)"})]}),S==="api"&&E.jsx("div",{className:"space-y-6",children:E.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[E.jsx("h3",{className:"text-lg font-bold text-amber-500 mb-4 font-serif",children:" Gemini API Key ()"}),E.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Google AI Studio  API Key .",E.jsx("br",{}),"  ( ) ."]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:c?"text":"password",value:r,onChange:B=>i(B.target.value),placeholder:"AIza...",className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white mb-4 outline-none focus:border-amber-500 pr-12"}),E.jsx("button",{type:"button",onClick:()=>f(!c),className:"absolute right-3 top-3 text-slate-400 hover:text-white text-xl",title:c?"":"",children:c?"":""})]}),E.jsx("h3",{className:"text-lg font-bold text-red-500 mb-4 font-serif mt-8",children:" YouTube Data API Key ()"}),E.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["        .",E.jsx("br",{}),"(  AI    .)"]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:p?"text":"password",value:o,onChange:B=>s(B.target.value),placeholder:"AIza...",className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white mb-4 outline-none focus:border-red-500 pr-12"}),E.jsx("button",{type:"button",onClick:()=>h(!p),className:"absolute right-3 top-3 text-slate-400 hover:text-white text-xl",title:p?"":"",children:p?"":""})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(st,{onClick:A,className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:""}),l&&E.jsx(st,{variant:"danger",onClick:M,className:"flex-1",children:""})]})]})}),S==="users"&&(n==null?void 0:n.isAdmin)&&E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-600",children:[E.jsx("h3",{className:"text-white font-bold mb-3 flex items-center gap-2",children:" 1:   "}),E.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["   ",E.jsx("code",{children:"users.json"}),"     .",E.jsx("br",{}),"(      )"]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("input",{type:"file",accept:".json",ref:I,onChange:U,className:"hidden"}),E.jsx(st,{onClick:()=>{var B;return(B=I.current)==null?void 0:B.click()},variant:"secondary",className:"bg-slate-700 hover:bg-slate-600 border-slate-500",children:"  (users.json)"}),E.jsxs("span",{className:"text-amber-400 font-bold text-sm",children:["  : ",m.users.length,""]})]})]}),E.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[E.jsx("h3",{className:"text-white font-bold mb-3",children:" 2:    ( )"}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-2",children:[E.jsx("input",{type:"text",value:y,onChange:B=>C(B.target.value),className:"flex-1 bg-slate-900 border border-slate-600 rounded px-3 py-3 text-white text-sm",placeholder:" (: )"}),E.jsx("input",{type:"text",value:g,onChange:B=>v(B.target.value),className:"flex-1 bg-slate-900 border border-slate-600 rounded px-3 py-3 text-white text-sm",placeholder:" (: 1 )"}),E.jsx(st,{onClick:O,className:"bg-green-600 hover:bg-green-500 text-sm py-3 px-6 whitespace-nowrap shadow-lg",children:"   "})]}),E.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"*       ."})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold mb-3 flex justify-between items-center",children:E.jsx("span",{children:" 3:    "})}),E.jsx("div",{className:"bg-slate-950 border border-slate-800 rounded-xl overflow-hidden max-h-[300px] overflow-y-auto custom-scrollbar",children:m.users.length===0?E.jsx("p",{className:"p-8 text-slate-600 text-center text-sm",children:" . 1  ."}):E.jsxs("table",{className:"w-full text-sm text-left text-slate-300",children:[E.jsx("thead",{className:"bg-slate-900 text-slate-500 font-bold uppercase text-xs sticky top-0 z-10",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-3 bg-slate-900",children:""}),E.jsx("th",{className:"px-4 py-3 bg-slate-900",children:"  ()"}),E.jsx("th",{className:"px-4 py-3 bg-slate-900",children:"/"}),E.jsx("th",{className:"px-4 py-3 bg-slate-900",children:""}),E.jsx("th",{className:"px-4 py-3 text-right bg-slate-900",children:""})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:m.users.map((B,Z)=>{const J=w(B.lastRenewedDate),F=J>30;return E.jsxs("tr",{className:"hover:bg-slate-900/50",children:[E.jsxs("td",{className:"px-4 py-3 font-bold text-white",children:[B.nickname,B.memo&&E.jsx("span",{className:"block text-xs text-slate-500 font-normal",children:B.memo})]}),E.jsx("td",{className:"px-4 py-3 font-mono text-amber-400",children:E.jsx("span",{className:"cursor-pointer hover:bg-amber-900/50 px-1 rounded transition-colors select-all",onClick:()=>{navigator.clipboard.writeText(B.accessCode),alert(`[${B.accessCode}] `)},title:" ",children:B.accessCode})}),E.jsx("td",{className:"px-4 py-3 text-xs text-slate-500",children:B.joinedDate}),E.jsx("td",{className:"px-4 py-3",children:F?E.jsxs("span",{className:"text-red-400 font-bold text-xs flex items-center gap-1 animate-pulse",children:["  (",J,")"]}):E.jsxs("span",{className:"text-green-400 font-bold text-xs flex items-center gap-1",children:["  (",J,")"]})}),E.jsxs("td",{className:"px-4 py-3 text-right flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>N(B.nickname),className:"text-indigo-300 hover:text-white text-xs px-2 py-1 rounded bg-indigo-900/30 border border-indigo-700",title:"  ",children:" "}),E.jsx("button",{onClick:()=>K(B.nickname),className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 rounded bg-red-900/20 border border-red-900/50",children:""})]})]},Z)})})]})})]}),E.jsxs("div",{className:"pt-6 border-t border-slate-800 bg-slate-900 sticky bottom-0",children:[E.jsx("h3",{className:"text-white font-bold mb-3",children:" 4:   "}),E.jsx(st,{onClick:H,className:"w-full py-5 text-lg bg-green-700 hover:bg-green-600 font-bold shadow-lg flex items-center justify-center gap-2 text-white",children:"    (users.json )"}),E.jsxs("p",{className:"text-center text-slate-500 text-xs mt-2",children:[" ",E.jsx("code",{children:"users.json"}),"    ()   ."]})]})]})]})}):null};var it=(e=>(e.INPUT="INPUT",e.PLANNING="PLANNING",e.PLAN_EDIT="PLAN_EDIT",e.WRITING="WRITING",e.RESULT="RESULT",e.ERROR="ERROR",e))(it||{});const xo=Ae.storagePrefix+"project_backup",xl=Ae.storagePrefix+"auth_user",dN=()=>{var J,F;const[e,t]=ae.useState(null),[n,r]=ae.useState(!1),[i,o]=ae.useState(it.INPUT),[s,l]=ae.useState(null),[a,c]=ae.useState(null),[f,p]=ae.useState(null),[h,m]=ae.useState(null),[x,y]=ae.useState(!1),[C,g]=ae.useState(!1);ae.useEffect(()=>{const L=localStorage.getItem(xl);if(L)try{const k=JSON.parse(L);k.isAuthenticated&&t(k)}catch{localStorage.removeItem(xl)}},[]),ae.useEffect(()=>{if(e){const L=localStorage.getItem(xo);if(L)try{const k=JSON.parse(L);k.appState&&k.appState!==it.INPUT&&(o(k.appState),l(k.requestData),c(k.analysisResult),p(k.finalResult))}catch{}}},[e]),ae.useEffect(()=>{if(e&&i!==it.INPUT){const L={appState:i,requestData:s,analysisResult:a,finalResult:f};localStorage.setItem(xo,JSON.stringify(L))}},[e,i,s,a,f]);const v=L=>t(L),S=()=>{localStorage.removeItem(xl),localStorage.removeItem(xo),t(null),o(it.INPUT),p(null),c(null),l(null)},T=async L=>{l(L),m(null),y(!0);try{const k=await sT(L);c(k),o(it.PLAN_EDIT)}catch(k){console.error(k),m(k.message||"    .    ."),o(it.INPUT)}finally{y(!1)}},I=async(L,k)=>{var V;if(!s||!a)return;const z={...a,plan:L};c(z),g(!0);try{const Q={...await lT(z.plan,s.region,((V=z.plan.config)==null?void 0:V.episodeCount)||"6"),genres:s.config.genres,analysis:z.plan.plotSummary,characterDescriptions:z.plan.characterDescriptions};p(Q),o(it.RESULT),k==="batch"&&A(Q,z.plan,s.region)}catch(R){console.error(R),m("    : "+R.message)}finally{g(!1)}},A=async(L,k,z)=>{let V={...L};const R=6;for(let Q=1;Q<R;Q++)V.chapters[Q]={number:Q+1,title:`${Q+1}`,content:"",status:"pending"};p(V);for(let Q=1;Q<R;Q++){p(j=>{if(!j)return null;const de=[...j.chapters];return de[Q].status="generating",{...j,chapters:de}});try{const{title:j,content:de}=await Mf(V.chapters,Q,k,z,Q===R-1,M);V.chapters[Q]={...V.chapters[Q],title:j,content:de,status:"completed"},p({...V}),await new Promise(ve=>setTimeout(ve,1e3))}catch(j){console.error(`${Q+1}  :`,j),m(`${Q+1}     . (   )`),p(de=>{if(!de)return null;const ve=[...de.chapters];return ve[Q].status="pending",{...de,chapters:ve}});break}}},[M,U]=ae.useState([]),D=L=>{U(k=>[...k,L]),alert(`   : "${L}"
(    .)`)},O=async L=>{if(!f||!a||!s)return;const k=!f.chapters[L],z=k||L+1===f.chapters.length;let V=[...f.chapters];k?V.push({number:L+1,title:z?`${L+1} ()`:`${L+1}`,content:"",status:"generating"}):V[L].status="generating";const R={...f,chapters:V};p(R);try{const{title:Q,content:j}=await Mf(V,L,a.plan,s.region,z,M),de=[...R.chapters];de[L].status="completed",de[L].title=Q,de[L].content=j,p({...R,chapters:de})}catch(Q){console.error(Q),m("   : "+Q.message);const j=[...f.chapters];j[L]&&(j[L].status="pending"),p({...f,chapters:j})}},K=async()=>{if(f)try{const L=f.chapters.map(z=>`[${z.title}]
${z.content}`).join(`

`),k=await cT(L);p({...f,productionGuide:k})}catch(L){alert("   : "+L.message)}},N=(L,k)=>{if(!f)return;const z=[...f.chapters];z[L]&&(z[L].content=k,p({...f,chapters:z}))},H=()=>{window.confirm(" ?  .")&&(localStorage.removeItem(xo),p(null),c(null),l(null),o(it.INPUT),m(null))},w=L=>{f&&p({...f,genres:L})},B=()=>{window.confirm("  ? (   )")&&o(it.PLAN_EDIT)},Z=()=>{o(it.RESULT)};return e?E.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-amber-500/30 relative",children:[E.jsxs("div",{className:"absolute top-0 right-0 p-4 z-[100] flex gap-3 items-center pointer-events-auto",children:[E.jsxs("span",{className:"text-slate-500 text-sm hidden md:inline",children:[": ",E.jsx("span",{className:"text-amber-500 font-bold",children:e.nickname})]}),E.jsx("button",{onClick:()=>r(!0),className:"bg-slate-800 p-2 rounded-full border border-slate-600 hover:bg-slate-700 transition-colors",children:""}),E.jsx("button",{onClick:S,className:"bg-slate-800 p-2 rounded-full border border-slate-600 hover:text-red-400 hover:bg-slate-700 transition-colors",children:""})]}),E.jsx(cN,{isOpen:n,onClose:()=>r(!1),user:e}),h&&E.jsxs("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 bg-red-900/90 border border-red-500 text-white px-8 py-4 rounded-xl shadow-2xl z-[100] animate-bounce max-w-[90vw]",children:[" ",h," ",E.jsx("button",{onClick:()=>m(null),className:"ml-4 opacity-70 hover:opacity-100 font-bold",children:""})]}),i===it.INPUT&&E.jsx(yT,{onSubmit:T,isLoading:x,initialData:s}),i===it.PLAN_EDIT&&a&&E.jsx(vT,{plan:a,onConfirm:I,onCancel:()=>o(it.INPUT),isLoading:C,hasExistingScript:!!f,onReturnToScript:Z}),i===it.RESULT&&f&&E.jsx(lN,{result:{title:f.title,chapters:f.chapters,analysis:((J=a==null?void 0:a.plan)==null?void 0:J.plotSummary)||"",characterDescriptions:(F=a==null?void 0:a.plan)==null?void 0:F.characterDescriptions,productionGuide:f.productionGuide,genres:f.genres},onReset:H,onReturnToPlanning:B,onGenerateNext:O,onChapterUpdate:N,onGenerateGuide:K,isGeneratingNext:f.chapters.some(L=>L.status==="generating"),onAddGlobalInstruction:D,onUpdateGenres:w})]}):E.jsx(uN,{onLogin:v})},jg=document.getElementById("root");if(!jg)throw new Error("Could not find root element to mount to");const fN=_l.createRoot(jg);fN.render(E.jsx(yy.StrictMode,{children:E.jsx(dN,{})}));
