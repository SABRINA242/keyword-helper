<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµ¬ê¸€ ì•Œë¦¬ë¯¸ RSS í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .rss-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }
        
        .test-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: all 0.3s ease;
        }
        
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
        
        .test-btn:disabled {
            background: #7f8c8d;
            cursor: not-allowed;
            transform: none;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            display: none;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 10px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .results {
            margin-top: 30px;
            display: none;
        }
        
        .result-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #27ae60;
        }
        
        .result-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .result-link {
            color: #3498db;
            text-decoration: none;
            font-size: 0.9em;
        }
        
        .result-date {
            color: #7f8c8d;
            font-size: 0.8em;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #f5c6cb;
            margin-top: 20px;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #c3e6cb;
            margin-top: 20px;
        }
        
        .keywords-extracted {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .keyword-tag {
            display: inline-block;
            background: #2196f3;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            margin: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’° êµ¬ê¸€ ì•Œë¦¬ë¯¸ RSS í…ŒìŠ¤íŠ¸</h1>
            <p>ì‹¤ì œ "ì§€ì›ê¸ˆ" RSS í”¼ë“œì—ì„œ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•´ë´…ì‹œë‹¤!</p>
        </div>
        
        <div class="rss-info">
            <strong>ğŸ“¡ í…ŒìŠ¤íŠ¸ RSS í”¼ë“œ:</strong><br>
            <code style="font-size: 0.9em; word-break: break-all;">
                https://www.google.com/alerts/feeds/17606266067575828344/4177095888204010041
            </code><br>
            <strong>ğŸ¯ í‚¤ì›Œë“œ:</strong> "ì§€ì›ê¸ˆ"
        </div>
        
        <button class="test-btn" onclick="testRssFeed()" id="testBtn">
            ğŸš€ RSS í”¼ë“œ í…ŒìŠ¤íŠ¸ ì‹œì‘
        </button>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            RSS í”¼ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...
        </div>
        
        <div id="results" class="results">
            <h3>ğŸ“Š RSS í”¼ë“œ ê²°ê³¼</h3>
            <div id="resultItems"></div>
        </div>
        
        <div id="keywords" class="keywords-extracted" style="display: none;">
            <h3>ğŸ” ì¶”ì¶œëœ í‚¤ì›Œë“œë“¤</h3>
            <div id="keywordTags"></div>
        </div>
    </div>
    
    <script>
        async function testRssFeed() {
            const testBtn = document.getElementById('testBtn');
            const loading = document.getElementById('loading');
            const results = document.getElementById('results');
            const keywords = document.getElementById('keywords');
            
            // ì´ˆê¸°í™”
            testBtn.disabled = true;
            testBtn.textContent = 'í…ŒìŠ¤íŠ¸ ì¤‘...';
            loading.style.display = 'block';
            results.style.display = 'none';
            keywords.style.display = 'none';
            
            // ê¸°ì¡´ ê²°ê³¼ ì‚­ì œ
            document.getElementById('resultItems').innerHTML = '';
            document.getElementById('keywordTags').innerHTML = '';
            
            try {
                // RSS í”¼ë“œ URL
                const rssUrl = "https://www.google.com/alerts/feeds/17606266067575828344/4177095888204010041";
                
                // RSSë¥¼ JSONìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë¬´ë£Œ API ì‚¬ìš©
                const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;
                
                console.log('RSS API í˜¸ì¶œ:', apiUrl);
                
                const response = await fetch(apiUrl);
                const data = await response.json();
                
                console.log('RSS ì‘ë‹µ ë°ì´í„°:', data);
                
                if (data.status === 'ok') {
                    displayResults(data);
                    extractKeywords(data.items);
                    showMessage('RSS í”¼ë“œ ì—°ë™ ì„±ê³µ! ğŸ‰', 'success');
                } else {
                    throw new Error(data.message || 'RSS í”¼ë“œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
                
            } catch (error) {
                console.error('RSS í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜:', error);
                showMessage(`ì˜¤ë¥˜ ë°œìƒ: ${error.message}`, 'error');
            } finally {
                loading.style.display = 'none';
                testBtn.disabled = false;
                testBtn.textContent = 'ğŸ”„ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸';
            }
        }
        
        function displayResults(data) {
            const results = document.getElementById('results');
            const resultItems = document.getElementById('resultItems');
            
            if (!data.items || data.items.length === 0) {
                resultItems.innerHTML = '<div class="result-item">ğŸ“­ í˜„ì¬ RSS í”¼ë“œì— ìƒˆë¡œìš´ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            } else {
                resultItems.innerHTML = data.items.map(item => `
                    <div class="result-item">
                        <div class="result-title">${item.title}</div>
                        <div class="result-date">ğŸ“… ${new Date(item.pubDate).toLocaleDateString('ko-KR')}</div>
                        <a href="${item.link}" target="_blank" class="result-link">ğŸ”— ì›ë¬¸ ë³´ê¸°</a>
                    </div>
                `).join('');
            }
            
            results.style.display = 'block';
        }
        
        function extractKeywords(items) {
            if (!items || items.length === 0) return;
            
            const keywords = new Set();
            
            items.forEach(item => {
                const title = item.title || '';
                
                // ì§€ì›ê¸ˆ ê´€ë ¨ í‚¤ì›Œë“œ ì¶”ì¶œ ë¡œì§
                if (title.includes('ì²­ë…„')) keywords.add('ì²­ë…„ ì§€ì›ê¸ˆ');
                if (title.includes('ì†Œìƒê³µì¸')) keywords.add('ì†Œìƒê³µì¸ ì§€ì›ê¸ˆ');
                if (title.includes('ì½”ë¡œë‚˜')) keywords.add('ì½”ë¡œë‚˜ ì§€ì›ê¸ˆ');
                if (title.includes('ì¬ë‚œ')) keywords.add('ì¬ë‚œì§€ì›ê¸ˆ');
                if (title.includes('ê³ ìš©')) keywords.add('ê³ ìš© ì§€ì›ê¸ˆ');
                if (title.includes('ì°½ì—…')) keywords.add('ì°½ì—… ì§€ì›ê¸ˆ');
                if (title.includes('ìœ¡ì•„')) keywords.add('ìœ¡ì•„ ì§€ì›ê¸ˆ');
                if (title.includes('ì£¼ê±°')) keywords.add('ì£¼ê±° ì§€ì›ê¸ˆ');
                if (title.includes('ìƒê³„')) keywords.add('ìƒê³„ ì§€ì›ê¸ˆ');
                if (title.includes('ì„ëŒ€ë£Œ')) keywords.add('ì„ëŒ€ë£Œ ì§€ì›ê¸ˆ');
                if (title.includes('ì „ê¸°ë£Œ')) keywords.add('ì „ê¸°ë£Œ ì§€ì›ê¸ˆ');
                if (title.includes('êµ­ë¯¼ì§€ì›ê¸ˆ')) keywords.add('êµ­ë¯¼ì§€ì›ê¸ˆ');
                if (title.includes('ì‹ ì²­')) keywords.add('ì§€ì›ê¸ˆ ì‹ ì²­');
                if (title.includes('í˜œíƒ')) keywords.add('ì •ë¶€ í˜œíƒ');
                if (title.includes('ë³µì§€')) keywords.add('ë³µì§€ í˜œíƒ');
                if (title.includes('ë…¸ì¸')) keywords.add('ë…¸ì¸ ë³µì§€');
                
                // ë” ì •êµí•œ í‚¤ì›Œë“œ ì¶”ì¶œ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥
            });
            
            if (keywords.size > 0) {
                const keywordTags = document.getElementById('keywordTags');
                keywordTags.innerHTML = Array.from(keywords).map(keyword => 
                    `<span class="keyword-tag">${keyword}</span>`
                ).join('');
                
                document.getElementById('keywords').style.display = 'block';
            }
        }
        
        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = type;
            messageDiv.textContent = message;
            document.querySelector('.container').appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }
    </script>
</body>
</html>